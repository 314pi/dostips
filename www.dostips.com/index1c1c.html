<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en-US">

<!-- Mirrored from www.dostips.com/?t=Snippets.ConditionalExecution by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 03:48:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<META http-equiv=content-type content="text/html; charset=iso-8859-1">
<META content=TRUE name=MSSmartTagsPreventParsing>
<META http-equiv=expires content=-1>
<META http-equiv=pragma content=no-cache>
<META content=all name=robots>
<META name=keywords content='dos,functions,vista,xp,command line,batch,examples,substring,variables,copies,date'>
<link rel=Stylesheet type="text/css" media=all href="_style0b84.css?v=0001">
<link rel="shortcut icon" href="favicon.ico" >
<link rel="icon" href="animated_favicon1.gif" type="image/gif" >
<title>Conditional Execution</title>
<!--index.php-->
</head>
<body>

<div class="nav">
        <br>
    <div class="navi">
        <a href='index.html'><img src='TitleDostips.jpg' height='80' alt='DosTips.com'></a>
        <br><span style="font-size: 9px; font-weight: bold;">for Windows10,Windows8,Windows7,VISTA,</span>
        <br><span style="font-size: 9px; font-weight: bold;">XP,NT,Server 2000,Server 2003,Server 2008</span>
        <br>
        <br>
            <!-- SiteSearch Google -->
<div class="search">
<script>
  (function() {
    var cx = 'partner-pub-4331089886589220:2001057635';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = '../cse.google.com/cse07b6.html?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:searchbox-only></gcse:searchbox-only>
</div>
<!-- SiteSearch Google -->
        <br>
            <ul>
        <li class='nsel'><a href='index.html'>Home</a>&nbsp;
            <ul>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Source Script</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtCodeBatchFiles.html'>Batch Files</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeFunctions.html'>Functions</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeCmdLib.html'>Function Library</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeSnippets.html'>Script Snippets</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeInterfacing.html'>Interfacing</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Tips and Tricks</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtTipsXCopy.html'>Copy Tips</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsMenu.html'>Menu in Batch</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsStringManipulation.html'>String Manipulation</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsStringOperations.html'>String Operations</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsDateTime.html'>Date and Time</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsArithmetic.html'>Arithmetic</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsFtpBatchScript.html'>FTP Batch Script</a>&nbsp;</li>
                <li class='nsel'><a href='DosCommandIndex.html'>Command Index</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Tutorials</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtTutoFirstBatch.html'>My First Batch</a>&nbsp;</li>
                <li class='nsel'><a href='DtTutoFramework.html'>Solid Framework</a>&nbsp;</li>
                <li class='nsel'><a href='DtTutoFunctions.html'>Functions</a>&nbsp;</li>
                <li class='nsel'><a href='DtTutoPersistency.html'>Persistency</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a href='forum/viewforum4d6b.html?f=3'>Forum</a>&nbsp;
            <ul>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a href='DtGeneGeneral.html'>General</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtGeneTermsOfUse.html'>Terms of Use</a>&nbsp;</li>
                <li class='nsel'><a href='DtGeneEnabler.html'>Enablers</a>&nbsp;</li>
                <li class='nsel'><a href='DtGeneAboutUs.html'>About Us</a>&nbsp;</li>
                <li class='nsel'><a href='forum/memberlist8733.html?mode=contactadmin'>Contact Us</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Others</a>&nbsp;
            <ul>
                <li class='nsel'><a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=9018663'><marquee width="120" scrollamount="2">Want donate a cup of Cafe? . click . </marquee></a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
    </ul>
    </div>
</div>
<H1>Conditional Execution</H1>
<span class='shortText'>Conditional Execution Based on Result of Previous Command.</span><br><br>
  <table class='posts'>
    <tr>
      <td class='title' VALIGN='top'>Description:</td>
      <td class='text'  VALIGN='top'><b>Command1 && SuccessCommand</b>
<br><b>Command1 || FailCommand</b>
<br><b>Command1 && SuccessCommand || FailCommand</b>
<br><br>The <b>&&</b> operator can be used to execute a command only when the previews command <b>succeeded</b>.
<br>The <b>||</b> operator can be used to execute a command only when the previews command <b>failed</b>.
<br><br>Example 1
<br>Show a message only when the string "ERROR" exist in the logfile.log file. The find command 
    succeeds when the string "ERROR" exist in logfile.log.  The output of the find command is 
    redirected into the NUL devise since we don`t want to see any of its output in the output window.
<br><br>Example 2
<br>Show a message only when the string "ERROR" doesn`t exist in the logfile.log file. The find command 
    fails when the string "ERROR" doesn`t exist in logfile.log. The output of the find command is 
    redirected into the NUL devise since we don`t want to see any of its output in the output window.
<br><br>Example 3
<br>The Conditional Execution operators are useful with many DOS commands, i.e. the SET command.
<br><br>Note
<br>Be careful when combining the operators, i.e.:
<br><b>Command1 && (CommandBlock2) || (CommandBlock3)</b>
<ul>
    <li>If Command1 fails then CommandBlock2 will be skipped and CommandBlock3 will be executed.</li>
    <li>If Command1 succeeds then CommandBlock2 will be executed.</li>
    <li>If Command2 fails then CommandBlock3 will also be executed!!</li>
</ul>
<br>To avoid this pitfall force CommandBlock2 to succeed, i.e. using a simple REM as last block command:</li>
<br><b>Command1 && (CommandBlock2 & REM) || (CommandBlock3)</b>
<br><br>or:
<br><b><pre>
Command1 && (
    CommandBlock2
    REM force success
) || (
    CommandBlock3
)
</pre></b>
</td>
    </tr>
    <tr>
      <td class='title' VALIGN='top'>Script:</td>
      <td class='text'  VALIGN='top'><span style='float:right;'>Download: <a href='BatchConditionalExecution.bat'>BatchConditionalExecution.bat</a>&nbsp;&nbsp;</span>    <table class='btchscr'><tr>
      <td class='numbrs' align='right' nowrap='nowrap'><code><a name='1'>1.</a><br><a name='2'>2.</a><br><a name='3'>3.</a><br><a name='4'>4.</a><br><a name='5'>5.</a><br><a name='6'>6.</a><br><a name='7'>7.</a><br><a name='8'>8.</a><br><a name='9'>9.</a><br><a name='10'>10.</a><br><a name='11'>11.</a><br><a name='12'>12.</a><br><a name='13'>13.</a><br><a name='14'>14.</a><br><a name='15'>15.</a><br><a name='16'>16.</a><br><a name='17'>17.</a><br><a name='18'>18.</a><br><a name='19'>19.</a><br><a name='20'>20.</a><br><a name='21'>21.</a><br><a name='22'>22.</a><br><a name='23'>23.</a><br><a name='24'>24.</a><br><a name='25'>25.</a><br></code></td>
      <td nowrap='nowrap' class='code'><code><span style='color=#000000'>@ECHO&nbsp;OFF</span><br>
<span style='color=#000000'></span><br>
<span style='color=#000000'>echo.</span><br>
<span style='color=#000000'>echo.1:</span><br>
<span style='color=#000000'>echo.&nbsp;&nbsp;&nbsp;...finding&nbsp;'ERROR'&nbsp;in&nbsp;logfile.log</span><br>
<span style='color=#000000'>find&nbsp;&quot;ERROR&quot;&nbsp;logfile.log&gt;NUL&nbsp;&amp;&amp;&nbsp;(</span><br>
<span style='color=#000000'>&nbsp;&nbsp;&nbsp;&nbsp;echo.&nbsp;&nbsp;&nbsp;yes,&nbsp;&quot;ERROR&quot;&nbsp;in&nbsp;logfile</span><br>
<span style='color=#000000'>)</span><br>
<span style='color=#000000'></span><br>
<span style='color=#000000'>echo.</span><br>
<span style='color=#000000'>echo.2:</span><br>
<span style='color=#000000'>echo.&nbsp;&nbsp;&nbsp;...finding&nbsp;'ERROR'&nbsp;in&nbsp;logfile.log</span><br>
<span style='color=#000000'>find&nbsp;&quot;ERROR&quot;&nbsp;logfile.log&gt;NUL&nbsp;||&nbsp;(</span><br>
<span style='color=#000000'>&nbsp;&nbsp;&nbsp;&nbsp;echo.&nbsp;&nbsp;&nbsp;no&nbsp;&quot;ERROR&quot;&nbsp;in&nbsp;logfile</span><br>
<span style='color=#000000'>)</span><br>
<span style='color=#000000'></span><br>
<span style='color=#000000'>echo.</span><br>
<span style='color=#000000'>echo.3:</span><br>
<span style='color=#000000'>set&nbsp;&quot;v=old_value&quot;</span><br>
<span style='color=#000000'>set&nbsp;/p&nbsp;&quot;v=&nbsp;&nbsp;&nbsp;...enter&nbsp;a&nbsp;value&nbsp;or&nbsp;just&nbsp;hit&nbsp;ENTER:&nbsp;&quot;&nbsp;&amp;&amp;&nbsp;(</span><br>
<span style='color=#000000'>&nbsp;&nbsp;&nbsp;&nbsp;echo.&nbsp;&nbsp;&nbsp;The&nbsp;user&nbsp;entered&nbsp;a&nbsp;value,&nbsp;the&nbsp;variable&nbsp;v&nbsp;changed.</span><br>
<span style='color=#000000'>)&nbsp;||&nbsp;(</span><br>
<span style='color=#000000'>&nbsp;&nbsp;&nbsp;&nbsp;echo.&nbsp;&nbsp;&nbsp;The&nbsp;user&nbsp;just&nbsp;hit&nbsp;Enter,&nbsp;the&nbsp;variable&nbsp;v&nbsp;remains&nbsp;unchanged.</span><br>
<span style='color=#000000'>)</span><br>
<span style='color=#000000'>echo.&nbsp;&nbsp;&nbsp;v&nbsp;is&nbsp;now:&nbsp;%v%</span><br>
      </code></td>
    </tr></table>
</td>
    </tr>
    <tr>
      <td class='title' VALIGN='top'>Script Output:</td>
      <td class='text'  VALIGN='top'><table class="dosw" border="0" cellspacing="2" cellpadding="3">    <tr><td class="title">&nbsp;<img src="SysIcon.jpg" alt="DOS">&nbsp;Script Output    </td></tr>    <tr><td class="text"><pre>
1:
   ...finding 'ERROR' in logfile.log

2:
   ...finding 'ERROR' in logfile.log
   no &quot;ERROR&quot; in logfile

3:
   ...enter a value or just hit ENTER: 
   The user just hit Enter, the variable v remains unchanged.
   v is now: old_value
</pre></td></tr></table></td>
    </tr>
  </table>
<br><div class='bot'>
<script type="text/javascript">
    /***********************************************
    * IFrame SSI script II- Copyright Dynamic Drive DHTML code library (http://www.dynamicdrive.com)
    * Visit DynamicDrive.com for hundreds of original DHTML scripts
    * This notice must stay intact for legal use
    ***********************************************/
    
    //Input the IDs of the IFRAMES you wish to dynamically resize to match its content height:
    //Separate each ID with a comma. Examples: ["myframe1", "myframe2"] or ["myframe"] or [] for none:
    var iframeids=["myframe"]
    
    //Should script hide iframe from browsers that don't support this script (non IE5+/NS6+ browsers. Recommended):
    var iframehide="yes"
    
    var getFFVersion=navigator.userAgent.substring(navigator.userAgent.indexOf("Firefox")).split("index.html")[1]
    var FFextraHeight=parseFloat(getFFVersion)>=0.1? 16 : 0 //extra height in px to add to iframe in FireFox 1.0+ browsers
    
    function resizeCaller() {
        var dyniframe=new Array()
        for (i=0; i<iframeids.length; i++){
            if (document.getElementById)
                resizeIframe(iframeids[i])
            //reveal iframe for lower end browsers? (see var above):
            if ((document.all || document.getElementById) && iframehide=="no"){
                var tempobj=document.all? document.all[iframeids[i]] : document.getElementById(iframeids[i])
                tempobj.style.display="block"
            }
        }
    }
    
    function resizeIframe(frameid){
        var currentfr=document.getElementById(frameid)
        if (currentfr && !window.opera){
            currentfr.style.display="block"
            if (currentfr.contentDocument && currentfr.contentDocument.body.offsetHeight) //ns6 syntax
                currentfr.height = currentfr.contentDocument.body.offsetHeight+FFextraHeight; 
            else if (currentfr.Document && currentfr.Document.body.scrollHeight) //ie5+ syntax
                currentfr.height = currentfr.Document.body.scrollHeight;
            if (currentfr.addEventListener)
                currentfr.addEventListener("load", readjustIframe, false)
            else if (currentfr.attachEvent){
                currentfr.detachEvent("onload", readjustIframe) // Bug fix line
                currentfr.attachEvent("onload", readjustIframe)
            }
        }
    }
    
    function readjustIframe(loadevt) {
        var crossevt=(window.event)? event : loadevt
        var iframeroot=(crossevt.currentTarget)? crossevt.currentTarget : crossevt.srcElement
        if (iframeroot)
            resizeIframe(iframeroot.id);
    }
    
    function loadintoIframe(iframeid, url){
        if (document.getElementById)
        document.getElementById(iframeid).src=url
    }
    
    if (window.addEventListener)
        window.addEventListener("load", resizeCaller, false)
    else if (window.attachEvent)
        window.attachEvent("onload", resizeCaller)
    else
        window.onload=resizeCaller
</script>
<iframe id="myframe" src="forum/viewforum4d6b.html?f=3"                  marginwidth="0" marginheight="0" frameborder="0" style="overflow:visible; " height=15000 width="100%" scrolling="no" ALLOWTRANSPARENCY="true"></iframe></div>

</body>

<!-- Mirrored from www.dostips.com/?t=Snippets.ConditionalExecution by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 03:48:27 GMT -->
</html>
