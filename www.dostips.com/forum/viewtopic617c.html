<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=8854&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 05:09:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>DosTips.com &bull; b2ev - Bat2Exe eVolved</title>

<link href="styles/AllanStyle-SUBSILVER/theme/print.css" rel="stylesheet">
</head>
<body id="phpbb">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>DosTips.com</h1>
		<p>A Forum all about DOS Batch<br /><a href="index-2.html">https://www.dostips.com/forum/</a></p>

		<h2>b2ev - Bat2Exe eVolved</h2>
		<p><a href="viewtopicead9.html?f=3&amp;t=8854">https://www.dostips.com/forum/viewtopic.php?f=3&amp;t=8854</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>b2ev - Bat2Exe eVolved</h3>
				<div class="date">Posted: <strong>10 Oct 2018 13:55</strong></div>
				<div class="author">by <strong>TSnake41</strong></div>
				<div class="content">Hello !<br>
<br>
I come there to present you yet another Batch to Executable packer !<br>
<br>
The most interesting features of this Batch to Exe is : <br>
 - out of box exact-directory support (use file system as workspace instead of projects like F2KO Batch to Exe), thus, you can put entire directories in built executables<br>
 - flavor a minimal overhead approaching 25 Kio with a minimal hello world (with F2KO Batch to Exe, we get 89 Kio)<br>
 - flavor lz4 compression (disableable) that considerably reduce executable size (especially for big projects)<br>
 - very fast (unpack time is approximativelly 2 times faster than F2KO Batch to Exe)<br>
 - non-Windows platform support, well, this looks dubious, but you can use Dos9 to provide a batch implementation for e.g Linux<br>
<br>
Everything is Open, your executable is built from known and provided source code, the archive does not contain any executables (except Tiny C Compiler).<br>
<br>
(this is a partial copy of README of the gitlab page : <a href="https://gitlab.com/TSnake41/b2ev" class="postlink">https://gitlab.com/TSnake41/b2ev</a>)<br>
<em class="text-italics">Lightweight toolkit to pack batch files (and even directories) to a single autonomous executable.<br>
<br>
Features<br>
<br>
 - very lightweight and fast executable<br>
 - lz4 compression (with in-memory uncompression)<br>
 - directory packing<br>
 - modular approach<br>
 - custom non-Windows platform support<br>
<br>
How to use<br>
<br>
Put all your files in files directory then run build.bat, your ready executable is output.exe.<br>
Your files must contains main.bat which is the entry point of your program.</em><br>
<br>
Download : <a href="https://cdn.discordapp.com/attachments/454711727557181489/499666265191874560/b2ev.7z" class="postlink">https://cdn.discordapp.com/attachments/ ... 60/b2ev.7z</a><br>
GitLab page (with source code and more explanations) : <a href="https://gitlab.com/TSnake41/b2ev" class="postlink">https://gitlab.com/TSnake41/b2ev</a><br>
<br>
Virus total of a simple hello world : <a href="https://www.virustotal.com/#/file/57db820217d1ede096b5ff6110c5ee0188a6098971ca88a959c3ca8af01d8880/detection" class="postlink">https://www.virustotal.com/#/file/57db8 ... /detection</a><br>
In comparison with the same code but with F2KO Batch to Exe compiler : <a href="https://www.virustotal.com/#/file/f07c4024a3fb4d827528b972c6b88c22cc6151e9beb4554b00c85d64236de697/detection" class="postlink">https://www.virustotal.com/#/file/f07c4 ... /detection</a><br>
<br>
The reason of that is the technical difference between F2KO Batch to Exe and b2ev.<br>
F2KO Batch to Exe uses a lot a different functions with some of these "risky functions" such as SetFocus, BringWindowToTop, GetSystemMetrics, GetVersionEx (can be used in RAT tools) ..., and some special PE features : AcceleratorTable, Ressources, ... .<br>
The list of functions used by F2KO Batch to Exe is quite big : <a href="../../hastebin.com/xeviqevake.html" class="postlink">https://hastebin.com/xeviqevake.css</a><br>
b2ev uses less functions : <a href="https://hastebin.com/iziqereviw.cpp" class="postlink">https://hastebin.com/iziqereviw.cpp</a><br>
<br>
So, it's sure that anti-virusses are unlikely triggering since the program is potentially less dangerous (as it is not doing anything dangerous).</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: b2ev - Bat2Exe eVolved</h3>
				<div class="date">Posted: <strong>13 Oct 2018 20:18</strong></div>
				<div class="author">by <strong>carlos</strong></div>
				<div class="content">Many thanks for this tool.<br>
Converters of bat to exe that have the word "Compiler" seems not very reliable, because it not convert the batch script to machine language, it only extract the script to temporal folder and run.<br>
It always depends and needs cmd.exe<br>
Batch script always are interpreted. Cmd read a plain text source script.<br>
Thus, the possible reason for convert to exe of protect the code is not achieved.<br>
<br>
But i like your project because is open source and a excellent work.<br>
<br>
In the past I tried develop a method using environment variables: Ofuscate the script code in a environment variable, set a environment variable with a name, for example: _code_ and extract a batch script with this code: <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>%_code_%</code></pre></div> and run (create the process providing that environment variable).<br>
That limits some parts of the language, but allowed to execute certain code. The problem was a user show me that the code in the environment variable was available if you do a memory dump of cmd.exe.<br>
<br>
I think that your tool because is open source code and allow good possibilities.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: b2ev - Bat2Exe eVolved</h3>
				<div class="date">Posted: <strong>14 Oct 2018 04:54</strong></div>
				<div class="author">by <strong>TSnake41</strong></div>
				<div class="content"><blockquote><div><cite><a href="memberlistcb12.html?mode=viewprofile&amp;u=1621">carlos</a> wrote: <a href="viewtopic6ede.html?p=58133#p58133" data-post-id="58133" onclick="if(document.getElementById(hash.substr(1)))href=hash">â†‘</a><div class="responsive-hide">13 Oct 2018 20:18</div></cite>
Many thanks for this tool.<br>
But i like your project because is open source and a excellent work.</div></blockquote>Thanks for your reply carlos !<br>

<blockquote class="uncited"><div>Converters of bat to exe that have the word "Compiler" seems not very reliable, because it not convert the batch script to machine language, it only extract the script to temporal folder and run.<br>
It always depends and needs cmd.exe<br>
Batch script always are interpreted. Cmd read a plain text source script.<br>
Thus, the possible reason for convert to exe of protect the code is not achieved.
</div></blockquote>You are right, I shouldn't name it as a compiler and should more name it as a converter or packer.<br>

<blockquote class="uncited"><div>In the past I tried develop a method using environment variables: Ofuscate the script code in a environment variable, set a environment variable with a name, for example: _code_ and extract a batch script with this code: <div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>%_code_%</code></pre></div> and run (create the process providing that environment variable).<br>
That limits some parts of the language, but allowed to execute certain code. The problem was a user show me that the code in the environment variable was available if you do a memory dump of cmd.exe.</div></blockquote>This way to embed code could be interesting for small codes maybe.<br>
Obfuscating (in particular in Batch) is hard, and is often easier to circumvent than to make.<br>
<br>
There are way to make it very hard to circumvent (and maybe compile ?) but, it needs more research especially with dos9.org which will be useful there.</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="UTC-6">UTC-06:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Limited<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=8854&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 05:09:44 GMT -->
</html>
