<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=8537&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 07:22:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>DosTips.com &bull; Batch file mafia game [Little help]</title>

<link href="styles/AllanStyle-SUBSILVER/theme/print.css" rel="stylesheet">
</head>
<body id="phpbb">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>DosTips.com</h1>
		<p>A Forum all about DOS Batch<br /><a href="index-2.html">https://www.dostips.com/forum/</a></p>

		<h2>Batch file mafia game [Little help]</h2>
		<p><a href="viewtopic933d.html?f=3&amp;t=8537">https://www.dostips.com/forum/viewtopic.php?f=3&amp;t=8537</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Batch file mafia game [Little help]</h3>
				<div class="date">Posted: <strong>02 May 2018 12:15</strong></div>
				<div class="author">by <strong>Sookrat</strong></div>
				<div class="content">I made a text based mafia game (Mouse click support). and i need to add some gui like buttons, is that possible? or is there any plugin to help me in this?<br>
also i need to know how to make limitation for characters in line or space.<br>
for example:<br>
Money: 50 | HP: 100 | Some text.<br>
when money rising to 10,000 the HP getting out of the screen. i want to make limitation number of character.<br>
<br>
Thnx<br>
<br>
<img src="../../uploads.photo/images/b1fbc7.jpg" class="postimage" alt="Image"><br>
<br>
<img src="../../uploads.photo/images/6eb33b.jpg" class="postimage" alt="Image"></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Batch file mafia game [Little help]</h3>
				<div class="date">Posted: <strong>02 May 2018 13:25</strong></div>
				<div class="author">by <strong>ShadowThief</strong></div>
				<div class="content"><blockquote><div><cite><a href="memberlist5c65.html?mode=viewprofile&amp;u=4297">Sookrat</a> wrote: <a href="viewtopicd463.html?p=56654#p56654" data-post-id="56654" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a><div class="responsive-hide">02 May 2018 12:15</div></cite>
I made a text based mafia game (Mouse click support). and i need to add some gui like buttons, is that possible? or is there any plugin to help me in this?
</div></blockquote>
I've seen batbox do this, and I can pretty much guarantee that misol101 will come in here and tell you to use cmdgfx. That said, if you're looking for actual buttons like<br>
<img src="../../i.imgur.com/a6FayM6.jpg" class="postimage" alt="Image"><br>
then you're out of luck.<br>

<blockquote><div><cite><a href="memberlist5c65.html?mode=viewprofile&amp;u=4297">Sookrat</a> wrote: <a href="viewtopicd463.html?p=56654#p56654" data-post-id="56654" onclick="if(document.getElementById(hash.substr(1)))href=hash">↑</a><div class="responsive-hide">02 May 2018 12:15</div></cite>
also i need to know how to make limitation for characters in line or space.
</div></blockquote>
Use substrings (<a href="../DtTipsStringOperations.html#Snippets.LeftString" class="postlink">https://www.dostips.com/DtTipsStringOpe ... LeftString</a>) to crop the text on the end.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Batch file mafia game [Little help]</h3>
				<div class="date">Posted: <strong>02 May 2018 15:05</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">Dude, you totally need to use cmdgfx!!<br>
<br>
 <img class="smilies" src="images/smilies/icon_lol.gif" width="15" height="15" alt=":lol:" title="Laughing"> <br>
<br>
Seriously though, everything seems to be in place already, so no need for that.<br>
<br>
I seem to recall that Aacinis GetInput utility had support for mouse dialogs. I would recommend that.<br>
<br>
<br>
<br>
EDIT: Just to elaborate slightly: This game does not look like it would have any need for:<br>
<br>
1. High FPS, smooth animation, or moving objects<br>
2. Key or mouse input while the game or animation runs in the background<br>
3. Any need for 3d or fancy special effects<br>
4. Any need for dialogs or buttons that look fancy or non-standard<br>
<br>
So, for these reasons, using cmdgfx would not only be unnecessary, but also a waste of time (its flexibility comes with a higher setup and complexity cost).</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Batch file mafia game [Little help]</h3>
				<div class="date">Posted: <strong>06 May 2018 06:59</strong></div>
				<div class="author">by <strong>Sookrat</strong></div>
				<div class="content">Could you please give me example about making gui menus, buttons, colors?<br>
Thnx</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Batch file mafia game [Little help]</h3>
				<div class="date">Posted: <strong>06 May 2018 08:46</strong></div>
				<div class="author">by <strong>Compo</strong></div>
				<div class="content">You could use hta, javascript/vbscript or powershell if it is available on that OS to create GUI message boxes.<br>
<br>
PowerShell examples:<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@PowerShell -Command^
 "[Reflection.Assembly]::LoadWithPartialName('System.Windows.Forms')|Out-Null;"^
 "[System.Windows.Forms.MessageBox]::Show('Money: 50 | HP: 100 | Some text')"&gt;Nul]</code></pre></div>on separate lines…<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@PowerShell -Command^
 "[Reflection.Assembly]::LoadWithPartialName('System.Windows.Forms')|Out-Null;"^
 "[System.Windows.Forms.MessageBox]::Show(\"Money: 50`nHP: 100`nSome text\")"&gt;Nul</code></pre></div>Although I'm guessing that that isn't really what you want, because as soon as you create GUI boxes you no longer have a <strong class="text-strong">text</strong> based game!<br>
<br>
Would something like this not work for you instead?<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@Start "Inventory" /Wait Cmd /Q /C "Mode 16,7&amp;Color 5E&amp;Echo(&amp;Echo Money: 50&amp;Echo    HP: 100&amp;Echo(&amp;Echo SomeText&amp;Echo(&amp;Timeout 5 &gt;Nul"</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Batch file mafia game [Little help]</h3>
				<div class="date">Posted: <strong>06 May 2018 13:43</strong></div>
				<div class="author">by <strong>aGerman</strong></div>
				<div class="content">As everyone already told you - "text based" and "GUI" don't go together. Neither do "Batch window" and "GUI" (even if misol101 is a wizard who tries to overcome all limitations). And neither do "text based" and "mouse input". Why is everybody so keen on making a console window what it never will be?<br>
<br>
Nevermind.<br>
I used conin.exe to be found in post #62 of that thread<br>
<a href="viewtopicc6f0.html?p=51138#p51138" class="postlink">viewtopic.php?p=51138#p51138</a><br>
because I wrote it (only because someone requested it) and am familiar with its functionality.<br>
In the same thread you'll find a lot of useful tools btw.<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp;setlocal
:: print the buttons (I used ASCII characters to make sure everybody sees the same independing on locale settings)
echo(
echo  @@@@@@@
echo  @@ A @@
echo  @@@@@@@         @@@@@@@
echo                  @@ C @@
echo       @@@@@@@    @@@@@@@
echo       @@ B @@
echo       @@@@@@@
echo(
echo click on a button
echo(


:: label where to jump in order to run conin again
:loop

:: conin.exe - Read Console Input
:: timeout: %errorlevel% = 0
:: type:    %errorlevel%&gt;&gt;29 (0=keyboard, 1=left click, 2=right click, 3=mouse move)
:: key:     %errorlevel% (either character code or (for extended keys) 256 + key code)
:: mouse:   row = (%errorlevel%&gt;&gt;14)&amp;0x3FFF, column = %errorlevel%&amp;0x3FFF
:: the utility times out after the passed number of milliseconds, it will wait infinite if you don't pass an argument
conin.exe

:: calculate the values according to the explanation above
set /a "key=%errorlevel%, type=key&gt;&gt;29, y=(key&gt;&gt;14)&amp;0x3FFF, x=key&amp;0x3FFF"

:: if the input type was not 1 (left mouse click) then run conin again
if %type% neq 1 goto loop

:: else call a subroutine to check if a button was clicked; each passed group of values represents a button and consists of:
:: "top_left_corner_horizontal_offset,top_left_corner_vertical_offset,bottom_right_corner_horizontal_offset,bottom_right_corner_vertical_offset"
:: note that the coordinates are zero-based (that is, the top left corner of the window has coordinates 0,0 and is the origin of the button coordinates)
:: the subroutine returns 0 if the click was outside of any button rectangles (run conin again in that case),
:: otherwise it returns the index of the matched group (1 for the first group, 2 for the second group, etc.)
call :check "1,1,7,3" "6,5,12,7" "17,3,23,6" &amp;&amp; goto loop

:: assign the returned index to a variable
set "n=%errorlevel%"

echo  button #%n% clicked
pause
exit /b


:check
setlocal EnableDelayedExpansion
set "idx=1"
:: enumerate all passed value groups and check if the x and y coordinates of the mouse click fits into one of the rectangles
for %%i in (%*) do (
  for /f "tokens=1-4 delims=, " %%j in (%%i) do (
    if %x% geq %%j if %y% geq %%k if %x% leq %%l if %y% leq %%m for %%n in (!idx!) do (endlocal&amp;exit /b %%n)
  )
  set /a "idx+=1"
)
endlocal
exit /b 0
</code></pre></div>
Carefully read the comments in the code in order to understand how it works.<br>
<br>
Steffen</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="UTC-6">UTC-06:00</span><br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Limited<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=8537&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 07:22:15 GMT -->
</html>
