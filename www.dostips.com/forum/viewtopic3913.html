<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=6044&start=75&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 08:03:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>DosTips.com &bull; JREPL.BAT v7.14 - regex text processor now with Unicode and XRegExp support - Page 6</title>

<link href="styles/AllanStyle-SUBSILVER/theme/print.css" rel="stylesheet">
</head>
<body id="phpbb">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>DosTips.com</h1>
		<p>A Forum all about DOS Batch<br /><a href="index-2.html">https://www.dostips.com/forum/</a></p>

		<h2>JREPL.BAT v7.14 - regex text processor now with Unicode and XRegExp support</h2>
		<p><a href="viewtopicb16d.html?f=3&amp;t=6044">https://www.dostips.com/forum/viewtopic.php?f=3&amp;t=6044</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>6</strong> of <strong>27</strong></div>
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>08 Jun 2015 03:46</strong></div>
				<div class="author">by <strong>Grahack</strong></div>
				<div class="content"><blockquote><div><cite>jeb wrote:</cite>...<br />After the first parser run in the batch file there is exactly one &lt;LF&gt; between &quot;First line&quot; and &quot;second line&quot;.<br />This would produce two lines, but when this is transfer to the child cmd.exe (by the pipe) then the line is parsed again.<br />But then the linefeed is &quot;raw&quot; without the necessary esacping so it removes simply the rest of the line.<br />This results in the output of only &quot;First line&quot;.</div></blockquote><br /><br />Indeed. I asked StackOverflow in the mean time. See here:<br /><!-- m --><a class="postlink" href="http://stackoverflow.com/questions/30612492/jrepl-bat-only-prints-the-first-line/30616034#30616034">http://stackoverflow.com/questions/3061 ... 4#30616034</a><!-- m --><br />Thanks</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>10 Jun 2015 15:55</strong></div>
				<div class="author">by <strong>Squashman</strong></div>
				<div class="content">Hi Guys, sorry I have not been around much.  Super busy with work and family.  <br /><br />Today I got some really horrible data from a client and I think I can fix it with JREPL.<br /><br />You know how sometimes people will hard code a linefeed in an excel file and when they export it out of excel the linefeed also outputs but the line does end with a carriage return and line feed.  Well I got the worst of both worlds on that somehow.  The client somehow has a CRLF in the middle of a field on a CSV file they sent us.  So a lot of the records are wrapping.<br /><br />The records look like this. Typing out \CR\LF so you know what it really is.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Monrovia,012345678,2015-06-02,SO-0654321,Sales Order,395.00,1015 ARCADIA AVE\CR\LF<br />APT 5,ARCADIA,CA,91007\CR\LF</code></pre></div><br />What it should look like of course is this.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Monrovia,012345678,2015-06-02,SO-0654321,Sales Order,395.00,1015 ARCADIA AVE APT 5,ARCADIA,CA,91007\CR\LF</code></pre></div><br /><br />I think the common denominator here is there should only be a CRLF if it is preceded by a 5 digit zipcode.  Seems like all the records that are bad have some type of Apartment or Unit designation.  So is there any way to strip the CRLF when it is not preceded by 5 numbers?<br /><br />I guess maybe my other thought process was to count the number of tokens in each line.  If there isn't 10 tokens then hold it in a temporary variable and append it to the next line. Either way it will probably require one of Dave's hybrid scripts in case one of the tokens is empty.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>10 Jun 2015 16:31</strong></div>
				<div class="author">by <strong>dbenham</strong></div>
				<div class="content">Sure thing Squashman - easy peasy <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Of course the /M option is needed to search for \CR\LF. So this can't work on multi gigabyte files.<br /><br />I use the /T option to establish two search/replace pairs, with the left pair taking precedence. <br /><br />The first looks for comma, followed by 5 digits, followed by \CR\LF (\CR being optional), and replaces the string with itself.<br />The second looks for \CR\LF (\CR being optional), and replaces it with a space.<br /><br />I believe I have a bug <img class="smilies" src="images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />The following should work, but it does not substitute the $1 value properly. Instead it treats $1 as a literal.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;,\d{5}\r?\n|\r?\n&quot; &quot;$1| &quot; /m /t &quot;|&quot; /f test.csv /o -<br /></code></pre></div><br />But the following form using the /J option works great  <img class="smilies" src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;,\d{5}\r?\n|\r?\n&quot; &quot;$1|' '&quot; /j /m /t &quot;|&quot; /f test.csv /o -<br /></code></pre></div><br /><br />Dave Benham</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>11 Jun 2015 03:50</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content">This does depend on the data obviously, but assuming that the norty CRLF doesn't have a number after the  CRLF then this should work too.<br /><br />Just to be clearer, it's checking for a non-number both (before AND after) the CRLF <br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;(\D)\r\n(\D)&quot; &quot;$1 $2&quot; /m /x /f &quot;file.csv&quot;</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>11 Jun 2015 12:28</strong></div>
				<div class="author">by <strong>Squashman</strong></div>
				<div class="content">I ended up having to go with the 80/20 rule.  The code I used fixed the majority of the wrapping records, but I still had to manually fix a few dozen records because I just could not get it to match the expression.  The data was really bad so I doubt we could have come up with a regular expression that would have fixed them all but getting the majority really helped out a lot.<br /><br />Just tweaked Dave's code a bit.  I put in a check for two character state code before the zipcode.  But I also had to tweak the zipcode logic.  Sometimes the zipcode was listed without the leading Zero.  Why the USPS decided to use leading zeros for the zipcode is beyond me.  We all know how excel likes to drop leading zeros and trailing decimals with zero.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;,&#91;a-z&#93;&#91;a-z&#93;,\d{4,}\r?\n|\r?\n&quot; &quot;$1|' '&quot; /i /j /m /t &quot;|&quot; /f file.txt /o -</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>12 Jun 2015 07:42</strong></div>
				<div class="author">by <strong>dbenham</strong></div>
				<div class="content">I have fixed the /T bug such that $n and $nn substitution now works properly without the /J option. <img class="smilies" src="images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br /><br />So for Squashman, either of the following will now work:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;,&#91;a-z&#93;&#91;a-z&#93;,\d{4,}\r?\n|\r?\n&quot; &quot;$1| &quot; /i /m /t &quot;|&quot; /f file.txt /o -<br /></code></pre></div>or<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;,&#91;a-z&#93;&#91;a-z&#93;,\d{4,}\r?\n|\r?\n&quot; &quot;$&amp;| &quot; /i /m /t &quot;|&quot; /f file.txt /o -<br /></code></pre></div><br /><br /><strong class="text-strong">Here is version 3.5</strong><br /><div class="inline-attachment">
			
		
		
				<dl class="file">
			<dt><span class="imageset icon_topic_attach"></span> <a class="postlink" href="download/file0055.php?id=11">JREPL3.5.zip</a></dt>
						<dd>(8.7 KiB) Downloaded 72 times</dd>
		</dl>
		
		
			</div><br /><br />Dave Benham</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>12 Jun 2015 09:16</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content">I have a V 3.4 here already, Dave.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>::JREPL.BAT version 3.4<br />::<br />::&nbsp; Release History:<br />::&nbsp; &nbsp; 2015-01-22 v3.4: Bug fix - Use /TEST instead of TEST as a variable name<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;within the option parser so that it is unlikely to<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;collide with a user defined variable name.<br />::&nbsp; &nbsp; 2014-12-24 v3.3: Bug fix for when /JMATCH is combined with /M or /S<br />::&nbsp; &nbsp; 2014-12-09 v3.2: Bug fix for /T without /JMATCH - fixed dynamic repl func<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Added GOTO at top for improved startup performance<br />::&nbsp; &nbsp; 2014-11-25 v3.1: Added /JLIB option<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Exception handler reports when regex is bad<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Fix /X bug with extended ASCII<br />::&nbsp; &nbsp; 2014-11-23 v3.0: Added /JBEGLN and /JENDLN options<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Added skip, quit, and lpad() global variables/functions<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Exception handler reports when error in user code<br />::&nbsp; &nbsp; 2014-11-21 v2.2: Bug fix for /T with /L option.<br />::&nbsp; &nbsp; 2014-11-20 v2.1: Bug fix for /T option when match is an empty string<br />::&nbsp; &nbsp; 2014-11-17 v2.0: Added /T (translate) and /C (count input lines) options<br />::&nbsp; &nbsp; 2014-11-14 v1.0: Initial release<br />::<br /></code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>12 Jun 2015 10:55</strong></div>
				<div class="author">by <strong>dbenham</strong></div>
				<div class="content">Thanks foxi <img class="smilies" src="images/smilies/icon_exclaim.gif" alt=":!:" title="Exclamation" /> <br /><br />I made the change on a computer with an outdated version. <img class="smilies" src="images/smilies/icon_evil.gif" alt=":evil:" title="Evil or Very Mad" /> <br /><br />I've merged the two versions and edited my prior post to version 3.5.<br /><br /><br />Dave Benham</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>12 Jun 2015 15:46</strong></div>
				<div class="author">by <strong>Squashman</strong></div>
				<div class="content">Is it possible to match 9 commas to basically say there are 10 fields and then a CRLF.  I am not sure of the syntax because you could have fields that are blank so it would be a double comma.  But if the asterisk matches the preceding character and a period matches any single character how do you create an expression that says there may or may not be data between the commas?<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;.*,.*,.*,.*,.*,.*,.*,.*,.*,.*\r?\n|\r?\n&quot; &quot;$1|' '&quot; /i /j /m /t &quot;|&quot; /f file.txt /o -</code></pre></div><br /><br />Or could you great a grouping and use a repetition factor of that grouping? Again not sure of the syntax.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;(.*,){9}.*\r?\n|\r?\n&quot; &quot;$1|' '&quot; /i /j /m /t &quot;|&quot; /f file.txt /o -</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>13 Jun 2015 03:05</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content">Use this construct instead of .* and it will match each comma. <br /><br />By rights this should show you lines that do not have at least 10 fields.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;.*?,.*?,.*?,.*?,.*?,.*?,.*?,.*?,.*?,.*&quot; &quot;&quot; /f file.txt </code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>13 Jun 2015 07:43</strong></div>
				<div class="author">by <strong>dbenham</strong></div>
				<div class="content">Yes, the ? makes the * non-greedy. That command finds lines with at least 9 commas and turns them into blank lines. The search regex can be dramatically simplified, and the command modified to preserve only lines that have at least 9 commas:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;(.*?,){9}.*&quot; &quot;$0&quot; /jmatch /f test.csv<br /></code></pre></div><br />But that doesn't really help solve the problem if you plan on using just a single jrepl pass. Whenever a logical line is split into two, then the first \LF must be turned into a space, but the last one should not, yet the line with the valid \LF did not have 9 commas <img class="smilies" src="images/smilies/icon_exclaim.gif" alt=":!:" title="Exclamation" /><br /><br />The solution is to use 3 jrepl passes. The first pass identifies &quot;valid&quot; \LF and doubles them. The second pass converts \CR\LF that do not precede \LF into a space, and the final pass converts \LF\LF back into \LF. I use [\s\S] instead of a dot so that it can match \LF.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;(&#91;\s\S&#93;*?,){9}.*\n&quot; &quot;$&amp;\n&quot; /x /m /f test.csv | jrepl &quot;\r?\n\n|\r?\n&quot; &quot;$&amp;| &quot; /m /t &quot;|&quot;&quot; | jrepl &quot;\n\n&quot; &quot;\n&quot; /x /m /o test.csv.new<br />move /y test.csv.new test.csv &gt;nul<br /></code></pre></div><br />I put the word &quot;valid&quot; in quotes because it is impossible to know for sure which \LF is valid if unwanted \LF can occur in the first column, and can also occur in the last column. <img class="smilies" src="images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />The above assumes the first occurring \LF after 9 commas is valid, so it does not allow \LF in the last column.<br /><br />Using jSCRIPT with the /J and /JBEG options, it is possible to do everything in one pass <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />I keep a running count of which column I am in, as identified by commas. If I find a (\CR)\LF while in the 10th column, then I reset the count to 1 and preserve it, otherwise I replace it with a space. I seriously abuse the condition?expression:expression construct with an ugly hack, but it works  <img class="smilies" src="images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;,|\r?\n&quot; &quot;field+=1;$0|field==10?((field=1)==1?$0:''):' '&quot; /j /jbeg &quot;var field=1&quot; /t &quot;|&quot; /m /f test.csv /o -<br /></code></pre></div><br /><br />One final note - All the discussion so far assumes that all commas are column delimiters. But the CSV format allows for comma literals within values if the field is quoted. In reality, a field can also contain \LF if it is quoted, though not many parsers support that feature. The other complicating feature is quote literals are doubled within a quoted field. I don't think I would use JREPL to support these features with this problem, and I certainly wouldn't attempt it with pure batch. I would probably write a custom JScript script.<br /><br />I've written the hybrid <a href="viewtopic00e3.html?f=3&amp;t=5702" class="postlink">parseCSV.bat</a> that allows FOR /F to parse nearly any properly formatted CSV. But I don't see how it helps with this problem given that the CSV is not valid. However, the JScript within might be a good starting point in developing a custom JScript solution to this problem.<br /><br /><br />Dave Benham</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>17 Jun 2015 22:00</strong></div>
				<div class="author">by <strong>Squashman</strong></div>
				<div class="content">Thanks for your help guys.  Have not tried the last examples as I have not been at work.  But since I have been off of work, it has given me some time to play around with some fun stuff in my free time.<br /><br />My oldest son races mountain bikes in the Wisconsin Off Road Series (WORS). <br /><br />I started working on a batch file to scrape his teams results from the website using WGET.<br /><br />The output is pretty well text aligned but when a person has a DNF (Did not finish) or a NR (Not rated) because they never started the race, the output gets misaligned for those racers because they do not have a time for the race.  Basically the text is off by 11 spaces.  So I am wondering is there a way to get the text lined up again with JREPL.<br /><br />Currently they have only raced in 4 races. After each race I will run this script.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />TITLE Get WORS Results<br /><br />SET /P &quot;RACENUM=What race number do you want to retrieve? : &quot;<br /><br />FOR %%G IN (junior citizen_m citizen_f sport_m sport_f comp_m elite) DO (<br />&nbsp; &nbsp;FOR /F &quot;delims=&quot; %%H IN ('wget -O - -q http://www.wors.org/results/2015/%RACENUM%/overall/%%G.htm ^|findstr /I /C:&quot;Broken Spoke&quot;') DO (<br />&nbsp; &nbsp;&nbsp; &nbsp;&gt;&gt;ALL_Race_Results.txt echo %%H %RACENUM% %%G<br />&nbsp; &nbsp;)<br />)</code></pre></div><br /><br />So if you see the output of race one you will see what I am talking about.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp; 1 F 11-11&nbsp; &nbsp;6060&nbsp; &nbsp;Willow Kapitz&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Manitowoc&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 11&nbsp; &nbsp; &nbsp;28:15.4&nbsp; &nbsp; &nbsp; 3:32.8&nbsp; Broken Spoke Racing&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 junior<br />&nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; &nbsp; 3 M 13-13&nbsp; &nbsp;6043&nbsp; &nbsp;Kaleb Moore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Green Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 13&nbsp; &nbsp; &nbsp;22:30.2&nbsp; &nbsp; &nbsp; 2:09.9&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 junior<br />&nbsp; &nbsp;42&nbsp; &nbsp; &nbsp; &nbsp; 1 M&nbsp; 4- 8&nbsp; &nbsp;6034&nbsp; &nbsp;Thaddeus Sahs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Sturgeon Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8&nbsp; &nbsp; &nbsp; 31:29.5&nbsp; &nbsp; &nbsp;11:09.2&nbsp; Broken Spoke Bike Studio&nbsp; &nbsp; &nbsp; &nbsp;1 junior<br />&nbsp; &nbsp;54&nbsp; &nbsp; &nbsp; &nbsp; 4 M&nbsp; 4- 8&nbsp; &nbsp;6061&nbsp; &nbsp;Ash Kapitz&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Manitowoc&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7&nbsp; &nbsp; &nbsp;39:07.4&nbsp; &nbsp; &nbsp;18:47.1&nbsp; Broken Spoke Racing&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 junior<br />&nbsp; &nbsp;19&nbsp; &nbsp; &nbsp; &nbsp; 2 M 45-49&nbsp; &nbsp;4152&nbsp; &nbsp;David Peck&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Green Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 47&nbsp; &nbsp; &nbsp;51:06.0&nbsp; &nbsp; &nbsp; 5:14.4&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 citizen_m<br />&nbsp; &nbsp;96&nbsp; &nbsp; &nbsp; &nbsp;15 M 45-49&nbsp; &nbsp;4055&nbsp; &nbsp;Dean Scharie&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Manitowoc&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 46&nbsp; &nbsp;1:01:42.7&nbsp; &nbsp; &nbsp;15:51.0&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 citizen_m<br />&nbsp; &nbsp;21&nbsp; &nbsp; &nbsp; &nbsp; 1 F 25-34&nbsp; &nbsp;5066&nbsp; &nbsp;Desiree Schmidt&nbsp; &nbsp; &nbsp; &nbsp; Green Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 28&nbsp; &nbsp;1:08:53.8&nbsp; &nbsp; &nbsp;16:04.6&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 citizen_f<br />&nbsp; &nbsp;23&nbsp; &nbsp; &nbsp; &nbsp; 5 F 45-54&nbsp; &nbsp;5065&nbsp; &nbsp;Deb Neuville&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sturgeon Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;54&nbsp; &nbsp;1:10:34.0&nbsp; &nbsp; &nbsp;17:44.8&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 citizen_f<br />&nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; 3 M 30-34&nbsp; &nbsp;2084&nbsp; &nbsp;Zachariah Radey&nbsp; &nbsp; &nbsp; &nbsp; Manitowoc&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 31&nbsp; &nbsp;1:09:36.9&nbsp; &nbsp; &nbsp; 2:04.6&nbsp; Broken Spoke Cycling Team&nbsp; &nbsp; &nbsp; 1 sport_m<br />&nbsp; &nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp; 4 M 30-34&nbsp; &nbsp;2357&nbsp; &nbsp;Daniel Hebert&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; De Pere&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 31&nbsp; &nbsp;1:09:41.6&nbsp; &nbsp; &nbsp; 2:09.3&nbsp; Broken Spoke Studio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 sport_m<br />&nbsp; &nbsp; 9&nbsp; &nbsp; &nbsp; &nbsp; 1 M 35-39&nbsp; &nbsp;2063&nbsp; &nbsp;Greg Halverson&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sheboygan Falls&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; 39&nbsp; &nbsp;1:12:26.2&nbsp; &nbsp; &nbsp; 4:53.9&nbsp; Broken Spoke Cycling&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 sport_m<br />&nbsp; &nbsp;22&nbsp; &nbsp; &nbsp; &nbsp; 3 M 15-16&nbsp; &nbsp;2077&nbsp; &nbsp;Ethan Halverson&nbsp; &nbsp; &nbsp; &nbsp; Sheboygan Falls&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; 16&nbsp; &nbsp;1:14:35.5&nbsp; &nbsp; &nbsp; 7:03.2&nbsp; Broken Spoke Cycling&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 sport_m<br />&nbsp; &nbsp;42&nbsp; &nbsp; &nbsp; &nbsp; 4 M 25-29&nbsp; &nbsp;2316&nbsp; &nbsp;David Rossow&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Green Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 28&nbsp; &nbsp;1:17:56.3&nbsp; &nbsp; &nbsp;10:24.0&nbsp; The Broken Spoke Bike Studio,&nbsp; 1 sport_m<br />&nbsp; &nbsp;48&nbsp; &nbsp; &nbsp; &nbsp; 7 M 35-39&nbsp; &nbsp;2326&nbsp; &nbsp;Jeremy Rennie&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Green Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 37&nbsp; &nbsp;1:18:31.5&nbsp; &nbsp; &nbsp;10:59.2&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 sport_m<br />&nbsp; 103&nbsp; &nbsp; &nbsp; &nbsp;19 M 45-49&nbsp; &nbsp;2078&nbsp; &nbsp;Randal Sahs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Sturgeon Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;46&nbsp; &nbsp;1:24:01.6&nbsp; &nbsp; &nbsp;16:29.3&nbsp; Broken Spoke bike Studio&nbsp; &nbsp; &nbsp; &nbsp;1 sport_m<br />&nbsp; &nbsp;15&nbsp; &nbsp; &nbsp; &nbsp; 4 F 45-54&nbsp; &nbsp;3011&nbsp; &nbsp;Toni House&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Oneida&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;53&nbsp; &nbsp;1:36:25.7&nbsp; &nbsp; &nbsp;17:26.9&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 sport_f<br />&nbsp; &nbsp;23&nbsp; &nbsp; &nbsp; &nbsp; 5 F 25-34&nbsp; &nbsp;3058&nbsp; &nbsp;Jennifer Uttendorfer&nbsp; &nbsp;Madison&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25&nbsp; &nbsp;1:51:59.8&nbsp; &nbsp; &nbsp;33:01.0&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 sport_f<br />&nbsp; &nbsp;11&nbsp; &nbsp; &nbsp; &nbsp; 1 M 35-39&nbsp; &nbsp;1112&nbsp; &nbsp;Eric Stanke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Green Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 39&nbsp; &nbsp;1:42:00.7&nbsp; &nbsp; &nbsp; 6:16.6&nbsp; Broken Spoke Cycling Team&nbsp; &nbsp; &nbsp; 1 comp_m<br />&nbsp; &nbsp;21&nbsp; &nbsp; &nbsp; &nbsp; 1 M 50-54&nbsp; &nbsp;1160&nbsp; &nbsp;Michael Jones&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Fish Creek&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;54&nbsp; &nbsp;1:45:24.3&nbsp; &nbsp; &nbsp; 9:40.3&nbsp; Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 comp_m<br />&nbsp; &nbsp;23&nbsp; &nbsp; &nbsp; &nbsp; 7 M 30-34&nbsp; &nbsp;1024&nbsp; &nbsp;George Kapitz&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Manitowoc&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 33&nbsp; &nbsp;1:45:27.6&nbsp; &nbsp; &nbsp; 9:43.5&nbsp; Broken Spoke Racing&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 comp_m<br />&nbsp; &nbsp;47&nbsp; &nbsp; &nbsp; &nbsp; 7 M 40-44&nbsp; &nbsp;1074&nbsp; &nbsp;Scott Trierweiler&nbsp; &nbsp; &nbsp; Marshfield&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;41&nbsp; &nbsp;1:52:36.9&nbsp; &nbsp; &nbsp;16:52.9&nbsp; Broken Spoke cycles&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 comp_m<br />&nbsp; DNF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; M 45-49&nbsp; &nbsp;1180&nbsp; &nbsp;Michael Anderson&nbsp; &nbsp; &nbsp; &nbsp;Green Bay&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 47&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 comp_m<br />&nbsp; &nbsp;NR&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; M 30-34&nbsp; &nbsp;1037&nbsp; &nbsp;Brandon Teske&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Madison&nbsp; WI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 32&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Broken Spoke&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 comp_m<br /></code></pre></div><br /><br />Is there any way to get the text to all line up when the racer has a DNF or NR using JREPL?<br /><br />Then eventually I will change the output to a CSV so that I can import it into excel.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>17 Jun 2015 22:53</strong></div>
				<div class="author">by <strong>dbenham</strong></div>
				<div class="content">Pretty rudimentary regex is all that is needed.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;^(&nbsp; DNF|&nbsp; &nbsp;NR).{80}&quot; &quot;$&amp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot; /f test.txt<br /></code></pre></div><br /><br />Dave Benham</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>17 Jun 2015 23:34</strong></div>
				<div class="author">by <strong>Squashman</strong></div>
				<div class="content">Cool beans.  That makes complete sense. Regular Expressions have not always been my forte. If I use them enough I remember how to use them. But if I have not used them in a while I forget how to use them.<br /><br />Of course this now makes for a very very very long line in my batch file.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />TITLE Get WORS Results<br /><br />SET /P &quot;RACENUM=What race number do you want to retrieve? : &quot;<br /><br />FOR %%G IN (junior citizen_m citizen_f sport_m sport_f comp_m elite) DO (<br />&nbsp; &nbsp;FOR /F &quot;delims=&quot; %%H IN ('wget -O - -q http://www.wors.org/results/2015/%RACENUM%/overall/%%G.htm ^|findstr /I /C:&quot;Broken Spoke&quot; ^|jrepl &quot;^(&nbsp; DNF|&nbsp; &nbsp;NR).{80}&quot; &quot;$&amp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;') DO (<br />&nbsp; &nbsp;&nbsp; &nbsp;&gt;&gt;ALL_Race_Results.txt echo %%H %RACENUM% %%G<br />&nbsp; &nbsp;)<br />)</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: JREPL.BAT - regex text processor - successor to REPL.BAT</h3>
				<div class="date">Posted: <strong>18 Jun 2015 05:27</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content">I didn't read to the end of the page - and my effort would make it even longer... but there ya go:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>jrepl &quot;(^&#91; &#93;*?)(DNF|NR)(.{90})(.*)&quot; &quot;$1$2$3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$4&quot; /f</code></pre></div></div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="UTC-6">UTC-06:00</span><br />Page <strong>6</strong> of <strong>27</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Limited<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=6044&start=75&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 08:03:07 GMT -->
</html>
