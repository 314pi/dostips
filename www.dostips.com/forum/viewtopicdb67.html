<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=5772&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 08:31:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>DosTips.com &bull; Help with program that emulate VT100 terminal</title>

<link href="styles/AllanStyle-SUBSILVER/theme/print.css" rel="stylesheet">
</head>
<body id="phpbb">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>DosTips.com</h1>
		<p>A Forum all about DOS Batch<br /><a href="index-2.html">https://www.dostips.com/forum/</a></p>

		<h2>Help with program that emulate VT100 terminal</h2>
		<p><a href="viewtopicf185.html?f=3&amp;t=5772">https://www.dostips.com/forum/viewtopic.php?f=3&amp;t=5772</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>3</strong></div>
					<div class="post">
				<h3>Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>16 Jul 2014 09:08</strong></div>
				<div class="author">by <strong>einstein1969</strong></div>
				<div class="content">Hi to all,<br /><br />I need to write a dos batch program for simple emulate a DEC VT100 monitor.<br /><br />I will test with the BrainF*ck interpreter batch and the Hanoi program. Find <a href="viewtopicc717.html?f=3&amp;t=5751" class="postlink">here</a><br /><br />I think that the syntax for run this batch will be something like:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>bf hanoi.bf | vt100emulator.cmd<br /></code></pre></div><br /><br />The first thing is how to read a character at a time via pipe?<br /><br />einstein1969</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>16 Jul 2014 10:52</strong></div>
				<div class="author">by <strong>aGerman</strong></div>
				<div class="content">What behevior of a VT100 would you like to emulate?<br /><br /><blockquote class="uncited"><div>The first thing is how to read a character at a time via pipe?</div></blockquote><br />Hmm. Have a look at the <em class="text-italics">cmd /u</em> trick to separate characters of a string. I think I posted it first in Daves Snake thread.<br /><a href="viewtopic1da6.html?p=27384#p27384" class="postlink">http://www.dostips.com/forum/viewtopic.php?p=27384#p27384</a><br />Not quite certain if that is what you're looking for though.<br /><br />Regards<br />aGerman</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>17 Jul 2014 03:50</strong></div>
				<div class="author">by <strong>einstein1969</strong></div>
				<div class="content"><blockquote><div><cite>aGerman wrote:</cite>What behevior of a VT100 would you like to emulate?<br /><br /><blockquote class="uncited"><div>The first thing is how to read a character at a time via pipe?</div></blockquote><br />Hmm. Have a look at the <em class="text-italics">cmd /u</em> trick to separate characters of a string. I think I posted it first in Daves Snake thread.<br /><a href="viewtopic1da6.html?p=27384#p27384" class="postlink">http://www.dostips.com/forum/viewtopic.php?p=27384#p27384</a><br />Not quite certain if that is what you're looking for though.<br /><br />Regards<br />aGerman</div></blockquote><br /><br />For the moment i want emulate CLS and GOTOXY (cusor position).<br /><br />I have probed with this piece of code but with no result <img class="smilies" src="images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />vt100.cmd<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp; setlocal enableDelayedExpansion<br /><br />&nbsp; for /f delims^=^ eol^= %%i in (' cmd /v:on /u /c &quot;find /v &quot;&quot; &quot; ') do (<br />&nbsp; &nbsp; set &quot;e=%%i&quot;<br />&nbsp; &nbsp; setlocal EnableDelayedExpansion<br />&nbsp; &nbsp; echo(!e!<br />&nbsp; &nbsp; endlocal<br />&nbsp; )<br /><br />exit /b<br /></code></pre></div><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>bf triangle.bf | vt100.cmd<br /></code></pre></div><br /><br />the output is ok but i need UNBUFFERED I/O. (char by char)<br /><br />einstein1969</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>17 Jul 2014 13:22</strong></div>
				<div class="author">by <strong>aGerman</strong></div>
				<div class="content">cmd /u doesn't work for the output of external commands.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp;setlocal<br />for /f delims^=^ eol^= %%i in ('find /v &quot;&quot;') do (<br />&nbsp; set &quot;ln=%%i&quot;<br />&nbsp; for /f delims^=^ eol^= %%j in ('cmd /von /u /c &quot;echo(!ln!&quot;^|find /v &quot;&quot;^|findstr .') do (<br />&nbsp; &nbsp; set &quot;e=%%j&quot;<br />&nbsp; &nbsp; setlocal EnableDelayedExpansion<br />&nbsp; &nbsp; echo(!e!<br />&nbsp; &nbsp; endlocal<br />&nbsp; )<br />)<br />exit /b</code></pre></div><br /><br />Well CLS is CLS, isn't it. And for the GOTOXY we already have topics at DosTips that show how to achieve it (with 3rd party scripts or executables though).<br /><br />Regards<br />aGerman</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>18 Jul 2014 12:22</strong></div>
				<div class="author">by <strong>einstein1969</strong></div>
				<div class="content"><blockquote><div><cite>aGerman wrote:</cite>cmd /u doesn't work for the output of external commands.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp;setlocal<br />for /f delims^=^ eol^= %%i in ('find /v &quot;&quot;') do (<br />&nbsp; set &quot;ln=%%i&quot;<br />&nbsp; for /f delims^=^ eol^= %%j in ('cmd /von /u /c &quot;echo(!ln!&quot;^|find /v &quot;&quot;^|findstr .') do (<br />&nbsp; &nbsp; set &quot;e=%%j&quot;<br />&nbsp; &nbsp; setlocal EnableDelayedExpansion<br />&nbsp; &nbsp; echo(!e!<br />&nbsp; &nbsp; endlocal<br />&nbsp; )<br />)<br />exit /b</code></pre></div><br /><br />Well CLS is CLS, isn't it. And for the GOTOXY we already have topics at DosTips that show how to achieve it (with 3rd party scripts or executables though).<br /><br />Regards<br />aGerman</div></blockquote><br /><br />Yes, I have not problem with cls or gotoXY.<br /><br />This version of code work and output the character one at the time but there is the problem that, it bufferering all, and then after processing all, output one at the time but is not good for the scope of the emulator. The timing is important.<br /><br />I have tried with the set/p but i thing that there are problem with char controll.<br /><br />I not have enought experince for this. A little more help is necessary.<br /><br />einstein1969</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>18 Jul 2014 13:10</strong></div>
				<div class="author">by <strong>aGerman</strong></div>
				<div class="content">Since you can't force BF to output characterwise you have to buffer the output stream somewhere. Either in a file or in the calling Batch file (and call vt100emulator.cmd once for each character) or even in the called Batch file as shown above.<br /><br />Regards<br />aGerman</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>19 Jul 2014 02:29</strong></div>
				<div class="author">by <strong>einstein1969</strong></div>
				<div class="content"><blockquote><div><cite>aGerman wrote:</cite>Since you can't force BF to output characterwise you have to buffer the output stream somewhere. Either in a file or in the calling Batch file (and call vt100emulator.cmd once for each character) or even in the called Batch file as shown above.<br /><br />Regards<br />aGerman</div></blockquote><br /><br />This seem work ( partially... )<br />this get unbuffered <br />vt100.cmd:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp;setlocal <br /><br />&nbsp;for /L %%i in (1,1,500) do ( <br />&nbsp; set &quot;ln=&quot;<br />&nbsp; set/p&quot;ln=&quot; <br />&nbsp; if defined ln ( <br />&nbsp; &nbsp; &nbsp;set /p &quot;.=!ln!&quot; &lt;nul <br />&nbsp; ) else set /p &quot;.=N/D&quot; &lt;nul <br />&nbsp;)<br /></code></pre></div><br /><br />I have tried <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>bf triangle.bf -s | cmd /von /u /q /c &quot;vt100&quot; <br /></code></pre></div><br />and <br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>bf triangle.bf -s | cmd /von /u /q /c &quot;vt100&quot; | find /v &quot;&quot; |findstr .<br /></code></pre></div><br />and this (get one line at time but the output is better)<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>bf triangle.bf -s | find/v &quot;&quot; | cmd /von /u /q /c &quot;vt100&quot; | find /v &quot;&quot; |findstr .</code></pre></div><br /><br />But i don't know what happen...  <img class="smilies" src="images/smilies/icon_sad.gif" alt=":(" title="Sad" /> <br /><br />the output is safe? How can test if good?<br /><br />PS: the &quot;bf&quot; used is the version 3 of dbenham with silent switch.<br /><br />einstein1969</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>19 Jul 2014 11:43</strong></div>
				<div class="author">by <strong>Aacini</strong></div>
				<div class="content">Ok. I wrote a quick-and-dirty VT100 emulator in assembly language just as a proof of concept. After the output of TowerOfHanoi.b appear at the right positions (the four lines I have, at least) I was surprised of how easy is to create complex output with this method, so I couldn't resist the temptation to add color settings in the emulator and renamed it AnsiSys.exe. The result is amazing!<br /><br />I prepared the following text file called Ansi2.txt with Ansi sequences, it have an ESC character (Ascii 27) before each left bracket:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&#91;2J<br />&nbsp; &nbsp; &nbsp;Foreground:&nbsp; &nbsp;31&nbsp; &nbsp; 32&nbsp; &nbsp; &nbsp;33&nbsp; &nbsp; &nbsp;34&nbsp; &nbsp; &nbsp; 35&nbsp; &nbsp; &nbsp;36&nbsp; &nbsp; &nbsp;37<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#91;1;31m Red &#91;1;32m Green &#91;1;33m Yellow &#91;1;34m Blue &#91;1;35m Magenta &#91;1;36m Cyan &#91;1;37m White&nbsp; &nbsp;Light: 1<br />&nbsp; &nbsp; &nbsp;Ansi colors<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#91;1;37;41m Red &#91;1;37;42m Green &#91;1;37;43m Yellow &#91;1;37;44m Blue &#91;1;37;45m Magenta &#91;1;37;46m Cyan &#91;1;37;47m White &#91;m&nbsp; Light: 5<br />&nbsp; &nbsp; &nbsp;Background:&nbsp; &nbsp;41&nbsp; &nbsp; 42&nbsp; &nbsp; &nbsp;43&nbsp; &nbsp; &nbsp;44&nbsp; &nbsp; &nbsp; 45&nbsp; &nbsp; &nbsp;46&nbsp; &nbsp; &nbsp;47<br /><br /><br /></code></pre></div><br />... and the folowing Batch file called &quot;Ansi Color Table.bat&quot; that create a table of text color combinations using Ansi escape sequences:<br /><br /><strong class="text-strong">EDIT 2014/11/09</strong>: I fixed a small bug in the AnsiSys.exe program that changed to black a non-given attribute, so the default colors set by COLOR command are not preserved.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal EnableDelayedExpansion<br /><br />if not exist AnsiSys.exe (<br />&nbsp; &nbsp;echo Extracting AnsiSys.exe<br />&nbsp; &nbsp;call :ExtractBinaryFile AnsiSys.exe<br />&nbsp; &nbsp;echo AnsiSys.exe file created<br />&nbsp; &nbsp;echo/<br />&nbsp; &nbsp;echo Execute: %0 ^| AnsiSys.exe<br />&nbsp; &nbsp;goto :EOF<br />)<br /><br />rem Create an Ansi table of the 256 foreground/background color combinations<br /><br />rem The next variable must have an Ascii ESC (27) between the equal-sign and the left braquet<br />set &quot;CSI=&#91;&quot;<br /><br />echo/<br />echo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Ansi color table of console text colors<br />echo/<br />echo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^| -^&gt; Foreground light colors, add: ;1<br />echo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^|<br />for /L %%b in (40,1,47) do (<br />&nbsp; &nbsp;set &quot;line=%CSI%%%b;30m%%b30&quot;<br />&nbsp; &nbsp;for /L %%f in (31,1,37) do set &quot;line=!line!%CSI%%%b;%%fm %%b%%f&quot;<br />&nbsp; &nbsp;for /L %%f in (30,1,37) do set &quot;line=!line!%CSI%%%b;%%f;1m %%b%%f&quot;<br />&nbsp; &nbsp;echo !line!<br />)<br />echo/<br />for /L %%b in (40,1,47) do (<br />&nbsp; &nbsp;set &quot;line=%CSI%%%b;5;30m%%b30&quot;<br />&nbsp; &nbsp;for /L %%f in (31,1,37) do set &quot;line=!line!%CSI%%%b;5;%%fm %%b%%f&quot;<br />&nbsp; &nbsp;for /L %%f in (30,1,37) do set &quot;line=!line!%CSI%%%b;5;%%f;1m %%b%%f&quot;<br />&nbsp; &nbsp;echo !line!<br />)<br />echo/<br />echo %CSI%mLast 8 lines background light colors, add: ;5<br />goto :EOF<br /><br /><br />rem Extract Binary File from hexadecimal digits placed in a &quot;resource&quot; in this .bat file<br /><br />:ExtractBinaryFile filename.ext&#91;.cab&#93;<br />setlocal EnableDelayedExpansion<br />set &quot;start=&quot;<br />set &quot;end=&quot;<br />for /F &quot;tokens=1,3 delims=:=&gt;&quot; %%a in ('findstr /N /B &quot;&lt;/*resource&quot; &quot;%~F0&quot;') do (<br />&nbsp; &nbsp;if not defined start (<br />&nbsp; &nbsp; &nbsp; if &quot;%%~b&quot; equ &quot;%~1&quot; set start=%%a<br />&nbsp; &nbsp;) else if not defined end set end=%%a<br />)<br />(for /F &quot;skip=%start% tokens=1* delims=:&quot; %%a in ('findstr /N &quot;^&quot; &quot;%~F0&quot;') do (<br />&nbsp; &nbsp;if &quot;%%a&quot; == &quot;%end%&quot; goto decodeHexFile<br />&nbsp; &nbsp;echo %%b<br />)) &gt; &quot;%~1.hex&quot;<br />:decodeHexFile<br /><br />rem Modified code based on :genchr subroutine<br />type nul &gt; t.tmp<br />(for /F &quot;usebackq&quot; %%a in (&quot;%~1.hex&quot;) do (<br />&nbsp; &nbsp;set input=%%a<br />&nbsp; &nbsp;set i=0<br />&nbsp; &nbsp;for /L %%I in (0,2,120) do for %%i in (!i!) do if &quot;!input:~%%i,1!&quot; neq &quot;&quot; (<br />&nbsp; &nbsp; &nbsp; set hex=!input:~%%i,2!<br />&nbsp; &nbsp; &nbsp; set /A i+=2<br />&nbsp; &nbsp; &nbsp; if &quot;!hex:~0,1!&quot; neq &quot;&#91;&quot; (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set /A chr=0x!hex!<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if not exist !chr!.chr call :genchr !chr!<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type !chr!.chr<br />&nbsp; &nbsp; &nbsp; ) else (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for /L %%J in (1,1,5) do for %%i in (!i!) do if &quot;!input:~%%i,1!&quot; neq &quot;&#93;&quot; (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set &quot;hex=!hex!!input:~%%i,1!&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set /A i+=1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if not exist 0.chr call :genchr 0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for /L %%J in (1,1,!hex:~1!) do type 0.chr<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set /A i+=1<br />&nbsp; &nbsp; &nbsp; )<br />&nbsp; &nbsp;)<br />)) &gt; &quot;%~1&quot;<br />del *.chr<br />del t.tmp temp.tmp<br />del &quot;%~1.hex&quot;<br /><br />rem Expand created file if extension is .cab<br />set &quot;filename=%~1&quot;<br />if /I &quot;%filename:~-4%&quot; equ &quot;.cab&quot; (<br />&nbsp; &nbsp;expand &quot;%filename%&quot; &quot;%filename:~0,-4%&quot; &gt; NUL<br />&nbsp; &nbsp;del &quot;%filename%&quot;<br />)<br /><br />exit /B<br /><br /><br />:genchr<br />REM This code creates one single byte. Parameter: int<br />REM Teamwork of carlos, penpen, aGerman, dbenham<br />REM Tested under Win2000, XP, Win7, Win8<br />set &quot;options=/d compress=off /d reserveperdatablocksize=26&quot;<br />if %~1 neq 26 (<br />&nbsp; &nbsp;makecab %options% /d reserveperfoldersize=%~1 t.tmp %~1.chr &gt; nul<br />&nbsp; &nbsp;type %~1.chr | ( (for /l %%N in (1,1,38) do pause)&gt;nul &amp; findstr &quot;^&quot; &gt; temp.tmp )<br />&nbsp; &nbsp;&gt;nul copy /y temp.tmp /a %~1.chr /b<br />) else (<br />&nbsp; &nbsp;copy /y nul + nul /a 26.chr /a &gt;nul<br />)<br />exit /B<br /><br /><br />&lt;resource id=&quot;AnsiSys.exe&quot;&gt;<br />4d5a900003&#91;3&#93;04&#91;3&#93;ffff&#91;2&#93;b8&#91;7&#93;40&#91;35&#93;c0&#91;3&#93;0e1fba0e00b409cd21b8014ccd21546869732070726f6772616d2063616e6e6f74206265207275<br />6e20696e20444f53206d6f64652e0d0d0a24&#91;7&#93;5159150315387b5015387b5015387b509b2768501b387b50e918695017387b505269636815387b50<br />&#91;24&#93;5045&#91;2&#93;4c010300a64dcf53&#91;8&#93;e0000f010b01050c0006&#91;3&#93;04&#91;7&#93;10&#91;3&#93;10&#91;3&#93;20&#91;4&#93;40&#91;2&#93;10&#91;3&#93;02&#91;2&#93;04&#91;7&#93;04&#91;8&#93;40&#91;3&#93;04&#91;6&#93;03&#91;5&#93;10&#91;2&#93;10<br />&#91;4&#93;10&#91;2&#93;10&#91;6&#93;10&#91;11&#93;2c20&#91;2&#93;3c&#91;84&#93;20&#91;2&#93;2c&#91;27&#93;2e74657874&#91;3&#93;1405&#91;3&#93;10&#91;3&#93;06&#91;3&#93;04&#91;14&#93;20&#91;2&#93;602e7264617461&#91;2&#93;5201&#91;3&#93;20&#91;3&#93;02&#91;3&#93;0a<br />&#91;14&#93;40&#91;2&#93;402e64617461&#91;3&#93;5001&#91;3&#93;30&#91;3&#93;02&#91;3&#93;0c&#91;14&#93;40&#91;2&#93;c0&#91;464&#93;558bec83c4e86af5e8dd04&#91;2&#93;a32c3040008d45ea50ff352c304000e8c304<br />&#91;2&#93;668b45f266a334304000fce87f04&#91;2&#93;e89e04&#91;2&#93;803e007429668b06662d30303c0976082c073c0f76022c1f86c43c0976082c073c0f76022c1f<br />d51066a3343040006a0168433140006a00ff152420400083c40c660bc00f842f01&#91;2&#93;803d433140001b75536a0168433140006a00ff152420400083<br />c40c803d433140005b75c133c048a33e3140008d3d3e314000e8ff&#91;3&#93;aa80fc3b74f58ac48d3d00304000b908&#91;3&#93;8bd9f2ae75952bd94bff149d0830<br />4000eb89803d433140000a743d833d30304000ff75178d45ea50ff352c304000e8e803&#91;2&#93;8b45eea3303040006a0168433140006a01ff151c204000<br />83c40cff0536304000e943ffffff833d363040&#91;2&#93;744066833d343040000774368d3d3a30400066a1343040008b0d36304000f366ab6844314000ff<br />3530304000ff3536304000683a304000ff352c304000e88c03&#91;2&#93;33c0a33630400048a330304000c605433140000d6a0168433140006a01ff151c20<br />400083c40cc605433140000a6a0168433140006a01ff151c20400083c40ce9b6feffff6a00e82903&#91;2&#93;32ff6a0168433140006a00ff152420400083<br />c40ca0433140003c30726d3c3977692c308af86a0168433140006a00ff152420400083c40ca0433140003c30724a3c3977462c308ae7d50a8af86a01<br />68433140006a00ff152420400083c40ca0433140003c3072233c39771f2c308ae7d50a8af86a0168433140006a00ff152420400083c40ca043314000<br />8ae786c4c3803d3e31400002751b6828304000ff152020400083c40433c0a33630400048a330304000c3e8eb01&#91;2&#93;a03e314000fec80fb6d8c1e310<br />a03f314000fec8660fb6d853ff352c304000e85e02&#91;2&#93;c3e8c101&#91;2&#93;668b1d343040008d353e314000ac3cff747b3c007504b307ebf33c01750580cb<br />08ebea3c05750580cb80ebe13c1e72dd3c2577272c1e3c017504b004eb163c037504b006eb0e3c047504b001eb063c067502b00380e3f80ad8ebb23c<br />2872ae3c2f77aa2c283c017504b004eb163c037504b006eb0e3c047504b001eb063c067502b00380e38fc0e0040ad8eb8066891d34304000c3558bec<br />83c4e8e82101&#91;2&#93;8d45ea50ff352c304000e89d01&#91;2&#93;668b45f0660fbe1d3e3140006683fbff750366f7db662bc37c13668945f08b5dee53ff352c30<br />4000e87c01&#91;2&#93;c9c3558bec83c4e8e8d8&#91;3&#93;8d45ea50ff352c304000e85401&#91;2&#93;668b45f0660fbe1d3e3140006683fbff750366f7db6603c3663b45<br />ec7f13668945f08b5dee53ff352c304000e82f01&#91;2&#93;c9c3558bec83c4e8e88b&#91;3&#93;8d45ea50ff352c304000e80701&#91;2&#93;668b45ee660fbe1d3e314000<br />6683fbff750366f7db662bc37c13668945ee8b5dee53ff352c304000e8e6&#91;3&#93;c9c3558bec83c4e8e842&#91;3&#93;8d45ea50ff352c304000e8be&#91;3&#93;668b45<br />ee660fbe1d3e3140006683fbff750366f7db6603c3663b45ea7f13668945ee8b5dee53ff352c304000e899&#91;3&#93;c9c3833d363040&#91;2&#93;744066833d3430<br />40000774368d3d3a30400066a1343040008b0d36304000f366ab6844314000ff3530304000ff3536304000683a304000ff352c304000e854&#91;3&#93;33c0<br />a33630400048a330304000c3e847&#91;3&#93;8bf08a06463c2275098a06463c2275f9eb0c8a06463c20740484c075f54ec38a06463c2074f94ec3ccff2500<br />204000ff2504204000ff2508204000ff250c204000ff2510204000ff2514204000ff2524204000ff251c204000ff25202040&#91;237&#93;9420&#91;2&#93;a220&#91;2&#93;<br />c020&#91;2&#93;d020&#91;2&#93;ec20&#91;2&#93;0a21&#91;6&#93;3221&#91;2&#93;3c21&#91;2&#93;2a21&#91;6&#93;6820&#91;10&#93;1c21&#91;3&#93;20&#91;2&#93;8420&#91;10&#93;4621&#91;2&#93;1c20&#91;22&#93;9420&#91;2&#93;a220&#91;2&#93;c020&#91;2&#93;d020&#91;2&#93;<br />ec20&#91;2&#93;0a21&#91;6&#93;3221&#91;2&#93;3c21&#91;2&#93;2a21&#91;6&#93;9b004578697450726f6365737300f500476574436f6e736f6c6553637265656e427566666572496e666f<br />&#91;2&#93;6a0147657453746448616e646c65&#91;2&#93;6d02536574436f6e736f6c65437572736f72506f736974696f6e&#91;2&#93;f2025772697465436f6e736f6c654f<br />757470757441747472696275746500e600476574436f6d6d616e644c696e6541006b65726e656c33322e646c6c&#91;2&#93;73015f7265616400f8015f7772<br />697465&#91;2&#93;b00273797374656d&#91;2&#93;6d73766372742e646c6c&#91;176&#93;48664a6d41424344691240006912400044124000931240002d134000761340000c<br />144000c3134000434c53&#91;5&#93;ffffffff07&#91;269&#93;ff&#91;189&#93;<br />&lt;/resource&gt;<br /></code></pre></div><br />Note that previous file also create the AnsiSys.exe program. Below is the result of execute this line:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>( type Ansi2.txt &amp; &quot;Ansi Color Table.bat&quot; ) | AnsiSys.exe<br /></code></pre></div><br /><br /><img src="../../i.imgur.com/7VPBqmu.png" class="postimage" alt="Image" /><br /><br />The use of Ansi sequences is particularly useful for Batch files, because it is very easy to add colors at different screen positions. For example, the next file is called AnsiDir.bat:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal EnableDelayedExpansion<br /><br />rem AnsiDir.bat: show DIR output in different colors<br />rem Antonio Perez Ayala<br /><br />rem Define the Ansi colors used in the parameters<br />set &quot;CSI=&#91;&quot;<br />set &quot;Gray=%CSI%40;5;37;1m&quot;<br />set color=40<br />for %%a in (Red Green Yellow Blue Magenta Cyan White) do (<br />&nbsp; &nbsp;set /A color+=1<br />&nbsp; &nbsp;set &quot;%%a=%CSI%!color!;5;37;1m&quot;<br />)<br /><br />set &quot;dirArgs=&quot;<br />:nextArg<br />&nbsp; &nbsp;set &quot;arg=%~1&quot;<br />&nbsp; &nbsp;if &quot;%arg:~0,1%&quot; equ &quot;.&quot; goto nextColor<br />&nbsp; &nbsp;set &quot;dirArgs=%dirArgs% %arg%&quot;<br />&nbsp; &nbsp;shift<br />if &quot;%~1&quot; neq &quot;&quot; goto nextArg<br />goto continue<br /><br />:nextColor<br />&nbsp; &nbsp;set &quot;color&#91;%~1&#93;=!%~2!&quot;<br />&nbsp; &nbsp;shift &amp; shift<br />if &quot;%~1&quot; neq &quot;&quot; goto nextColor<br /><br />:continue<br />(for /F &quot;tokens=1* delims=:&quot; %%a in ('dir %dirArgs% ^| findstr /N &quot;^&quot;') do (<br />&nbsp; &nbsp;set &quot;line=%%b&quot;<br />&nbsp; &nbsp;set &quot;ext=!line:~-4!&quot;<br />&nbsp; &nbsp;if not defined color&#91;!ext!&#93; (<br />&nbsp; &nbsp; &nbsp; echo/!line!<br />&nbsp; &nbsp;) else (<br />&nbsp; &nbsp; &nbsp; for %%e in (!ext!) do echo !color&#91;%%e&#93;!!line!%CSI%m<br />&nbsp; &nbsp;)<br />)) &gt; AnsiDir.txt<br /><br />AnsiSys.exe &lt; AnsiDir.txt<br />del AnsiDir.txt<br /></code></pre></div><br />Previous Batch file take in the first parameters the ones that will be passed to a DIR command, and in the last parameters a list of &quot;.ext=color&quot; pairs; the possible colors are: Gray, Red, Green, Yellow, Blue, Magenta, Cyan and White. For example, below is a comparison of &quot;dir Ansi*.*&quot; command vs. &quot;AnsiDir Ansi*.* .asm=Red .exe=Blue .txt=Gray&quot; when executed in my computer:<br /><br /><img src="../../i.imgur.com/C6fguDl.png" class="postimage" alt="Image" /><br /><br />I then added an initial color attribute to AnsiSys.exe program that may be useful to display any text, with no Ansi escape sequences, in a given color. For example, to view if a file have spaces after the last visible character in each line, just use: &quot;AnsiSys.exe 1F &lt; anyFile.txt&quot;, or to implement the frequently-requested feature of differentiate lines sent to Stderr from normal Stdout lines, use &quot;anyCommand 2&gt;&amp;1 1&gt;&amp;3 | AnsiSys.exe attrib&quot;. As exampe of this feature, we use this &quot;Ansi Error.bat&quot; file that send a couple lines to Stderr:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />echo This line to Stdout<br />ping -n 2 -w 1 localhost &gt; NUL<br />echo THIS LINE IS AN ERROR! &gt;&amp;2<br />ping -n 2 -w 1 localhost &gt; NUL<br />echo This line is normal<br />ping -n 2 -w 1 localhost &gt; NUL<br />echo Another line to Stderr &gt;&amp;2<br />ping -n 2 -w 1 localhost &gt; NUL<br />echo The last normal line<br /></code></pre></div><br />... and run it this way:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&quot;Ansi Error.bat&quot; 2&gt;&amp;1 1&gt;&amp;3 | AnsiSys.exe 4E<br /></code></pre></div><br /><br /><img src="../../i.imgur.com/3jY1pFu.png" class="postimage" alt="Image" /><br /><br /><strong class="text-strong">IMPORTANT</strong>: The version of AnsiSys.exe program included here have not any error checking, so the program output will be wrong if the screen scrolls without a new Ansi escape sequence or end of line, and the program will crash if there are more than 128 characters without a new Ansi escape sequence or end of line.<br /><br />Enjoy! <img class="smilies" src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br />Antonio<br /><br />PS - I have not steam enough to check if the ESCape character (Ascii 27) used in CSI variable may be correctly copied when it is copy-pasted from this site.  <img class="smilies" src="images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" /> If not, I'll appreciate it if someone post the right method to generate the ESC.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>19 Jul 2014 12:14</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content">It looks very good Antonio.<br /><br />The first scripts work as designed, the colour is great!  <br />The escape character is copied just fine from the web page too.<br /><br />The last script however has the <span style="color: blue">goto continue</span> but it doesn't have a <span style="color: blue">:continue</span> label and it's too late for me to try debugging it here. <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>19 Jul 2014 12:33</strong></div>
				<div class="author">by <strong>Aacini</strong></div>
				<div class="content"><blockquote><div><cite>foxidrive wrote:</cite>It looks very good Antonio.<br /><br />The first scripts work as designed, the colour is great!  <br />The escape character is copied just fine from the web page too.<br /><br />The last script however has the <span style="color: blue">goto continue</span> but it doesn't have a <span style="color: blue">:continue</span> label and it's too late for me to try debugging it here. <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div></blockquote><br /><br />Oops! Fixed it!  <img class="smilies" src="images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>19 Jul 2014 13:21</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content">Thanks Antonio.<br /><br />For other readers, note that the last script can be saved as <span style="color: blue">Ansidir.bat</span> and it works like this:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Ansidir ansi* .exe=red .bat=blue</code></pre></div><br /><br />Which colours the lines in the dir listing for the <span style="color: blue">ansi*</span> filespec and makes .exe files red and .bat file blue.<br />You have to read the images to realise that and I posted this part so that you can copy and paste the command to try it.<br /><br />Antonio, it would be useful if you you can also paste the code for the bottom image into your posts <br />so people can save it to remind themselves later how it works, without needing to type it all in without typos.<br /><br />Thanks for your fine work.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>19 Jul 2014 15:52</strong></div>
				<div class="author">by <strong>Aacini</strong></div>
				<div class="content"><blockquote><div><cite>foxidrive wrote:</cite>Thanks Antonio.<br /><br />For other readers, note that the last script can be saved as <span style="color: blue">Ansidir.bat</span> and it works like this:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Ansidir ansi* .exe=red .bat=blue</code></pre></div><br /><br />Which colours the lines in the dir listing for the <span style="color: blue">ansi*</span> filespec and makes .exe files red and .bat file blue.<br />You have to read the images to realise that and I posted this part so that you can copy and paste the command to try it.<br /><br />Antonio, it would be useful if you you can also paste the code for the bottom image into your posts <br />so people can save it to remind themselves later how it works, without needing to type it all in without typos.<br /><br />Thanks for your fine work.</div></blockquote><br />Thank you for your suggestions, foxi; I completed this and other similar modifications in the original post.<br /><br /><br />This is the file &quot;Ansi USA Flag.txt&quot;:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&#91;44;37;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#91;41;5;31;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&#91;44;37;1m&nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &#91;41;5;37;1mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„<br />&#91;44;37;1m&nbsp; &nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp; &#91;47;5;37;1mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ<br />&#91;44;37;1m&nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &#91;41;5;37;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&#91;44;37;1m&nbsp; &nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp; &#91;41;5;37;1mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„<br />&#91;44;37;1m&nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &#91;41;5;37;1mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ<br />&#91;44;37;1m&nbsp; &nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp; &#91;41;5;37;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&#91;44;37;1m&nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &#91;41;5;37;1mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„<br />&#91;44;37;1m&nbsp; &nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp; &#91;47;5;37;1mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ<br />&#91;44;37;1m&nbsp; *&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &nbsp;*&nbsp; &#91;41;5;37;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&#91;44;37;1mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„&#91;41;5;37;1mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„<br />â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ<br />&#91;41;5;31;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&#91;41;5;37;1mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„<br />&#91;47;5;37;1mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ<br />&#91;41;5;37;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&#91;41;5;37;1mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„<br />&#91;41;5;37;1mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ<br />&#91;41;5;37;1m&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&#91;41;5;30mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„<br /></code></pre></div><br />... and below is the result when it is displayed in the screen this way:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>type &quot;Ansi USA Flag.txt&quot; | AnsiSys.exe<br /></code></pre></div><br /><br /><img src="../../i.imgur.com/LjE6PVy.png" class="postimage" alt="Image" /><br /><br />When I created &quot;Ansi USA Flag.txt&quot; in Notepad, taken it from a screen copy of the output of my <a href="viewtopic8a7b.html?f=3&amp;t=5641&amp;p=35010#p35010" class="postlink">USA Flag.bat</a> program, the first time that I saved the file Notepad said that it have non-Ansi characters, so it needs to be saved as Unicode. When I tried to show it this way: <strong class="text-strong">AnsiSys.exe &lt; &quot;Ansi USA Flag.txt&quot;</strong> it does not dispay correctly, so I need to try with <strong class="text-strong">type &quot;Ansi USA Flag.txt&quot; | AnsiSys.exe</strong>. This means that TYPE not just convert an Unicode file to Ascii, but it also convert the extended characters beyond 256 that have some representation in the current code page! I don't know if this point had been discussed before...<br /><br />Antonio</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>19 Jul 2014 22:58</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content">I had a couple of glitches here.  Windows 8.1 32 bit<br /><br />I use the Consolas font in my cmd prompt.<br /><br /><img src="../../i57.tinypic.com/rljj28.jpg" class="postimage" alt="Image" /><br /><br /><br />This flag was after editing the file in notepad to add an esc to the very first character which I missed in copy/paste.<br />When I copied the whole text again and tried it, the output is very similar but has rows of ???????????????  through it.<br /><br /><img src="../../i60.tinypic.com/21311xh.jpg" class="postimage" alt="Image" /></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>20 Jul 2014 03:17</strong></div>
				<div class="author">by <strong>dbenham</strong></div>
				<div class="content">Great start to a great utility Antonio. It's already extremely useful. I've wanted something like ansisys.com for 64 bit Windows for a long time.  <img class="smilies" src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  <img class="smilies" src="images/smilies/icon_cool.gif" alt="8)" title="Cool" /> <br /><br /><br />Dave Benham</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Help with program that emulate VT100 terminal</h3>
				<div class="date">Posted: <strong>20 Jul 2014 03:59</strong></div>
				<div class="author">by <strong>einstein1969</strong></div>
				<div class="content">Nice work Antonio!  <img class="smilies" src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br /><br />If you need to debug you can use <a href="http://sixteencolors.net/pack/roots01/US-SLURG.ANS" class="postlink">this</a><br /><br />I have probed but there are some problem on some lines and the color should be adjusted<br /><br /><img src="../../i61.tinypic.com/axk3o8.png" class="postimage" alt="Image" /><br /><br />I have tried some years ago on ubuntu this is a snapshot of an user that developed a color adjust.<br /><br /><img src="../../i58.tinypic.com/2iv1t02.png" class="postimage" alt="Image" /><br /><br />OT<br />For the vt100 emulator (in real time, not file input) have you some suggestion?<br />/OT <img class="smilies" src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />einstein1969</div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="UTC-6">UTC-06:00</span><br />Page <strong>1</strong> of <strong>3</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Limited<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=5772&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 08:31:43 GMT -->
</html>
