<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?p=43970 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 07:05:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Dos Batch Math Library - Page 2 - DosTips.com</title>


	<link rel="canonical" href="viewtopic77e1.html?t=5819&amp;start=15">

<!--
	phpBB style name: Allan Style - SUBSILVER
	Based on style:   prosilver (this is the default phpBB3 style)
	Based on style:   subsilver2 (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  Allan ( http://x-tk.ru/ )
-->

<link href="assets/css/font-awesome.mind772.css?assets_version=34" rel="stylesheet">
<link href="styles/AllanStyle-SUBSILVER/theme/stylesheetd772.css?assets_version=34" rel="stylesheet">
<link href="styles/AllanStyle-SUBSILVER/theme/en/stylesheetd772.css?assets_version=34" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/AllanStyle-SUBSILVER/theme/tweaks.css?assets_version=34" rel="stylesheet">
<![endif]-->




<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','../../www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-280191-1', 'auto');
	ga('send', 'pageview');
</script>

</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">

<div id="header-subsilver">
	<a id="top" class="top-anchor" accesskey="t"></a>
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
				<a id="logo" class="logo" href="../index.html" title="DosTips.com"><span class="site_logo"></span></a>
				<h1>DosTips.com</h1>
				<p>A Forum all about DOS Batch</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div id="search-box" class="search-box search-header" role="search">
				<form action="https://www.dostips.com/forum/search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" value="" placeholder="Search…" />
					<button class="button button-search" type="submit" title="Search">
						<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
					</button>
					<a href="search.html" class="button button-search-end" title="Advanced search">
						<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
					</a>
					
				</fieldset>
				</form>
			</div>
						
			</div>
					</div>
</div>


<div id="wrap" class="wrap">
	<div id="page-header">
				<div class="navbar-top" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
																									<li>
								<a href="search33a7.html?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="search526f.html?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="search.html" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
																			<li>
								<a href="memberlist4bfd.html?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

									</ul>
			</div>
		</li>

				<li data-skip-responsive="true">
			<a href="app.php/help/faq.html" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
			<li class="rightside"  data-skip-responsive="true">
			<a href="ucp26c3.html?mode=login" title="Login" accesskey="x" role="menuitem">
				<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Login</span>
			</a>
		</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="ucp8319.html?mode=register" role="menuitem">
					<i class="icon fa-pencil-square-o  fa-fw" aria-hidden="true"></i><span>Register</span>
				</a>
			</li>
						</ul>

	</div>
</div>

<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
						<li class="breadcrumbs">
							<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="../index.html" itemprop="url" data-navbar-reference="home"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span itemprop="title">DosTips.com</span></a></span>
										<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="index.html" itemprop="url" accesskey="h" data-navbar-reference="index"><span itemprop="title">Board index</span></a></span>

											<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="4"><a href="viewforum31e6.html?f=4" itemprop="url"><span itemprop="title">DosTips - Dos Batch</span></a></span>
															<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="3"><a href="viewforum4d6b.html?f=3" itemprop="url"><span itemprop="title">DOS Batch Forum</span></a></span>
												</li>
		
					<li class="rightside responsive-search">
				<a href="search.html" title="View the advanced search options" role="menuitem">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</a>
			</li>
			</ul>

	</div>
</div>

<div class="navbar-top-link">
	<div class="inner">
		<ul>
			<li class="navbar-top-link-left"><a href="search33a7.html?search_id=unanswered">Unanswered topics</a></li>
			<li class="navbar-top-link-left"><a href="search526f.html?search_id=active_topics">Active topics</a></li>

											</ul>
	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
		
<h2 class="topic-title"><a href="viewtopicee55.html?f=3&amp;t=5819&amp;start=15">Dos Batch Math Library</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Discussion forum for all Windows batch related topics.<br /></div>
<p>
	<strong>Moderator:</strong> <a href="memberlista6a8.html?mode=viewprofile&amp;u=5" class="username">DosItHelp</a>
</p>


<div class="action-bar bar-top">
	
			<a href="postingdac0.html?mode=reply&amp;f=3&amp;t=5819" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic408e.html?f=3&amp;t=5819&amp;start=15&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="https://www.dostips.com/forum/search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="search.html" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="5819" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			59 posts
							<ul>
			<li class="arrow previous"><a class="button button-icon-only" href="viewtopic8d84.html?f=3&amp;t=5819" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="viewtopic8d84.html?f=3&amp;t=5819" role="button">1</a></li>
			<li class="active"><span>2</span></li>
				<li><a class="button" href="viewtopic5027.html?f=3&amp;t=5819&amp;start=30" role="button">3</a></li>
				<li><a class="button" href="viewtopic261a.html?f=3&amp;t=5819&amp;start=45" role="button">4</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="viewtopic5027.html?f=3&amp;t=5819&amp;start=30" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
		</div>




<div id="subsilver-nav-topic">
	<div class="inner"><div class="post has-profile">
		<div class="leftsided postbody subsilver-topic-title">Message</div>
		<div class="leftsided postprofile subsilver-topic-author">Author</div>
	</div></div>
</div>

			<div id="p36229" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile36229">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist3d77.html?mode=viewprofile&amp;u=2258" style="color: #00AA00;" class="username-coloured">dbenham</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searcha86d.html?author_id=2258&amp;sr=posts">2152</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 12 Feb 2011 21:02</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> United States (east coast)</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content36229">

						<h3 class="first"><a href="#p36229">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting7583.html?mode=quote&amp;f=3&amp;p=36229" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopiceacd.html?p=36229#p36229" onclick="prompt('Message #16',this.href); return false;">#16</a></span> 
									<a class="unread" href="viewtopiceacd.html?p=36229#p36229" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist3d77.html?mode=viewprofile&amp;u=2258" style="color: #00AA00;" class="username-coloured">dbenham</a></strong> &raquo; </span>11 Aug 2014 07:08
			</p>
			
			
			
			<div class="content">Done - post has been edited <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><br />Also, abs() of a 32bit integer is trivial to implement. Here is a version.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br /><br />:ABS&nbsp; InExpr&nbsp; &#91;OutVar&#93;<br />::<br />:: Compute the absolute value of expression InExpr<br />:: and store the result in variable OutVar.<br />:: Write the result to stdout if OutVar not specified.<br />::<br />:: InExpr may be a valid SET /A mathematical expression.<br />::<br />:: An error is raised if an attempt is made to get the<br />:: absolute value of the smallest negative integer.<br />::<br />setlocal<br />set /a &quot;rtn=%~1&quot;<br />set /a &quot;rtn=%rtn:-=%&quot; || exit /b<br />endlocal &amp; if &quot;%~2&quot; equ &quot;&quot; (echo %rtn%) else set &quot;%~2=%rtn%&quot;<br />exit /b<br /></code></pre></div></div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p36262" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile36262">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content36262">

						<h3 ><a href="#p36262">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting6fd1.html?mode=quote&amp;f=3&amp;p=36262" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopice81c.html?p=36262#p36262" onclick="prompt('Message #17',this.href); return false;">#17</a></span> 
									<a class="unread" href="viewtopice81c.html?p=36262#p36262" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>13 Aug 2014 07:57
			</p>
			
			
			
			<div class="content">well done. Soon i propose an alternate method (faster) for the sqrt.<br /><br />Francesco Poscetti</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p36302" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile36302">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1a30.html?author_id=2556&amp;sr=posts">146</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 01 Jul 2011 08:47</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content36302">

						<h3 ><a href="#p36302">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingca3e.html?mode=quote&amp;f=3&amp;p=36302" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic79a1.html?p=36302#p36302" onclick="prompt('Message #18',this.href); return false;">#18</a></span> 
									<a class="unread" href="viewtopic79a1.html?p=36302#p36302" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a></strong> &raquo; </span>17 Aug 2014 15:45
			</p>
			
			
			
			<div class="content">Calculating Square Root<br /><br />Here the mathematic rules:<br /><ul>(a + b)^2 = <span style="color: #FF0000">a^2</span> + <span style="color: #40BF00">2ab + b^2</span><br />= <span style="color: #FF0000">a^2</span> + <span style="color: #40BF00">(2a + b) * b</span><br /><br />(a + b + c)^2 = <span style="color: #FF0000">a^2</span> + <span style="color: #40BF00">2ab + b^2</span> + <span style="color: #BF8000">2ac + 2bc + c^2</span><br />= <span style="color: #FF0000">a^2</span> + <span style="color: #40BF00">(2a + b) * b</span> + <span style="color: #BF8000">(2a + 2b + c) * c</span><br /></ul><br />Here my code<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />echo Square Root<br />set para=%1<br />if %1# equ # (echo ERROR no number or negativ number) &amp; echo. &amp; goto :eof<br />if %1 lss 0 (echo ERROR no number or negativ number) &amp; echo. &amp; goto :eof<br />if %1 equ 0 echo sqrt(0) = 0 &amp; goto :eof<br /><br />set result=0<br />set var2=%para%<br />set &quot;hvar= &quot;<br />:bnum<br />set /a var1=&quot;var2 %% 100&quot;, var2= var2 / 100<br />set hvar=%var1% %hvar%<br />if %var2% geq 1 goto :bnum<br />call :wurzelber %hvar%<br />echo sqrt(%para%) = %result%<br />goto :eof<br /><br />:wurzelber<br />rem echo %*<br />set digit=1<br />set zahl2=0<br />set zahl1=%1<br />for %%a in (1 4 9 16 25 36 49 64 81) do if %zahl1% geq %%a set /a zahl2+=1<br />set /a zahl1=zahl1 - zahl2*zahl2<br /><br />:next1<br />if %2# neq # (set zahln=%2) else (set /a zahln=0, digit*=10)<br />set /a zahl1=zahl1 * 100 + zahln, zahlh = zahl1 / zahl2 / 20, zahl3 = (20 * zahl2 + zahlh) * zahlh<br /><br />if %zahl1% lss %zahl3% set /a zahlh-=1, zahl3 = (20 * zahl2 + zahlh) * zahlh<br /><br />set /a zahl2 = 10 * zahl2 + zahlh, zahl1 -= zahl3<br />shift /2<br /><br />if %digit% equ 1 if %zahl1% equ 0 (set result=%zahl2%) &amp; goto :eof<br />if %zahl1% geq 1000000 (<br />&nbsp; set /a zahla = zahl2 / digit, zahlb = &quot;(zahl2 %% digit) + digit&quot;<br />) &amp; (set result=!zahla!.!zahlb:~1!) &amp; goto :eof<br />goto :next1</code></pre></div></div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p36310" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile36310">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist3d77.html?mode=viewprofile&amp;u=2258" style="color: #00AA00;" class="username-coloured">dbenham</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searcha86d.html?author_id=2258&amp;sr=posts">2152</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 12 Feb 2011 21:02</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> United States (east coast)</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content36310">

						<h3 ><a href="#p36310">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting4aa4.html?mode=quote&amp;f=3&amp;p=36310" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic5bd2.html?p=36310#p36310" onclick="prompt('Message #19',this.href); return false;">#19</a></span> 
									<a class="unread" href="viewtopic5bd2.html?p=36310#p36310" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist3d77.html?mode=viewprofile&amp;u=2258" style="color: #00AA00;" class="username-coloured">dbenham</a></strong> &raquo; </span>18 Aug 2014 09:32
			</p>
			
			
			
			<div class="content">@tebor68 - I'm afraid that is a significant step backwards.<br /><br />- You forgot SetLocal EnableDelayedExpansion<br /><br />- It fails with perfect squares: 1, 4, 9, 25, etc.<br /><br />- The last decimal digit(s) are not always correct<br /><br />- Using test values of 11, 110, 1100, 11000, 110000, 1100000, 11000000, 110000000, 1100000000, I find it to be 75% slower than my most recent version<br /><br /><br />Dave Benham</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p36324" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile36324">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1a30.html?author_id=2556&amp;sr=posts">146</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 01 Jul 2011 08:47</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content36324">

						<h3 ><a href="#p36324">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting0a80.html?mode=quote&amp;f=3&amp;p=36324" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic5e7c.html?p=36324#p36324" onclick="prompt('Message #20',this.href); return false;">#20</a></span> 
									<a class="unread" href="viewtopic5e7c.html?p=36324#p36324" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a></strong> &raquo; </span>19 Aug 2014 02:01
			</p>
			
			
			
			<div class="content">I have changed the code. <br />Now the pure square numbers less than 100 are also correct. <br />The result has now less one decimal place, but this is rounded.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />SetLocal EnableDelayedExpansion<br />echo Square Root<br />set para=%1<br />if %1# equ # (echo ERROR no number or negativ number) &amp; echo. &amp; goto :eof<br />if %1 lss 0 (echo ERROR no number or negativ number) &amp; echo. &amp; goto :eof<br />if %1 equ 0 echo sqrt(0) = 0 &amp; goto :eof<br /><br />set result=0<br />set var2=%para%<br />set &quot;hvar= &quot;<br />:bnum<br />set /a var1=&quot;var2 %% 100&quot;, var2= var2 / 100<br />set hvar=%var1% %hvar%<br />if %var2% geq 1 goto :bnum<br />call :wurzelber %hvar%<br />echo sqrt(%para%) = %result%<br />goto :eof<br /><br />:wurzelber<br />rem echo %*<br />set digit=1<br />set zahl2=0<br />set zahl1=%1<br />for %%a in (1 4 9 16 25 36 49 64 81) do if %zahl1% geq %%a set /a zahl2+=1<br />set /a zahl1=zahl1 - zahl2*zahl2<br />if %2# equ # if %zahl1% equ 0 (set result=%zahl2%) &amp; goto :eof<br /><br />:next1<br />if %2# neq # (set zahln=%2) else (set /a zahln=0, digit*=10)<br />set /a zahl1=zahl1 * 100 + zahln, zahlh = zahl1 / zahl2 / 20, zahl3 = (20 * zahl2 + zahlh) * zahlh<br /><br />if %zahl1% lss %zahl3% set /a zahlh-=1, zahl3 = (20 * zahl2 + zahlh) * zahlh<br /><br />set /a zahl2 = 10 * zahl2 + zahlh, zahl1 -= zahl3<br />shift /2<br /><br />if %digit% equ 1 if %zahl1% equ 0 (set result=%zahl2%) &amp; goto :eof<br />if %zahl1% geq 1000000 (<br />&nbsp; set /a zahla = zahl2 / digit, zahlb = &quot;((zahl2 + 5) %% digit) + digit&quot;<br />) &amp; (set result=!zahla!.!zahlb:~1,-1!) &amp; goto :eof<br />goto :next1</code></pre></div></div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p36325" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile36325">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist3d77.html?mode=viewprofile&amp;u=2258" style="color: #00AA00;" class="username-coloured">dbenham</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searcha86d.html?author_id=2258&amp;sr=posts">2152</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 12 Feb 2011 21:02</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> United States (east coast)</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content36325">

						<h3 ><a href="#p36325">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingc621.html?mode=quote&amp;f=3&amp;p=36325" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic8c37.html?p=36325#p36325" onclick="prompt('Message #21',this.href); return false;">#21</a></span> 
									<a class="unread" href="viewtopic8c37.html?p=36325#p36325" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist3d77.html?mode=viewprofile&amp;u=2258" style="color: #00AA00;" class="username-coloured">dbenham</a></strong> &raquo; </span>19 Aug 2014 05:14
			</p>
			
			
			
			<div class="content">@trebor68<br /><br />Perfect square multiples of 100 are wrong.<br /><br />Examples:<br />10000, 1000000 both compute as 10<br />40000, 4000000 both compute as 20<br /><br /><br />Dave Benham</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p36336" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile36336">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1a30.html?author_id=2556&amp;sr=posts">146</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 01 Jul 2011 08:47</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content36336">

						<h3 ><a href="#p36336">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingb71f.html?mode=quote&amp;f=3&amp;p=36336" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic7d13.html?p=36336#p36336" onclick="prompt('Message #22',this.href); return false;">#22</a></span> 
									<a class="unread" href="viewtopic7d13.html?p=36336#p36336" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a></strong> &raquo; </span>19 Aug 2014 08:18
			</p>
			
			
			
			<div class="content">@dbenham<br /><br />Thank you.<br />The code has previously worked well up to this point. But after the code change I have probably not tested again this part.<br /><br /><br />Change the condition for the perfect squares greater 100.<br /><br />Also change condition for the not perfect squares (now checked with variable zahl2).<br />The result with 8 significant digits, last digit is rounded.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />SetLocal EnableDelayedExpansion<br />echo Square Root<br />set para=%1<br />if %1# equ # (echo ERROR no number or negativ number) &amp; echo. &amp; goto :eof<br />if %1 lss 0 (echo ERROR no number or negativ number) &amp; echo. &amp; goto :eof<br />if %1 equ 0 echo sqrt(0) = 0 &amp; goto :eof<br /><br />set result=0<br />set var2=%para%<br />set &quot;hvar= &quot;<br />:bnum<br />set /a var1=&quot;var2 %% 100&quot;, var2= var2 / 100<br />set hvar=%var1% %hvar%<br />if %var2% geq 1 goto :bnum<br />call :wurzelber %hvar%<br />echo sqrt(%para%) = %result%<br />goto :eof<br /><br />:wurzelber<br />rem echo %*<br />set digit=1<br />set zahl2=0<br />set zahl1=%1<br />for %%a in (1 4 9 16 25 36 49 64 81) do if %zahl1% geq %%a set /a zahl2+=1<br />set /a zahl1=zahl1 - zahl2*zahl2<br />if %2# equ # if %zahl1% equ 0 (set result=%zahl2%) &amp; goto :eof<br /><br />:next1<br />if %2# neq # (set zahln=%2) else (set /a zahln=0, digit*=10)<br />set /a zahl1=zahl1 * 100 + zahln, zahlh = zahl1 / zahl2 / 20, zahl3 = (20 * zahl2 + zahlh) * zahlh<br /><br />if %zahl1% lss %zahl3% set /a zahlh-=1, zahl3 = (20 * zahl2 + zahlh) * zahlh<br /><br />set /a zahl2 = 10 * zahl2 + zahlh, zahl1 -= zahl3<br />shift /2<br /><br />if %digit% equ 1 if %zahl1% equ 0 if %2# equ # (set result=%zahl2%) &amp; goto :eof<br /><br />rem break calc when: zahl2 GEQ 100,000,000&nbsp; ##&nbsp; result with 8 significant digits, last digit is rounded<br />if %zahl2% geq 100000000 (<br />&nbsp; set /a zahla = &quot;(zahl2 + 5) / digit&quot;, zahlb = &quot;((zahl2 + 5) %% digit) + digit&quot;<br />) &amp; (set result=!zahla!.!zahlb:~1,-1!) &amp; goto :eof<br />goto :next1</code></pre></div></div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p36600" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile36600">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1a30.html?author_id=2556&amp;sr=posts">146</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 01 Jul 2011 08:47</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content36600">

						<h3 ><a href="#p36600">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting36cd.html?mode=quote&amp;f=3&amp;p=36600" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic480e.html?p=36600#p36600" onclick="prompt('Message #23',this.href); return false;">#23</a></span> 
									<a class="unread" href="viewtopic480e.html?p=36600#p36600" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistaaaf.html?mode=viewprofile&amp;u=2556" class="username">trebor68</a></strong> &raquo; </span>02 Sep 2014 14:47
			</p>
			
			
			
			<div class="content">Here a batch file to calculate the Square root.<br />The steps correspond to the calculation with decimal numbers, but here the calculations on binary numbers are optimized.<br /><br />BATCH <span style="color: #FF0000">value</span><br />BATCH <span style="color: #808000">value IEEE</span><br /><br /><span style="color: #FF0000">value</span><br />&quot;Value&quot; is an integer from 0 through 2147483647.<br />The result is calculated to four decimal places.<br /><br /><span style="color: #808000">value IEEE</span><br />&quot;Value&quot; is a number in floating-point representation.<br />For some values ​​of all results are not yet available. These values ​​are quite small numbers, the really big numbers and the number 0.<br /><br /><br />EDIT<br />The revision of the values ​​&quot;inf&quot; and &quot;NaN&quot; incorporated.<br />The results of the values ​​greater than zero and less 2^-127  (1.1754944 e-38; IEEE 0x00800000) incorrect.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />SetLocal EnableExtensions <br />:: EnableDelayedExpansion<br />echo Square Root (version binary^)<br />echo.<br />set &quot;IEEE=&quot;<br />if /i &quot;%2&quot; equ &quot;IEEE&quot; (set IEEE=IEEE) &amp; goto :ieee1<br /><br />set /a para=%1 &gt;nul 2&gt;&amp;1<br />if errorlevel 1 (echo ERROR - wrong value:&nbsp; &nbsp;%1) &amp; goto :eof<br /><br />if %para%#==# (echo ERROR - no parameter) &amp; goto :eof<br />if %para% lss 0 (echo ERROR - no negative numbers) &amp; goto :eof<br />if %para% equ 0 (echo SQRT(%para%^) = 0) &amp; goto :eof<br /><br />rem&nbsp; ##&nbsp; 33222222 22221111 11111100 00000000&nbsp; &nbsp;###&nbsp; &nbsp;33222222 22221111 11111100 00000000<br />rem&nbsp; ##&nbsp; 10987654 32109876 54321098 76543210&nbsp; &nbsp;###&nbsp; &nbsp;10987654 32109876 54321098 76543210&nbsp; &nbsp;Bits in variable num and num2<br />rem&nbsp; ##&nbsp; lxxxxxxx xxxxxxxx xxxxxxxx xxxxxxxx&nbsp; &nbsp;###&nbsp; &nbsp;iixxxxxx xxxxxxxx xxxxxxxx xxxxxxxx&nbsp; &nbsp;Integer value; l - not used (minus bit); ii - used when num2 less than 0<br />rem&nbsp; ##&nbsp; leeeeeee exxxxxxx xxxxxxxx xxxxxxxx&nbsp; &nbsp;###&nbsp; &nbsp;iixxxxxx xxxxxxxx xxxxxxxx xxxxxxxx&nbsp; &nbsp;IEEE value; l - not used (minus bit); e - exponent; ii - used when num2 less than 0<br />rem&nbsp; result of Integer value&nbsp; &nbsp; &nbsp; :&nbsp; (1098 7654 3210 9876&nbsp; 543 2109 8765 4321) * 2^-15&nbsp; &nbsp;&lt;==&gt;&nbsp; result with max 31 bits<br />rem&nbsp; result of floting point value:&nbsp; (&nbsp; &nbsp; &nbsp;7654 3210 9876&nbsp; 543 2109 8765 4321) * 2^-15&nbsp; &nbsp;&lt;==&gt;&nbsp; any result with 27 bits<br />rem&nbsp; IEEE calcuting with the xxx and bit 23 (in variable num): 2^23 + xxx<br /><br />rem bit = max 15 in 32-Bit-system; Integer (max = 2147483647)<br />:ieee1<br />set /a res = 1, bit = 15, num = %1, &quot;block = (1 &lt;&lt; (2 * bit))&quot;, blplus = 0x40000000, num2 = 0, ERRcode = -1<br /><br /><br />if defined IEEE set /a &quot;sgn = (%1 &gt;&gt; 31) &amp; 1&quot;, &quot;exp = (%1 &amp; 0x7F800000) &gt;&gt; 23&quot;, &quot;man = %1 &amp; 0x7FFFFF&quot;<br /><br />rem test value with special values: NaN, inf and 0<br />rem&nbsp; &nbsp;SQRT(NaN) and SQRT(-NaN)&nbsp; --&nbsp; not possible then value is not a number<br />rem&nbsp; &nbsp;SQRT(inf) and SQRT(-inf)&nbsp; --&nbsp; not possible then value is infinity<br />rem&nbsp; &nbsp;SQRT(0)&nbsp; &nbsp;and SQRT(-0)&nbsp; &nbsp; --&nbsp; definated as Zero&nbsp; --&nbsp; definated: SQRT(-0) = -0<br />if defined IEEE (<br />&nbsp; if %1 equ 0x7FFFFFFF set /a result2 = 0x7FFFFFFF, ERRcode = 1<br />&nbsp; if %1 equ 0xFFFFFFFF set /a result2 = 0xFFFFFFFF, ERRcode = 1<br />&nbsp; if %1 equ 0x7F800000 set /a result2 = 0x7FFFFFFF, ERRcode = 2<br />&nbsp; if %1 equ 0xFF800000 set /a result2 = 0xFFFFFFFF, ERRcode = 2<br />&nbsp; if %1 equ 0x00000000 set /a result2 = 0x00000000, ERRcode = 0<br />&nbsp; if %1 equ 0x80000000 set /a result2 = 0x80000000, ERRcode = 0<br />)<br />if %ERRcode% neq -1 goto :next5<br /><br />if defined IEEE set /a&nbsp; &quot;num = man | 0x800000&quot;<br />if defined IEEE set /a&nbsp; para2=num, exp2 = exp - 127, sgn2 = -1 * sgn<br />:: if defined IEEE (echo IEEE&nbsp; sgn = %sgn%&nbsp; ==^&gt;&nbsp; %sgn2%&nbsp; #&nbsp; exp = %exp%&nbsp; ==^&gt;&nbsp; %exp2%&nbsp; #&nbsp; man = %man%&nbsp; ==^&gt;&nbsp; %num%) &amp; echo.<br /><br />rem WHEN exp = 2n+1 IS num = 1.xxx * 2^23 THEN exp ==&gt; 2n TO num ==&gt; 1x.xxx * 2^22<br />if defined IEEE set /a &quot;hvar = exp &amp; 1&quot;, &quot;num2 = hvar * (num &amp; 1) * 0x20000000&quot;, &quot;num = num &gt;&gt; (hvar &amp; 1)&quot;<br />:: if defined IEEE echo calculating with: num = %num%&nbsp; #&nbsp; num2 = %num2%&nbsp; #&nbsp; exph = %exph% + 127 (testen^)<br /><br />if defined IEEE set /a&nbsp; exph = (exp+1) / 2 + 63 - 127<br /><br />rem&nbsp; &nbsp;SQRT(-xxx)&nbsp; --&nbsp; SQRT from negative numbers not possible<br />if defined IEEE if &quot;%sgn%&quot; equ &quot;1&quot; (set /a result2 = 0x7FFFFFFF, ERRcode = 3) &amp; goto :next5<br /><br />:next1<br />if %block% gtr %num% (set /a &quot;block &gt;&gt;= 2&quot;, bit -= 1) &amp; goto :next1<br /><br />rem first one or two bits; xx * 4^bit, with: 1 LEQ xx LSS 4; bith: bits in front of the point (comma)<br />set /a num = num - block, bith = bit<br /><br />:next2<br />if %bit% equ 0 goto :next3<br /><br />set /a &quot;block &gt;&gt;= 2&quot;, bit -= 1, &quot;vh = ((res &lt;&lt; 2) + 1) &lt;&lt; (2 * bit)&quot;<br />if %num% geq %vh% (<br />&nbsp; set /a num -= vh, &quot;res = (res &lt;&lt; 1) + 1&quot;<br />) else set /a &quot;res &lt;&lt;= 1&quot;<br />goto :next2<br /><br />:next3<br />rem calculating bits after the point <br />:: echo SQRT(%para%^) = %res%.xxxx<br />:: echo.<br /><br />:next4<br />set /a bit -= 1, &quot;vh = (res &lt;&lt; 2) + 1&quot;, &quot;vh1 = vh &gt;&gt; (-2 * bit)&quot;, &quot;vh2 = (vh &amp; ((1 &lt;&lt; (-2 * bit)) - 1)) &lt;&lt; (30 + 2 * bit)&quot;, hvar = 0<br /><br />if %num% gtr %vh1% set hvar=2<br />if %num% equ %vh1% if %num2% gtr %vh2% set hvar=1<br />:: if %num% lss %vh1% echo ###&nbsp; num kleiner vh1&nbsp; ###<br /><br />if %hvar% equ 2 set /a num2 -= vh2, &quot;num -= vh1 - (num2 &gt;&gt; 31)&quot;, &quot;num2 -= (num2 &gt;&gt; 31) * blplus&quot;, &quot;res = (res &lt;&lt; 1) + 1&quot;<br />if %hvar% equ 1 set /a num = 0, num2 -= vh2, &quot;res = (res &lt;&lt; 1) + 1&quot;<br />if %hvar% equ 0 set /a &quot;res &lt;&lt;= 1&quot;<br /><br />if %bit% gtr -15 goto :next4<br /><br />:: echo SQRT(%para%^) = %res% * 2^^(%exph%-15)&nbsp; &nbsp; &nbsp;(%bith%+1 digits point 15 digit binary^)<br />:: echo.<br /><br />rem convert to decimal value<br />set /a &quot;r0 = res &gt;&gt; 15&quot;, &quot;rr = 1000 * (res &amp; 0x7fff)&quot;, &quot;r1 = rr &gt;&gt; 15&quot;, &quot;rr = 1000 * (rr &amp; 0x7fff)&quot;, &quot;r2 = rr &gt;&gt; 15&quot;, rr = 10000 + 10 * r1 + (r2 + 50) / 100<br />set result=%r0%.%rr:~-4%<br />if not defined IEEE echo SQRT(%para%^) = %result%<br /><br />:: set /a &quot;rest = res &amp; 7&quot;<br />:: echo Rest = %rest% / 8&nbsp; &nbsp;#&nbsp; &nbsp;num = %num%&nbsp; #&nbsp; num2 = %num2%&nbsp; #&nbsp; bith = %bith%<br /><br />set /a &quot;resieee = ((res + 0) &gt;&gt; 3) ^0x800000&quot;, exph = exph + 127<br />:: if defined IEEE echo.<br />:: if defined IEEE echo man = %resieee%&nbsp; #&nbsp; exp = %exph%<br />if defined IEEE set /a &quot;result2 = (sgn &lt;&lt; 31) | (exph &lt;&lt; 23) | resieee&quot;<br /><br />:next5<br />if defined IEEE (echo Result in IEEE = %result2%) &amp; echo.<br />if defined IEEE if %ERRcode% equ 1 echo&nbsp; ERROR: not possible then value is not a number<br />if defined IEEE if %ERRcode% equ 2 echo&nbsp; ERROR: not possible then value is infinity<br />if defined IEEE if %ERRcode% equ 3 echo&nbsp; ERROR: SQRT from negative numbers not possible<br /><br />EndLocal &amp; (set SQRT=%result%) &amp; set ISQRT=%result2%<br /></code></pre></div><br /><br /><br />The calculating of the reciprocal Sqaure root can see in this batch.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />SetLocal EnableExtensions<br />echo Reciprocal Square Root (version IEEE^)<br />echo.<br />set intnum=3<br /><br />:: load all macros, and exit if it has failed for whatever reasons<br />call &quot;loadFloat.bat&quot;<br />if errorLevel 1 exit /b 1<br /><br />:: use the macros (names are similar to the function names)<br />for %%a in (operand1 operand2 result string) do set &quot;%%~a=&quot;<br /><br /><br />set /a half=1056964608, threehalf=1069547520<br /><br />:: set xstr=15625e-5<br />:: set xstr=25<br /><br />set xstr=%1<br />%$str2float% &quot;%xstr%&quot; x<br /><br />:: echo Eingabewert x: %xstr%&nbsp; &nbsp;#&nbsp; dec: %x%<br />:: echo.<br />set /a &quot;y_n = 0x5f3759df - (x &gt;&gt; 1)&quot;<br />%$floatmul% %x% %half% x2<br />set result=%y_n%<br /><br />:next<br />set y_n=%result%<br />%$floatmul% %y_n% %y_n% y_n2<br />%$floatmul% %x2% %y_n2% zn<br />%$floatsub% %threehalf% %zn% zn<br />%$floatmul% %zn% %y_n% result<br /><br />:: %$float2str% %result% string<br />:: echo Zwischenergebnis : %string%<br /><br />set /a intnum -= 1<br />if not %intnum% equ 0 goto :next<br /><br />echo Ergebnis result&nbsp; : dec %result%<br />echo.<br />%$float2str% %result% string<br />echo Endergebnis&nbsp; &nbsp; &nbsp; : %string%<br />EndLocal</code></pre></div></div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p43942" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile43942">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content43942">

						<h3 ><a href="#p43942">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingb4fa.html?mode=quote&amp;f=3&amp;p=43942" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopicb305.html?p=43942#p43942" onclick="prompt('Message #24',this.href); return false;">#24</a></span> 
									<a class="unread" href="viewtopicb305.html?p=43942#p43942" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>13 Nov 2015 11:08
			</p>
			
			
			
			<div class="content">Hi,<br /><br />I'm going to optimize the 32 bit Integer SQRT<br /><br />This trick down the maximum iteration from 20 to <strong class="text-strong">10</strong>, I think that I <strong class="text-strong">doubled</strong> the speed.<br /><br />The idea is to use <a href="viewtopiced5f.html?f=3&amp;t=3493" class="postlink">this trick</a> for go down<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal EnableDelayedExpansion<br /><br />Echo Partition the 32bit. Use 512 or 1024 guess!<br /><br />Set /a N=1<br />For /L %%N in (1,1,10) do (<br />&nbsp; call :sqrt N<br />&nbsp; set /A N=N*10<br />&nbsp; pause<br />)<br />rem MaxINT<br />call :sqrt 65536*32768-1<br />pause<br />exit /b<br /><br />:sqrt<br />set /A N=%1<br />if !N! neq 0 (<br /><br />&nbsp; set /A guess=1024, iter=0, x=guess &amp; rem max 10 iteration<br />&nbsp; For /L %%I in (1,1,10) do (<br /><br />&nbsp; &nbsp; set /A &quot;x=(N/x+x)/2, iter+=1&quot;<br />&nbsp; &nbsp; echo Sqrt(%N%^)=!x!&nbsp; Iter:!iter!<br />&nbsp; )<br />)<br />exit/b<br /></code></pre></div><br /><br />@trebor68<br />Very nice work on IEEE sqrt  <img class="smilies" src="images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br /><br />EDIT:<br />output:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Partition the 32bit. Use 512 or 1024 guess<br />Sqrt(1)=512&nbsp; Iter:1<br />Sqrt(1)=256&nbsp; Iter:2<br />Sqrt(1)=128&nbsp; Iter:3<br />Sqrt(1)=64&nbsp; Iter:4<br />Sqrt(1)=32&nbsp; Iter:5<br />Sqrt(1)=16&nbsp; Iter:6<br />Sqrt(1)=8&nbsp; Iter:7<br />Sqrt(1)=4&nbsp; Iter:8<br />Sqrt(1)=2&nbsp; Iter:9<br />Sqrt(1)=1&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(10)=512&nbsp; Iter:1<br />Sqrt(10)=256&nbsp; Iter:2<br />Sqrt(10)=128&nbsp; Iter:3<br />Sqrt(10)=64&nbsp; Iter:4<br />Sqrt(10)=32&nbsp; Iter:5<br />Sqrt(10)=16&nbsp; Iter:6<br />Sqrt(10)=8&nbsp; Iter:7<br />Sqrt(10)=4&nbsp; Iter:8<br />Sqrt(10)=3&nbsp; Iter:9<br />Sqrt(10)=3&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(100)=512&nbsp; Iter:1<br />Sqrt(100)=256&nbsp; Iter:2<br />Sqrt(100)=128&nbsp; Iter:3<br />Sqrt(100)=64&nbsp; Iter:4<br />Sqrt(100)=32&nbsp; Iter:5<br />Sqrt(100)=17&nbsp; Iter:6<br />Sqrt(100)=11&nbsp; Iter:7<br />Sqrt(100)=10&nbsp; Iter:8<br />Sqrt(100)=10&nbsp; Iter:9<br />Sqrt(100)=10&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(1000)=512&nbsp; Iter:1<br />Sqrt(1000)=256&nbsp; Iter:2<br />Sqrt(1000)=129&nbsp; Iter:3<br />Sqrt(1000)=68&nbsp; Iter:4<br />Sqrt(1000)=41&nbsp; Iter:5<br />Sqrt(1000)=32&nbsp; Iter:6<br />Sqrt(1000)=31&nbsp; Iter:7<br />Sqrt(1000)=31&nbsp; Iter:8<br />Sqrt(1000)=31&nbsp; Iter:9<br />Sqrt(1000)=31&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(10000)=516&nbsp; Iter:1<br />Sqrt(10000)=267&nbsp; Iter:2<br />Sqrt(10000)=152&nbsp; Iter:3<br />Sqrt(10000)=108&nbsp; Iter:4<br />Sqrt(10000)=100&nbsp; Iter:5<br />Sqrt(10000)=100&nbsp; Iter:6<br />Sqrt(10000)=100&nbsp; Iter:7<br />Sqrt(10000)=100&nbsp; Iter:8<br />Sqrt(10000)=100&nbsp; Iter:9<br />Sqrt(10000)=100&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(100000)=560&nbsp; Iter:1<br />Sqrt(100000)=369&nbsp; Iter:2<br />Sqrt(100000)=320&nbsp; Iter:3<br />Sqrt(100000)=316&nbsp; Iter:4<br />Sqrt(100000)=316&nbsp; Iter:5<br />Sqrt(100000)=316&nbsp; Iter:6<br />Sqrt(100000)=316&nbsp; Iter:7<br />Sqrt(100000)=316&nbsp; Iter:8<br />Sqrt(100000)=316&nbsp; Iter:9<br />Sqrt(100000)=316&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(1000000)=1000&nbsp; Iter:1<br />Sqrt(1000000)=1000&nbsp; Iter:2<br />Sqrt(1000000)=1000&nbsp; Iter:3<br />Sqrt(1000000)=1000&nbsp; Iter:4<br />Sqrt(1000000)=1000&nbsp; Iter:5<br />Sqrt(1000000)=1000&nbsp; Iter:6<br />Sqrt(1000000)=1000&nbsp; Iter:7<br />Sqrt(1000000)=1000&nbsp; Iter:8<br />Sqrt(1000000)=1000&nbsp; Iter:9<br />Sqrt(1000000)=1000&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(10000000)=5394&nbsp; Iter:1<br />Sqrt(10000000)=3623&nbsp; Iter:2<br />Sqrt(10000000)=3191&nbsp; Iter:3<br />Sqrt(10000000)=3162&nbsp; Iter:4<br />Sqrt(10000000)=3162&nbsp; Iter:5<br />Sqrt(10000000)=3162&nbsp; Iter:6<br />Sqrt(10000000)=3162&nbsp; Iter:7<br />Sqrt(10000000)=3162&nbsp; Iter:8<br />Sqrt(10000000)=3162&nbsp; Iter:9<br />Sqrt(10000000)=3162&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(100000000)=49340&nbsp; Iter:1<br />Sqrt(100000000)=25683&nbsp; Iter:2<br />Sqrt(100000000)=14788&nbsp; Iter:3<br />Sqrt(100000000)=10775&nbsp; Iter:4<br />Sqrt(100000000)=10027&nbsp; Iter:5<br />Sqrt(100000000)=10000&nbsp; Iter:6<br />Sqrt(100000000)=10000&nbsp; Iter:7<br />Sqrt(100000000)=10000&nbsp; Iter:8<br />Sqrt(100000000)=10000&nbsp; Iter:9<br />Sqrt(100000000)=10000&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(1000000000)=488793&nbsp; Iter:1<br />Sqrt(1000000000)=245419&nbsp; Iter:2<br />Sqrt(1000000000)=124746&nbsp; Iter:3<br />Sqrt(1000000000)=66381&nbsp; Iter:4<br />Sqrt(1000000000)=40722&nbsp; Iter:5<br />Sqrt(1000000000)=32639&nbsp; Iter:6<br />Sqrt(1000000000)=31638&nbsp; Iter:7<br />Sqrt(1000000000)=31622&nbsp; Iter:8<br />Sqrt(1000000000)=31622&nbsp; Iter:9<br />Sqrt(1000000000)=31622&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br />Sqrt(2147483647)=1049087&nbsp; Iter:1<br />Sqrt(2147483647)=525567&nbsp; Iter:2<br />Sqrt(2147483647)=264826&nbsp; Iter:3<br />Sqrt(2147483647)=136467&nbsp; Iter:4<br />Sqrt(2147483647)=76101&nbsp; Iter:5<br />Sqrt(2147483647)=52159&nbsp; Iter:6<br />Sqrt(2147483647)=46665&nbsp; Iter:7<br />Sqrt(2147483647)=46342&nbsp; Iter:8<br />Sqrt(2147483647)=46340&nbsp; Iter:9<br />Sqrt(2147483647)=46340&nbsp; Iter:10<br />Premere un tasto per continuare . . .<br /></code></pre></div><br /><br />einstein1969</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p43957" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile43957">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content43957">

						<h3 ><a href="#p43957">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingb1bc.html?mode=quote&amp;f=3&amp;p=43957" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopice814-2.html?p=43957#p43957" onclick="prompt('Message #25',this.href); return false;">#25</a></span> 
									<a class="unread" href="viewtopice814-2.html?p=43957#p43957" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>14 Nov 2015 10:55
			</p>
			
			
			
			<div class="content">There are news on speeding research.<br /><br />I have used a linear equation ( a line Y=N/(11*1024)+40 ) for guessing the square root and the I have insert in the Newthon algorithm.<br /><br />The guessing is nice and I <strong class="text-strong">doubled</strong> another time the speed.<br /><br />Now with <strong class="text-strong">5 iterations</strong> is possible calculate integer 32bit square roots.<br /><br />new code:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>:sqrt0<br />set /A N=%1<br />if !N! neq 0 (<br /><br />&nbsp; rem set /A &quot;guess=N/(40*1024)+128, x=guess&quot; &amp; rem max 7 iterations<br />&nbsp; rem set /A &quot;guess=N/(35*1024)+64, x=guess&quot; &amp; rem max 6<br />&nbsp; rem set /A &quot;guess=N/(12*1024)+32, x=guess&quot; &amp; rem max 6<br />&nbsp; set /A &quot;guess=N/(11*1024)+40, x=guess&quot; &amp; rem max 5<br /><br /><br />&nbsp; For /L %%I in (1,1,5) do (<br /><br />&nbsp; &nbsp; set /A &quot;x=(N/x+x)/2&quot;<br />&nbsp; &nbsp; echo Sqrt(%N%^)=!x!&nbsp; Iter:%%I guess:!guess!<br />&nbsp; )<br />)<br />exit/b<br /></code></pre></div><br /><br />Now it is possible using the Aacini method in this thread <a href="viewtopic210e.html?f=3&amp;t=6744" class="postlink">Definition and use of arithmetic &quot;functions&quot; in Batch files</a>.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br /><br />set &quot;Sqrt(N)=( x=(N)/(11*1024)+40, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2 )&quot;<br /><br />set /A num=%Sqrt(N):N=25%<br />echo Square root of 25 is : %num%<br /></code></pre></div><br />result:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Square root of 25 is : 5<br /></code></pre></div><br />There is only a problem with Sqrt(0).<br /><br /><a href="http://fooplot.com/#W3sidHlwZSI6MCwiZXEiOiJzcXJ0KHgpIiwiY29sb3IiOiIjMDVGNzBEIn0seyJ0eXBlIjowLCJlcSI6IjEvKDExKjEwMjQpeCs0MCIsImNvbG9yIjoiIzAwMDAwMCJ9LHsidHlwZSI6MCwiZXEiOiJhYnMoc3FydCh4KS0oMS8oMTEqMTAyNCl4KzQwKSkiLCJjb2xvciI6IiNGNzA1MDUifSx7InR5cGUiOjEwMDAsIndpbmRvdyI6WyItMTE3MzcxODcyLjM3NzMyOTc0IiwiMjE2ODA2MTcyNC4xOTU0NzM3IiwiLTg5MDEuMTc1MDgxNDAyNDEzIiwiOTI5MTguMzUyNTcwODgzODEiXSwiZ3JpZCI6WyI1MDAwMDAwMDAiLCIiXX1d" class="postlink">This</a> is the graphics with the absolute error in the guess calcolous. <br /><br />einstein1969</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p43960" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile43960">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1bf7.html?author_id=4915&amp;sr=posts">1612</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 23 Jun 2013 06:15</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Germany</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content43960">

						<h3 ><a href="#p43960">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting1f52.html?mode=quote&amp;f=3&amp;p=43960" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopicd932.html?p=43960#p43960" onclick="prompt('Message #26',this.href); return false;">#26</a></span> 
									<a class="unread" href="viewtopicd932.html?p=43960#p43960" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a></strong> &raquo; </span>14 Nov 2015 14:52
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>einstein1969 wrote:</cite>There is only a problem with Sqrt(0).</div></blockquote>This should be relatively easy to solve, just add one more iteration step.<br />You could also provoke an error/exception (division by zero), when processing negative integers:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal enableDelayedExpansion<br />set &quot;Sqrt(N)=( x=(N)/(11*1024)+40, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x/=(1+(N&gt;&gt;31)))&quot;<br /><br />for %%s in (-2147483647, -1, 0, 1, 4, 9, 16, 25, 2147395600, 2147483647) do (<br />&nbsp; &nbsp;(<br />&nbsp; &nbsp;&nbsp; &nbsp;set /A &quot;num=!Sqrt(N):N=%%~s!&quot;<br />&nbsp; &nbsp;) &amp;&amp; (<br />&nbsp; &nbsp;&nbsp; &nbsp;echo Square root of %%~s is : !num!<br />&nbsp; &nbsp;) || (<br />&nbsp; &nbsp;&nbsp; &nbsp;echo Square root of %%~s is not in R.<br />&nbsp; &nbsp;)<br />)<br /><br />endlocal<br />goto :eof</code></pre></div><br /><br />penpen</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p43970" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile43970">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content43970">

						<h3 ><a href="#p43970">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting1d66.html?mode=quote&amp;f=3&amp;p=43970" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic0637.html?p=43970#p43970" onclick="prompt('Message #27',this.href); return false;">#27</a></span> 
									<a class="unread" href="viewtopic0637.html?p=43970#p43970" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>15 Nov 2015 08:40
			</p>
			
			
			
			<div class="content">Thanks penpen! I like the negative catch.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; Rem NOTE: The equation of the line is y=mx+q. <br />&nbsp; Rem The maxim for q is 31 to achieve the 0 in the 5 iteration.<br />&nbsp; Rem But for every m is not possible go down into 5 iteration. <br /></code></pre></div><br /><br />... but I have found a patch for the ZERO using only 5 iteration (my goal is speeding).<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal enableDelayedExpansion<br />set &quot;Sqrt(N)=( x=(N)/(11*1024)+40-^!N*9, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x/=(1+(N&gt;&gt;31)))&quot;<br /><br />for %%s in (-2147483647, -1, 0, 1, 4, 9, 16, 25, 65536, 131072, 262144, 393216, 2147395600, 2147483647) do (<br />&nbsp; &nbsp;(<br />&nbsp; &nbsp; &nbsp; set /A &quot;num=!Sqrt(N):N=%%~s!&quot;<br />&nbsp; &nbsp;) &amp;&amp; (<br />&nbsp; &nbsp; &nbsp; echo Square root of %%~s is : !num!<br />&nbsp; &nbsp;) || (<br />&nbsp; &nbsp; &nbsp; echo Square root of %%~s is not in R.<br />&nbsp; &nbsp;)<br />)<br /><br />endlocal<br />goto :eof<br /></code></pre></div><br /><br />output:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Errore di divisione per zero.<br />Square root of -2147483647 is not in R.<br />Errore di divisione per zero.<br />Square root of -1 is not in R.<br />Square root of 0 is : 0<br />Square root of 1 is : 1<br />Square root of 4 is : 2<br />Square root of 9 is : 3<br />Square root of 16 is : 4<br />Square root of 25 is : 5<br />Square root of 65536 is : 256<br />Square root of 131072 is : 362<br />Square root of 262144 is : 512<br />Square root of 393216 is : 627<br />Square root of 2147395600 is : 46340<br />Square root of 2147483647 is : 46340<br /></code></pre></div><br /><br /><br />einstein1969</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p43988" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile43988">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content43988">

						<h3 ><a href="#p43988">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting8b2d.html?mode=quote&amp;f=3&amp;p=43988" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic9659.html?p=43988#p43988" onclick="prompt('Message #28',this.href); return false;">#28</a></span> 
									<a class="unread" href="viewtopic9659.html?p=43988#p43988" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>16 Nov 2015 09:21
			</p>
			
			
			
			<div class="content">I have done some test and there is a problem on the proposed code.<br /><br />The Sqrt(65535) return 256 and not 255. I have not checked other value.  <img class="smilies" src="images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> <br /><br />I don't know if the problem is the number of iteration because:<br /><br /><strong class="text-strong">The Newton method on integer sqrt is not stable.</strong><br /><br />es.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal EnableDelayedExpansion<br /><br />call :sqrt0 65535 10<br />exit/b<br /><br />:sqrt0<br />set /A N=%1<br />if !N! geq 0 (<br /><br />&nbsp; Rem NOTE: The equation of the line is y=mx+q. <br />&nbsp; Rem The maxim for q is 31 to achieve the 0 in the 5 iteration.<br />&nbsp; Rem But for every m is not possible go down into 5 iteration. <br /><br />&nbsp; rem set /A &quot;guess=N/(40*1024)+128, x=guess&quot; &amp; rem max 7 iterations<br />&nbsp; rem set /A &quot;guess=N/(35*1024)+64, x=guess&quot; &amp; rem max 6<br />&nbsp; rem set /A &quot;guess=N/(12*1024)+32, x=guess&quot; &amp; rem max 6<br />&nbsp; rem set /A &quot;guess=N/(11*1024)+40, x=guess&quot; &amp; rem max 6 better<br /><br />&nbsp; rem workaround for ZERO.<br />&nbsp; set /A &quot;guess=N/(11*1024)+40-^!N*9, x=guess&quot; &amp; rem max 5<br /><br />&nbsp; For /L %%I in (1,1,%2) do (<br />&nbsp; &nbsp; set /A &quot;x=(N/x+x)/2&quot;<br />&nbsp; &nbsp; echo Sqrt(%N%^)=!x!&nbsp; Iter:%%I guess:!guess!<br />&nbsp; )<br />)<br />exit/b<br /></code></pre></div><br />output:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Sqrt(65535)=750&nbsp; Iter:1 guess:45<br />Sqrt(65535)=418&nbsp; Iter:2 guess:45<br />Sqrt(65535)=287&nbsp; Iter:3 guess:45<br />Sqrt(65535)=257&nbsp; Iter:4 guess:45<br />Sqrt(65535)=256&nbsp; Iter:5 guess:45<br />Sqrt(65535)=255&nbsp; Iter:6 guess:45<br />Sqrt(65535)=256&nbsp; Iter:7 guess:45<br />Sqrt(65535)=255&nbsp; Iter:8 guess:45<br />Sqrt(65535)=256&nbsp; Iter:9 guess:45<br />Sqrt(65535)=255&nbsp; Iter:10 guess:45</code></pre></div><br /><br />But the aacini integer sqrt return the exact result because there is a test of STOP. <strong class="text-strong">if !iter2! geq !iter1!</strong><br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>:Sqrt_aacini<br />setlocal EnableDelayedExpansion<br /><br />set /A number=%1<br />set /A iter1=number/2+1<br /><br />rem The maximum number of iterations to calculate sqrt of a 32 bits integer number is 20<br />set &quot;sqrt=&quot;<br />for /L %%i in (1,1,20) do if not defined sqrt (<br />&nbsp; &nbsp;set /A &quot;iter2=number/iter1, iter1=(iter1+iter2)/2&quot;<br />&nbsp; &nbsp;if !iter2! geq !iter1! set /A &quot;sqrt=(iter1+iter2)/2&quot;<br />)<br />echo Sqrt(%number%) = %sqrt%<br />exit/b<br /></code></pre></div><br />output:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Sqrt(65535) = 255</code></pre></div><br /><br />I don't understand this test of exit.<br /><br />If I don't resolve this question I don't go in this direction.<br /><br />Einstein1969</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p43994" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile43994">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist07be.html?mode=viewprofile&amp;u=2923" style="color: #00AA00;" class="username-coloured">Aacini</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchdc63.html?author_id=2923&amp;sr=posts">1540</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 06 Dec 2011 22:15</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> México City, México</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content43994">

						<h3 ><a href="#p43994">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting81d7.html?mode=quote&amp;f=3&amp;p=43994" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic8542.html?p=43994#p43994" onclick="prompt('Message #29',this.href); return false;">#29</a></span> 
									<a class="unread" href="viewtopic8542.html?p=43994#p43994" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist07be.html?mode=viewprofile&amp;u=2923" style="color: #00AA00;" class="username-coloured">Aacini</a></strong> &raquo; </span>16 Nov 2015 13:43
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>einstein1969 wrote:</cite>I have done some test and there is a problem on the proposed code.<br /><br />The Sqrt(65535) return 256 and not 255. I have not checked other value.  <img class="smilies" src="images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> <br /><br />I don't know if the problem is the number of iteration because:<br /><br /><strong class="text-strong">The Newton method on integer sqrt is not stable.</strong><br /><br />. . . .<br /><br />If I don't resolve this question I don't go in this direction.<br /><br />Einstein1969</div></blockquote><br /><br />Yes. Your method fails with numbers as less as 35 or 48. The method iterates on a series of values and in each step it must produce a value <em class="text-italics">less or equal</em> than the previous one, so the method <em class="text-italics">may</em> fail when a next value is greater. I inserted the required IF command, but then realized that the test must not be applied to the first value. I inserted the test from the second value on and cut the loop to 4 cycles, but then realized that in certain cases the result was wrong and it requires an additional step. This means that it needs a total of 6 cycles.<br /><br />The code below includes all these points; it also includes the &quot;function&quot; method (although not for SET command, but as individual macro).<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal EnableDelayedExpansion<br /><br />set &quot;Sqrt(Num)=set /A &quot;M=(Num),sqrt=M/(11*1024)+40,sqrt=(M/sqrt+sqrt)/2&quot;&amp;(for /L %%i in (1,1,5) do set /A &quot;x2=(M/sqrt+sqrt)/2&quot;^&amp;if ^!x2^! leq ^!sqrt^! set /A sqrt=x2)&quot;<br /><br /><br />:loop<br />&nbsp; &nbsp;echo/<br />&nbsp; &nbsp;set &quot;number=&quot;<br />&nbsp; &nbsp;set /P &quot;number=Enter number: &quot;<br />&nbsp; &nbsp;if not defined number goto :EOF<br />&nbsp; &nbsp;call :sqrt0 %number%<br />&nbsp; &nbsp;echo/<br />&nbsp; &nbsp;%Sqrt(Num):Num=!number!%<br />&nbsp; &nbsp;echo Function method: %sqrt%<br />&nbsp; &nbsp;echo/<br />goto loop<br /><br /><br />:sqrt0<br />set /A N=%1<br />if %N% neq 0 (<br /><br />&nbsp; rem set /A &quot;guess=N/(40*1024)+128, x=guess&quot; &amp; rem max 7 iterations<br />&nbsp; rem set /A &quot;guess=N/(35*1024)+64, x=guess&quot; &amp; rem max 6<br />&nbsp; rem set /A &quot;guess=N/(12*1024)+32, x=guess&quot; &amp; rem max 6<br />&nbsp; set /A &quot;guess=N/(11*1024)+40, x=(N/guess+guess)/2&quot; &amp; rem max 5<br /><br />&nbsp; echo guess = !guess!<br /><br />&nbsp; For /L %%I in (1,1,5) do (<br />&nbsp; &nbsp; set /A &quot;x2=(N/x+x)/2&quot;<br />&nbsp; &nbsp; if !x2! leq !x! set /A x=x2<br />&nbsp; &nbsp; echo %%I- Sqrt(%N%^)=!x!<br />&nbsp; )<br />)<br />exit/b<br /></code></pre></div><br />Antonio</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p43998" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile43998">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1bf7.html?author_id=4915&amp;sr=posts">1612</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 23 Jun 2013 06:15</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Germany</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content43998">

						<h3 ><a href="#p43998">Re: Dos Batch Math Library</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting1c33.html?mode=quote&amp;f=3&amp;p=43998" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic7438.html?p=43998#p43998" onclick="prompt('Message #30',this.href); return false;">#30</a></span> 
									<a class="unread" href="viewtopic7438.html?p=43998#p43998" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a></strong> &raquo; </span>16 Nov 2015 19:42
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>einstein1969 wrote:</cite>The Sqrt(65535) return 256 and not 255. I have not checked other value.  <img class="smilies" src="images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> <br /><br />I don't know if the problem is the number of iteration because:<br /><br /><strong class="text-strong">The Newton method on integer sqrt is not stable.</strong></div></blockquote>Right, the Newton method (aka Heron of Alexandria method) is not stable in <strong class="text-strong">N</strong>:<br />But it is not &quot;too unstable&quot;.  <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />The value x could trigger (only) between the solution sqrt(N) (==roundOff(sqrt(N)) in integral number systems) and the successor of the solution (sqrt(N)+1):<br />If N=x*x =&gt; x==sqrt(N), and no trigger possible.<br />If N&lt;x*x =&gt; x &gt; N/x, more iterations required, but no trigger possible.<br />If N&gt;x* =&gt; trigger possible between roundOff(sqrt(N)) and (roundOff(sqrt(N))+1);<br />because of the iteration step in this case the following is true when triggering:<br />- roundOff(sqrt(N)) &lt; sqrt(N) &lt; roundOff(sqrt(N))+1,<br />- roundOff(sqrt(N)) == N/(roundOff(sqrt(N))+1), and<br />- roundOff(sqrt(N)+1) == N/roundOff(sqrt(N)).<br /><br />So in your algorithm (using int calculus) you could test if (N-x*x) is greater than or equal to 0;<br />if this is true then sqrt(N)=x, else sqrt(N)=x-1.<br />This value could be computed using set /A (but the max value is a trap; possible: x*x&gt;maxInt):<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>set /a &quot;x+=((N-((x-1)*(x-1)+(x+x-1)))&gt;&gt;31)&quot;</code></pre></div><br /><br /><br />So the whole code should be:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal enableDelayedExpansion<br />set &quot;Sqrt(N)=( x=(N)/(11*1024)+40-^!(N)*9, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x=((N)/x+x)/2, x+=(((N)-((x-1)*(x-1)+(x+x-1)))&gt;&gt;31))/(1+((N)&gt;&gt;31))&quot;<br /><br />for %%s in (-2147483647, -1, 0, 1, 4, 9, 16, 25, 35, 48 65535, 65536, 65537, 131072, 262144, 393216, 2147395600, 2147483647) do (<br />&nbsp; &nbsp;(<br />&nbsp; &nbsp;&nbsp; &nbsp;2&gt;nul set /A &quot;num=!Sqrt(N):N=%%~s!&quot;<br />&nbsp; &nbsp;) &amp;&amp; (<br />&nbsp; &nbsp;&nbsp; &nbsp;echo Square root of %%~s is : !num!<br />&nbsp; &nbsp;) || (<br />&nbsp; &nbsp;&nbsp; &nbsp;setlocal enableDelayedExpansion<br />&nbsp; &nbsp;&nbsp; &nbsp;set /A &quot;num=!Sqrt(N):N=-%%~s!&quot;<br />&nbsp; &nbsp;&nbsp; &nbsp;echo Square root of %%~s is !num!i ^(not in R^).<br />&nbsp; &nbsp;&nbsp; &nbsp;endlocal<br />&nbsp; &nbsp;)<br />)<br /><br />endlocal<br />goto :eof</code></pre></div>Note:<br />I have not tested, if this algorithm computes always the correct result.<br />Some values within [0:2^31-1] may need more iterations.<br />Because of the starting value the number of iterations is not monotonically increasing anymore<br />(if i remember right then the original algorithm (initial x=N) needs a maximum of 19 iterations).<br /><br />But you should check this using c++/java/similar... batch is much too slow to check all numbers within [0:2^32-1];<br />my pc would take &gt;300 days, but it isn't the fastest... .<br /><br /><br />penpen</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
	

	<div class="action-bar bar-bottom">
	
			<a href="postingdac0.html?mode=reply&amp;f=3&amp;t=5819" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic408e.html?f=3&amp;t=5819&amp;start=15&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="https://www.dostips.com/forum/viewtopic.php?f=3&amp;t=5819&amp;start=15">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			59 posts
							<ul>
			<li class="arrow previous"><a class="button button-icon-only" href="viewtopic8d84.html?f=3&amp;t=5819" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="viewtopic8d84.html?f=3&amp;t=5819" role="button">1</a></li>
			<li class="active"><span>2</span></li>
				<li><a class="button" href="viewtopic5027.html?f=3&amp;t=5819&amp;start=30" role="button">3</a></li>
				<li><a class="button" href="viewtopic261a.html?f=3&amp;t=5819&amp;start=45" role="button">4</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="viewtopic5027.html?f=3&amp;t=5819&amp;start=30" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="viewforum4d6b.html?f=3" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “DOS Batch Forum”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="viewforum31e6.html?f=4" class="jumpbox-cat-link"> <span> DosTips - Dos Batch</span></a></li>
																<li><a href="viewforum4d6b.html?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; DOS Batch Forum</span></a></li>
											</ul>
		</div>
	</div>

	</div>


			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
							<span class="crumb"><a href="../index.html" data-navbar-reference="home"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>DosTips.com</span></a></span>									<span class="crumb"><a href="index.html" data-navbar-reference="index"><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC-6">UTC-06:00</span></li>
							<li class="rightside">
				<a href="ucp033a.html?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete all board cookies</span>
				</a>
			</li>
												<li class="rightside" data-last-responsive="true">
				<a href="memberlist4bfd.html?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
									<li class="rightside" data-last-responsive="true">
				<a href="memberlist8733.html?mode=contactadmin" role="menuitem">
					<i class="icon fa-envelope fa-fw" aria-hidden="true"></i><span>Contact us</span>
				</a>
			</li>
			</ul>

	</div>
</div>

	<div class="copyright">
				<!-- WARNING NO DELETE -->Style developer by <a href="http://tricolor.x-tk.ru/">support forum tricolor</a>, <!-- END WARNING NO DELETE -->Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
									</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	<img src="cron5495.gif?cron_type=cron.task.text_reparser.poll_title" width="1" height="1" alt="cron" /></div>

<script type="text/javascript" src="assets/javascript/jquery.mind772.js?assets_version=34"></script>
<script type="text/javascript" src="assets/javascript/cored772.js?assets_version=34"></script>



<script type="text/javascript" src="styles/prosilver/template/forum_fnd772.js?assets_version=34"></script>
<script type="text/javascript" src="styles/prosilver/template/ajaxd772.js?assets_version=34"></script>
<script type="text/javascript" src="styles/AllanStyle-SUBSILVER/template/jquery-uid772.js?assets_version=34"></script>
<script type="text/javascript" src="styles/AllanStyle-SUBSILVER/template/collapsed772.js?assets_version=34"></script>



</body>

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?p=43970 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 07:05:24 GMT -->
</html>
