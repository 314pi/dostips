<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=4896&hilit=SINE&start=15 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 06:35:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Fastest sin(x) in dos batch - Page 2 - DosTips.com</title>


	<link rel="canonical" href="viewtopicb607.html?t=4896&amp;start=15">

<!--
	phpBB style name: Allan Style - SUBSILVER
	Based on style:   prosilver (this is the default phpBB3 style)
	Based on style:   subsilver2 (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  Allan ( http://x-tk.ru/ )
-->

<link href="assets/css/font-awesome.mind772.css?assets_version=34" rel="stylesheet">
<link href="styles/AllanStyle-SUBSILVER/theme/stylesheetd772.css?assets_version=34" rel="stylesheet">
<link href="styles/AllanStyle-SUBSILVER/theme/en/stylesheetd772.css?assets_version=34" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/AllanStyle-SUBSILVER/theme/tweaks.css?assets_version=34" rel="stylesheet">
<![endif]-->




<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','../../www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-280191-1', 'auto');
	ga('send', 'pageview');
</script>

</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">

<div id="header-subsilver">
	<a id="top" class="top-anchor" accesskey="t"></a>
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
				<a id="logo" class="logo" href="../index.html" title="DosTips.com"><span class="site_logo"></span></a>
				<h1>DosTips.com</h1>
				<p>A Forum all about DOS Batch</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div id="search-box" class="search-box search-header" role="search">
				<form action="https://www.dostips.com/forum/search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" value="" placeholder="Search…" />
					<button class="button button-search" type="submit" title="Search">
						<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
					</button>
					<a href="search.html" class="button button-search-end" title="Advanced search">
						<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
					</a>
					
				</fieldset>
				</form>
			</div>
						
			</div>
					</div>
</div>


<div id="wrap" class="wrap">
	<div id="page-header">
				<div class="navbar-top" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
																									<li>
								<a href="search33a7.html?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="search526f.html?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="search.html" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
																			<li>
								<a href="memberlist4bfd.html?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

									</ul>
			</div>
		</li>

				<li data-skip-responsive="true">
			<a href="app.php/help/faq.html" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
			<li class="rightside"  data-skip-responsive="true">
			<a href="ucp26c3.html?mode=login" title="Login" accesskey="x" role="menuitem">
				<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Login</span>
			</a>
		</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="ucp8319.html?mode=register" role="menuitem">
					<i class="icon fa-pencil-square-o  fa-fw" aria-hidden="true"></i><span>Register</span>
				</a>
			</li>
						</ul>

	</div>
</div>

<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
						<li class="breadcrumbs">
							<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="../index.html" itemprop="url" data-navbar-reference="home"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span itemprop="title">DosTips.com</span></a></span>
										<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="index.html" itemprop="url" accesskey="h" data-navbar-reference="index"><span itemprop="title">Board index</span></a></span>

											<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="4"><a href="viewforum31e6.html?f=4" itemprop="url"><span itemprop="title">DosTips - Dos Batch</span></a></span>
															<span class="crumb"  itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="3"><a href="viewforum4d6b.html?f=3" itemprop="url"><span itemprop="title">DOS Batch Forum</span></a></span>
												</li>
		
					<li class="rightside responsive-search">
				<a href="search.html" title="View the advanced search options" role="menuitem">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</a>
			</li>
			</ul>

	</div>
</div>

<div class="navbar-top-link">
	<div class="inner">
		<ul>
			<li class="navbar-top-link-left"><a href="search33a7.html?search_id=unanswered">Unanswered topics</a></li>
			<li class="navbar-top-link-left"><a href="search526f.html?search_id=active_topics">Active topics</a></li>

											</ul>
	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
		
<h2 class="topic-title"><a href="viewtopic495a.html?f=3&amp;t=4896&amp;start=15&amp;hilit=SINE">Fastest sin(x) in dos batch</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Discussion forum for all Windows batch related topics.<br /></div>
<p>
	<strong>Moderator:</strong> <a href="memberlista6a8.html?mode=viewprofile&amp;u=5" class="username">DosItHelp</a>
</p>


<div class="action-bar bar-top">
	
			<a href="postingddf4.html?mode=reply&amp;f=3&amp;t=4896" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic7e4d.html?f=3&amp;t=4896&amp;start=15&amp;hilit=SINE&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="https://www.dostips.com/forum/search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="search.html" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="4896" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			37 posts
							<ul>
			<li class="arrow previous"><a class="button button-icon-only" href="viewtopic66b3.html?f=3&amp;t=4896&amp;hilit=SINE" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="viewtopic66b3.html?f=3&amp;t=4896&amp;hilit=SINE" role="button">1</a></li>
			<li class="active"><span>2</span></li>
				<li><a class="button" href="viewtopicf0ec-2.html?f=3&amp;t=4896&amp;hilit=SINE&amp;start=30" role="button">3</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="viewtopicf0ec-2.html?f=3&amp;t=4896&amp;hilit=SINE&amp;start=30" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
		</div>




<div id="subsilver-nav-topic">
	<div class="inner"><div class="post has-profile">
		<div class="leftsided postbody subsilver-topic-title">Message</div>
		<div class="leftsided postprofile subsilver-topic-author">Author</div>
	</div></div>
</div>

			<div id="p28569" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile28569">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28569">

						<h3 class="first"><a href="#p28569">Re: Fastest sen(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting4d45.html?mode=quote&amp;f=3&amp;p=28569" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic3ab6.html?p=28569#p28569" onclick="prompt('Message #16',this.href); return false;">#16</a></span> 
									<a class="unread" href="viewtopic3ab6.html?p=28569#p28569" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>11 Sep 2013 09:52
			</p>
			
			
			
			<div class="content">Thanks Aacini, you reminded me of the old days. <br /><br />In my career I have used the old turbo pascal 3.0 and I developed these things in assembler 8088 but I had forgotten that I did ... <br /><br />However, I was interested to see how many digits you can get the 32bit integer math. In fact in my function INT_sin I arrived at this time to handle 5 digit without having to use too many tricks. To make a complete automatism should handle exceptions for those calculations that exceed the 32-bit and I think there is a thread where it was discussed. <br /><br />But there are also differences between xp and win 7. <br /><br />In my function I implemented the shift with the division <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /> . and I use it with care. I'd like to calculate the error committed in the operations in order to choose the best order in which to run. Thank you again!<br /><br />Francesco aka Einstein1969</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p28640" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile28640">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28640">

						<h3 ><a href="#p28640">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postinge24d.html?mode=quote&amp;f=3&amp;p=28640" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic2fe2.html?p=28640#p28640" onclick="prompt('Message #17',this.href); return false;">#17</a></span> 
									<a class="unread" href="viewtopic2fe2.html?p=28640#p28640" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>16 Sep 2013 10:38
			</p>
			
			
			
			<div class="content">For test the Int_sinD i had to compare result with a solid version of sin(x). Is born a new function that is a hibryd for table lookup and other trick. <br /><br />This calculates <span class="posthilit">sine</span> and cosine together!<br /><br />This is a function that use  about 28bit at the moment to achieve 7 decimal of precision in output (0.0000001) and input in 100*microDegree (0.0001)<br /><br />There is optimization that i can do for faster execution?<br /><br />How can break the for loop in safe mode for use in a macro?<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp; setlocal EnableDelayedExpansion<br /><br />if &quot;%~1&quot;==&quot;&quot; (set angle=300000) else set &quot;angle=%~1&quot;<br /><br />call :INT_SinD_CosD %angle% sin cos<br /><br />echo(<br />echo Angle:(%angle%/10000^)° Integer raw result sin=!sin! cos=!cos! &amp; Rem Use Ansi, chcp 1252<br /><br />rem pad<br />call :pad_sin_cos sin &amp; call :pad_sin_cos cos<br /><br />echo(<br />echo Pad: sin=!sin! cos=!cos! <br /><br />goto :eof<br /><br />::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::<br />:INT_SinD_CosD&nbsp; Angle&nbsp; SinResultVAR&nbsp; CosResultVAR<br />::<br />::&nbsp; &nbsp; &nbsp; -- Return the <span class="posthilit">sine</span> and cosine for the specified angle in 100*micro-degrees.<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ie. 10000 is one degree.<br />::<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Call :INT_sinD_CosD Angle sin cos<br />::&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />::&nbsp; &nbsp; &nbsp; -- Angle&nbsp; &nbsp; &#91;in&#93;&nbsp; &nbsp;in 100 micro-Degree is an integer in &#91;-449999,449999&#93;<br />::<br />::&nbsp; &nbsp; &nbsp; -- SinResultVAR&nbsp; &nbsp; &#91;out&#93;&nbsp; &nbsp;var reference to return value of <span class="posthilit">sine</span> &#91;-10000000,10000000&#93;<br />::<br />::&nbsp; &nbsp; &nbsp; -- CosResultVAR&nbsp; &nbsp; &#91;out&#93;&nbsp; &nbsp;var reference to return value of cosine &#91;-10000000,10000000&#93;<br />::<br />::<br />::&nbsp; Version history<br />::<br />:: 0.1&nbsp; &nbsp;16/9/2013&nbsp; &nbsp;<br />::<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;First version Beta! Internal 27bit used<br />::<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;From Francesco Poscetti aka Einstein1969<br />::<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NOTE: This Function allow you to calculate almost all other common<br />::&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;trigonometric function. Uses the CORDIC modified algorithm.<br />::<br />::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::<br />SetLocal EnableDelayedExpansion<br /><br />&nbsp; &nbsp;set /a &quot;a=%~1&quot;<br /><br />&nbsp; &nbsp;if %a% lss -449999 echo Not implemented. Exit. &amp; goto :eof<br />&nbsp; &nbsp;if %a% gtr&nbsp; 449999 echo Not implemented. Exit. &amp; goto :eof<br /><br />&nbsp; &nbsp;set /a size=-1<br />&nbsp; &nbsp;For %%a in (450000000 265650512 140362435 71250163 35763344 17899106<br />&nbsp; &nbsp;8951737 4476142 2238105 1119057 559529 279765 139882 69941 34971 17485<br />&nbsp; &nbsp;8743 4371 2186 1093 546 273 137 68 34 17 9 4 2 1) do (set /a &quot;size+=1&quot; &amp; set &quot;at!size!=%%a&quot;)<br /><br />&nbsp; &nbsp;if %a% geq 0 (&nbsp; &nbsp; &nbsp;set /a x=607252935, angle=!a!*10*10*10, angle-=!at0!, y=x<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;) else set /a x=607252935, angle=!a!*10*10*10, angle+=!at0!, y=-x<br /><br />&nbsp; &nbsp;For /L %%# in (1,1,!size!) do (<br />&nbsp; &nbsp; &nbsp;if !angle! lss 0&nbsp; &nbsp; &nbsp; &nbsp; (set /a &quot;angle+=!at%%#!, dx=x/(1&lt;&lt;%%#), x+=y/(1&lt;&lt;%%#), y-=dx&quot;<br />&nbsp; &nbsp; &nbsp;) else if !angle! gtr 0 (set /a &quot;angle-=!at%%#!, dx=x/(1&lt;&lt;%%#), x-=y/(1&lt;&lt;%%#), y+=dx&quot;) <br />&nbsp; &nbsp;)<br /><br />endlocal &amp; set /a %2=(%y%+55)/100, %3=(%x%+55)/100<br />goto :eof<br />::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::<br /><br />:pad_sin_cos num<br />&nbsp; setlocal EnableDelayedExpansion<br />&nbsp; &nbsp; if !%1! lss 0 (set &quot;sign=-&quot; &amp; set /a ris=-%1) else (set &quot;sign=&quot; &amp; set /a ris=%1)<br />&nbsp; &nbsp; set ris=0000000%ris%<br />&nbsp; &nbsp; set ris=!ris:~-8!<br />&nbsp; &nbsp; if &quot;!ris:~0,1!&quot; == &quot;1&quot; (set ris=%sign%1.%ris:~-7%) else (set ris=%sign%0.%ris:~-7%)<br />&nbsp; endlocal &amp; set %1=%ris%<br />goto :eof<br /><br /><br /></code></pre></div><br /><br />Output:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code><br />Angle:(300000/10000)° Integer raw result sin=5000000 cos=8660254<br /><br />Pad: sin=0.5000000 cos=0.8660254<br /></code></pre></div><br /><br />Einstein1969</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p28642" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile28642">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistf667.html?mode=viewprofile&amp;u=1265" style="color: #00AA00;" class="username-coloured">aGerman</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search661c.html?author_id=1265&amp;sr=posts">3386</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 22 Jan 2010 18:01</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Germany</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28642">

						<h3 ><a href="#p28642">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postinga04b-2.html?mode=quote&amp;f=3&amp;p=28642" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopicd319.html?p=28642#p28642" onclick="prompt('Message #18',this.href); return false;">#18</a></span> 
									<a class="unread" href="viewtopicd319.html?p=28642#p28642" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistf667.html?mode=viewprofile&amp;u=1265" style="color: #00AA00;" class="username-coloured">aGerman</a></strong> &raquo; </span>16 Sep 2013 12:42
			</p>
			
			
			
			<div class="content"><blockquote class="uncited"><div>How can break the for loop in safe mode for use in a macro?</div></blockquote><br />Er ... you want to break the FOR /L loop?<br />That's not so easy -<br /><a href="viewtopic79d5.html?f=3&amp;t=2707" class="postlink">infinite loop with break condition</a><br /><br />Regards<br />aGerman</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p28643" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile28643">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist07be.html?mode=viewprofile&amp;u=2923" style="color: #00AA00;" class="username-coloured">Aacini</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchdc63.html?author_id=2923&amp;sr=posts">1540</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 06 Dec 2011 22:15</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> México City, México</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28643">

						<h3 ><a href="#p28643">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting398c.html?mode=quote&amp;f=3&amp;p=28643" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic75e9.html?p=28643#p28643" onclick="prompt('Message #19',this.href); return false;">#19</a></span> 
									<a class="unread" href="viewtopic75e9.html?p=28643#p28643" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist07be.html?mode=viewprofile&amp;u=2923" style="color: #00AA00;" class="username-coloured">Aacini</a></strong> &raquo; </span>16 Sep 2013 13:16
			</p>
			
			
			
			<div class="content">... or this one: <a href="viewtopicac79.html?f=3&amp;t=3487" class="postlink">The ultimate While loop</a><br /><br />Antonio</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p28645" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile28645">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1bf7.html?author_id=4915&amp;sr=posts">1612</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 23 Jun 2013 06:15</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Germany</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28645">

						<h3 ><a href="#p28645">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingc01b.html?mode=quote&amp;f=3&amp;p=28645" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic827a.html?p=28645#p28645" onclick="prompt('Message #20',this.href); return false;">#20</a></span> 
									<a class="unread" href="viewtopic827a.html?p=28645#p28645" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a></strong> &raquo; </span>16 Sep 2013 15:25
			</p>
			
			
			
			<div class="content">Another option is the following, but you have to add a label (:endMacro) after any macro call (should be no problem):<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />cls<br />setlocal disableDelayedExpansion<br />call :initMacros<br /><br />set &quot;N=9&quot;<br />%$example% N 4 result<br />:endMacro<br />echo %N%, 4 %result%<br />echo =======================<br />set &quot;N=8&quot;<br />%$example% N 4<br />:endMacro<br /><br />endlocal<br />goto :eof<br /><br /><br />:initMacros<br />set LF=^<br /><br /><br />::Above 2 blank lines are required - do not remove<br />set ^&quot;\n=^^^%LF%%LF%^%LF%%LF%^^&quot;<br />:::: StrLen pResult pString<br />set $example=for /L %%n in (1 1 2) do if %%n==2 (%\n%<br />&nbsp; &nbsp; for /F &quot;tokens=1-3 delims=, &quot; %%1 in (&quot;!argv!&quot;) do (%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; set &quot;param1=!%%~1!&quot;%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; set &quot;param2=%%~2&quot;%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; set &quot;result=0&quot;%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; set &quot;N=!param1!&quot;%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; for /L %%a in (1,1,!N!) do (%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if !N! GEQ %%a (%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set /A &quot;N-=1&quot;, &quot;result+=N&quot;%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo %%%%a=&quot;%%a&quot;, N=&quot;!N!&quot;%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ) else (%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo ended N loop%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo do something after the loop%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for %%v in (!result!) do endlocal^&amp;(if &quot;%%~3&quot; neq &quot;&quot; (set &quot;%%~3=%%v&quot;) else (echo %%v))^&amp;goto :endMacro%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; )%\n%<br />&nbsp; &nbsp; &nbsp; &nbsp; for %%v in (!result!) do endlocal^&amp;(if &quot;%%~3&quot; neq &quot;&quot; (set &quot;%%~3=%%v&quot;) else (echo %%v))^&amp;goto :endMacro%\n%<br />&nbsp; &nbsp; ) %\n%<br />) ELSE setlocal enableDelayedExpansion ^&amp; set argv=,<br /><br />exit /b<br /></code></pre></div>The above places the code to execute after the condition in an else case of this condition within the loop you don't want to execute fully.<br />This can be done multiple times, if you are finished with what you wanted to do, just jump to a label outside the macro using goto.<br />In case the loop isn't executed you have to add the finishing line to all macro ending possibilities.<br /><br />penpen</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p28655" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile28655">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistf667.html?mode=viewprofile&amp;u=1265" style="color: #00AA00;" class="username-coloured">aGerman</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search661c.html?author_id=1265&amp;sr=posts">3386</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 22 Jan 2010 18:01</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Germany</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28655">

						<h3 ><a href="#p28655">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingb1c2.html?mode=quote&amp;f=3&amp;p=28655" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopicddc8.html?p=28655#p28655" onclick="prompt('Message #21',this.href); return false;">#21</a></span> 
									<a class="unread" href="viewtopicddc8.html?p=28655#p28655" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistf667.html?mode=viewprofile&amp;u=1265" style="color: #00AA00;" class="username-coloured">aGerman</a></strong> &raquo; </span>17 Sep 2013 07:07
			</p>
			
			
			
			<div class="content">You can't break a FOR /L loop via GOTO. You'll see that with ECHO ON<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@prompt $g &amp;setlocal<br />set &quot;N=10&quot;<br />for /l %%i in (1 1 %N%) do (<br />&nbsp; if %%i==5 goto exitLoop<br />&nbsp; echo %%i<br />)<br />:exitLoop<br />pause<br /></code></pre></div><br />It executes the ECHO command only for the first 4 iterations but it doesn't stop the loop.<br /><br />Regards<br />aGerman</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p28662" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile28662">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1bf7.html?author_id=4915&amp;sr=posts">1612</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 23 Jun 2013 06:15</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Germany</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28662">

						<h3 ><a href="#p28662">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingee1c.html?mode=quote&amp;f=3&amp;p=28662" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic6f85-2.html?p=28662#p28662" onclick="prompt('Message #22',this.href); return false;">#22</a></span> 
									<a class="unread" href="viewtopic6f85-2.html?p=28662#p28662" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a></strong> &raquo; </span>17 Sep 2013 09:38
			</p>
			
			
			
			<div class="content">Why not? I always have seen this that way:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp;setlocal<br />set &quot;N=10&quot;<br />for /l %%i in (1 1 %N%) do (<br />:exitLoop<br />&nbsp; if %%i==5 goto exitLoop<br />&nbsp; echo %%i<br />)<br />pause<br /><br /></code></pre></div>The goto breaks the loop as it doesn't execute the loops content.<br />The command line interpreter just have to read the virtual document, that is inserted into the batch file by the for loop.<br />This is done line by line (or loop body by loop body, default) to not oversee any label.<br />The label cannot be found within the virtual document, as it is removed on the loop body (on normalization) when building the virtual document, so it doesn't find them within the loop.<br />But it doesn't execute the code, and goes to the next wanted label, so it is working.<br />Execution is stopped, that's what is wanted.<br />You should carefully select the number of iterations, as this extends the virtual document.<br />So do not insert a document of infinite length, the result were far from beeing optimal.<br /><br />Edited:<br />I would agree to you if you meant this: the command line processor doesn't ignore this virtual document, although that should be not difficult to implement (and is done in all other for loops).<br />Then you would mean the outer script loop that implements the script loop: This loop is indeed not interrupted.<br /><br />penpen<br /><br />Edit2: Repositioned the text.</div>

			
													<div class="notice">
					Last edited by <a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a> on 17 Sep 2013 10:49, edited 2 times in total.
									</div>
			
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p28663" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile28663">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search1bf7.html?author_id=4915&amp;sr=posts">1612</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 23 Jun 2013 06:15</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Germany</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content28663">

						<h3 ><a href="#p28663">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting51a4.html?mode=quote&amp;f=3&amp;p=28663" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopicc25a.html?p=28663#p28663" onclick="prompt('Message #23',this.href); return false;">#23</a></span> 
									<a class="unread" href="viewtopicc25a.html?p=28663#p28663" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlistfcd5.html?mode=viewprofile&amp;u=4915" style="color: #00AA00;" class="username-coloured">penpen</a></strong> &raquo; </span>17 Sep 2013 10:44
			</p>
			
			
			
			<div class="content">But you are right aGerman... my above code is not really good... .<br />As only a very small loop with maximum of 30 iterations is needed,  if i see it right,<br />you may also do it this, more safe, way:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal<br />set &quot;loop=&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&quot;<br /><br /><br /><br />setlocal enableDelayedExpansion<br />set &quot;size=15&quot;<br />set /A &quot;loopSize=size*3&quot;<br /><br />for /F &quot;tokens=* delims=&quot; %%A in (&quot;!loopSize!&quot;) do (<br />&nbsp; &nbsp;set &quot;looping=!loop:~0,%%A!&quot;<br />&nbsp; &nbsp;for %%a in (!looping!) do (<br />&nbsp; &nbsp;&nbsp; &nbsp;if %%a == 5 goto :exitLoop<br />&nbsp; &nbsp;&nbsp; &nbsp;echo %%a<br />&nbsp; &nbsp;)<br />)<br />:exitLoop<br /><br />endlcoal<br />endlocal<br />goto :eof<br /></code></pre></div>And if you want the macro to compute on just use if else cases as in the above for /L loop scenario, and additionally with goto :endMacro use as above.<br /><br />penpen</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p34061" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile34061">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content34061">

						<h3 ><a href="#p34061">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting1b8a.html?mode=quote&amp;f=3&amp;p=34061" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic2e27-2.html?p=34061#p34061" onclick="prompt('Message #24',this.href); return false;">#24</a></span> 
									<a class="unread" href="viewtopic2e27-2.html?p=34061#p34061" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>27 Apr 2014 12:58
			</p>
			
			
			
			<div class="content">@penpen:<br /><br />Thanks penpen,<br /><br />This work for small loop, i will use if there is necessity!!!<br />I think that work on nearly ieee 754 if optimized for performance is very good for extending math of dos batch.<br /><br />@ALL:<br />Hi, I have rewritten the Maclaurin serie for the Sin(x) function for RADIANT angle because this is more flessible in accord with the wikipedia (english) article.<br /><br />I have optimized the first, second, and third term. An this is a small library pretty fast.<br /><br />I know that accessing at lookup table i more fast but in certain cases this method is more fast. Look at <a href="viewtopic3d33.html?p=33605#p33605" class="postlink">pgen demo</a> for an example. The alternative is using a lookup table accessing from file but is not pretty fast how SET /A method.<br /><br />I ask at experts: Am I right? There'is a faster method?<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>::::::::::::::::::::::::::::::::::: TRIGONOMETRIC FUNCTIONS<br /><br />:: call this function the first time for define some variable: PI=31416, PI_div_2=15708, PIx2=62832, PI32=3/2PI=PI+PI_div_2=47124<br />:Init_Trig <br /><br />&nbsp; set /a &quot;PI=(35500000/113+5)/10, PI_div_2=(35500000/113/2+5)/10, PIx2=2*PI, PI32=PI+PI_div_2&quot;<br />&nbsp; set &quot;SIN=(a-a*a/1920*a/312500+a*a/1920*a/15625*a/15625*a/2560000-a*a/1875*a/15360*a/15625*a/15625*a/16000*a/44800000)&quot;<br /><br />goto :eof<br /><br /><br />:Sin rad*10000 return_var*10000 RADIANT<br />&nbsp; setlocal<br /><br />&nbsp; &nbsp; set /a &quot;a=(%1) %% %PIx2%, b=(a&gt;&gt;31|1)*a&quot;<br />&nbsp; &nbsp; if !b! gtr %PI32% (set /a &quot;a=a-(a&gt;&gt;31|1)*%PIx2%, a=%SIN%&quot;)&nbsp; else (<br />&nbsp; &nbsp; &nbsp; if !b! gtr %PI_div_2% (set /a &quot;a=(a&gt;&gt;31|1)*%PI%-a, a=%SIN%&quot;) else set /a &quot;a=%SIN%&quot;)<br />&nbsp;<br />&nbsp; (endlocal &amp; set %2=%a%)<br />goto :eof<br /><br /><br />:Cos rad*10000 return_var*10000 RADIANT&nbsp; &nbsp; &nbsp; Cos(x)=Sin(PI/2-x)<br />&nbsp; setlocal<br /><br />&nbsp; &nbsp; set /a &quot;a=(%PI_div_2%-%1) %% %PIx2%, b=(a&gt;&gt;31|1)*a&quot;<br />&nbsp; &nbsp; if !b! gtr %PI32% (set /a &quot;a=a-(a&gt;&gt;31|1)*%PIx2%, a=%SIN%&quot;)&nbsp; else (<br />&nbsp; &nbsp; &nbsp; if !b! gtr %PI_div_2% (set /a &quot;a=(a&gt;&gt;31|1)*%PI%-a, a=%SIN%&quot;) else set /a &quot;a=%SIN%&quot;)<br />&nbsp;<br />&nbsp; (endlocal &amp; set %2=%a%)<br />goto :eof<br /><br />::::::::::::::::::::::::::::::::::: TRIGONOMETRIC FUNCTIONS END<br /></code></pre></div><br /><br />einstein1969</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p45762" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile45762">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content45762">

						<h3 ><a href="#p45762">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingc3ee-2.html?mode=quote&amp;f=3&amp;p=45762" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic3336.html?p=45762#p45762" onclick="prompt('Message #25',this.href); return false;">#25</a></span> 
									<a class="unread" href="viewtopic3336.html?p=45762#p45762" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>14 Mar 2016 08:19
			</p>
			
			
			
			<div class="content">Hi,<br /><br />The faster method developed by Aacini is this:<br />This version is about <strong class="text-strong">EDIT:40%</strong> faster (101microseconds in empty env) than previuos.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; set &quot;_SIN=a-a*a/1920*a/312500+a*a/1920*a/15625*a/15625*a/2560000-a*a/1875*a/15360*a/15625*a/15625*a/16000*a/44800000&quot;<br /><br />&nbsp; REM APA mod<br />&nbsp; REM http://www.dostips.com/forum/viewtopic.php?f=3&amp;t=6744<br />&nbsp; REM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if !c! gtr 47124&nbsp; &nbsp;(set /a &quot;a=a-(a&gt;&gt;31|1)*62832&quot;) else if !c! gtr 15708&nbsp; set /a &quot;a=(a&gt;&gt;31|1)*31416-a&quot;<br />&nbsp; set &quot;SIN(x)=(a=(x)%%62832, c=(a&gt;&gt;31|1)*a, t=((c-47125)&gt;&gt;31)+1, a-=t*((a&gt;&gt;31|1)*62832)&nbsp; +&nbsp; ^^^!t*( (((c-15709)&gt;&gt;31)+1)*(-(a&gt;&gt;31|1)*31416+2*a)&nbsp; ), %_SIN%)&quot;<br />&nbsp; set &quot;_SIN=&quot;<br /></code></pre></div><br /><br />Usage:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br /></code></pre></div><br /><br /><br />I found alternative at <strong class="text-strong">!t</strong> that is <strong class="text-strong">(1-t)</strong>  and I  have not precalculate t but substitute directly.<br />This version is about 6% faster (95microseconds in empty env!!) than previous.<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>&nbsp; set &quot;SIN(x)=(a=(x)%%62832, c=(a&gt;&gt;31|1)*a, a-=(((c-47125)&gt;&gt;31)+1)*((a&gt;&gt;31|1)*62832)&nbsp; +&nbsp; (-((c-47125)&gt;&gt;31))*( (((c-15709)&gt;&gt;31)+1)*(-(a&gt;&gt;31|1)*31416+2*a)&nbsp; ), %_SIN%)&quot;<br /></code></pre></div><br /><br />The timing is calculated on old Celeron@2Ghz<br /><br />Einstein1969</div>

			
													<div class="notice">
					Last edited by <a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a> on 14 Mar 2016 14:37, edited 2 times in total.
									</div>
			
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p45763" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile45763">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist5b5d.html?mode=viewprofile&amp;u=3221" style="color: #00AA00;" class="username-coloured">foxidrive</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf147.html?author_id=3221&amp;sr=posts">6033</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 10 Feb 2012 02:20</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content45763">

						<h3 ><a href="#p45763">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postinge2e7.html?mode=quote&amp;f=3&amp;p=45763" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopicd425.html?p=45763#p45763" onclick="prompt('Message #26',this.href); return false;">#26</a></span> 
									<a class="unread" href="viewtopicd425.html?p=45763#p45763" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist5b5d.html?mode=viewprofile&amp;u=3221" style="color: #00AA00;" class="username-coloured">foxidrive</a></strong> &raquo; </span>14 Mar 2016 11:38
			</p>
			
			
			
			<div class="content">einstein, can you supply a batch script to test the relative speeds of the two routines, over a set of caluclations?<br /><br />My thoughts are that I'd be interested to see how a later model PC will render the two routines, compared to your monocore 2 GHz Celeron.</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p45768" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile45768">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content45768">

						<h3 ><a href="#p45768">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting2038.html?mode=quote&amp;f=3&amp;p=45768" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic273d.html?p=45768#p45768" onclick="prompt('Message #27',this.href); return false;">#27</a></span> 
									<a class="unread" href="viewtopic273d.html?p=45768#p45768" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>14 Mar 2016 12:28
			</p>
			
			
			
			<div class="content">I use this.<br />The result is on <strong class="text-strong">EDIT:screen</strong>. Close any application for stabilize. I don't know if on multicore this is necessary.<br /><br />Let me know if it works.<br /><br />For old version:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal DisableDelayedExpansion<br /><br />Echo Close any application, browser, and suspend process that use CPU.<br />Echo You can use Resource Monitor under Task Manager , select a process and right click to suspend.<br />Echo Close Task Manager and Resource Monitor.<br />Pause <br /><br />set FPS=if&nbsp; &nbsp;%%\ geq !\!&nbsp; (set &quot;FPS_t1=1!time:~-5,-3!!time:~-2!&quot; ^&amp; ((set /p &quot;FPS_old_counter=&quot; ^&amp; set /p &quot;FPS_t0=&quot;)^&lt;%tmp%\FPS.$$$.dat.txt) ^&amp; set /a &quot;FPS_dt=FPS_t1-FPS_t0, FPS_check=FPS_dt-1&gt;&gt;31, FPS_rapp=FPS_dt/(FPS_dt+(FPS_check&amp;1)), FPS=(%%\-FPS_old_counter)*10000*100/(FPS_dt+(FPS_check&amp;6000)), \=%%\+6*FPS/100/100+(1-FPS_rapp)*100, FPS_micro=1000000000/(FPS+(FPS-1&gt;&gt;31&amp;1))&quot; ^&amp; Echo FPS=!FPS:~0,-2!.!FPS:~-2! &#91;!FPS_micro:~0,-1!.!FPS_micro:~-1! æs&#93; &#91;#%%\-!\!&#93; ^&amp;set FPS_t1=^&amp;set FPS_old_counter=^&amp;set FPS_t0=^&amp;set FPS_dt=^&amp;set FPS_check=^&amp;set FPS_rapp=^&amp;set FPS=^&amp;set FPS_micro=^&amp; ( (echo %%\)^&gt;%tmp%\FPS.$$$.dat.txt ^&amp; (echo 1!time:~-5,-3!!time:~-2!)^&gt;^&gt;%tmp%\FPS.$$$.dat.txt) )<br />set INIT_FPS=set \=0^&amp;(echo 0^&amp;echo 1%time:~-5,-3%%time:~-2%)^&gt;%tmp%\FPS.$$$.dat.txt<br /><br />setlocal EnableDelayedExpansion<br /><br />%= Put here definition of macro or initialize value =%<br /><br />&nbsp; set /a &quot;PI=(35500000/113+5)/10, PI_div_2=(35500000/113/2+5)/10, PIx2=2*PI, PI32=PI+PI_div_2&quot;<br />&nbsp; set &quot;SIN=(a-a*a/1920*a/312500+a*a/1920*a/15625*a/15625*a/2560000-a*a/1875*a/15360*a/15625*a/15625*a/16000*a/44800000)&quot;<br /><br /><br />::BURST MODE ON<br />(setlocal &amp; for /F &quot;Tokens=1 delims==&quot; %%v in ('set') do set &quot;%%v=&quot;<br /><br />&nbsp; rem preallocate env. sometimes it works sometimes not. Remove rem for try. <br />&nbsp; rem (for /L %%\ in (1,1,2000) do (set z=!z!0000&amp;set z1=!z1!0000)) &amp; set z=&amp;set z1=&nbsp; <br /><br />(%INIT_FPS%)<br />For /L %%\ in (1,1,1600000) do (( For /L %%? in (0,1,99) do (<br /><br />%= Insert here the code to timing =%<br /><br />&nbsp; &nbsp; set /a &quot;a=(45*31416/180) %% %PIx2%, b=(a&gt;&gt;31|1)*a&quot;<br />&nbsp; &nbsp; if !b! gtr %PI32% (set /a &quot;a=a-(a&gt;&gt;31|1)*%PIx2%, a=%SIN%&quot;)&nbsp; else (<br />&nbsp; &nbsp; &nbsp; if !b! gtr %PI_div_2% (set /a &quot;a=(a&gt;&gt;31|1)*%PI%-a, a=%SIN%&quot;) else set /a &quot;a=%SIN%&quot;)<br /><br />&nbsp; &nbsp; set /A sx=a<br /><br /><br />&nbsp; ))<br />&nbsp; %FPS%<br />)<br /><br />endlocal)<br />::BURST MODE OFF<br /><br /><br />goto :eof<br /></code></pre></div><br />On my PC this use 143 Microseseconds.<br /><br /><br />Last code:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />setlocal DisableDelayedExpansion<br /><br />Echo Close any application, browser, and suspend process that use CPU.<br />Echo You can use Resource Monitor under Task Manager , select a process and right click to suspend.<br />Echo Close Task Manager and Resource Monitor.<br />Pause <br /><br />set FPS=if&nbsp; &nbsp;%%\ geq !\!&nbsp; (set &quot;FPS_t1=1!time:~-5,-3!!time:~-2!&quot; ^&amp; ((set /p &quot;FPS_old_counter=&quot; ^&amp; set /p &quot;FPS_t0=&quot;)^&lt;%tmp%\FPS.$$$.dat.txt) ^&amp; set /a &quot;FPS_dt=FPS_t1-FPS_t0, FPS_check=FPS_dt-1&gt;&gt;31, FPS_rapp=FPS_dt/(FPS_dt+(FPS_check&amp;1)), FPS=(%%\-FPS_old_counter)*10000*100/(FPS_dt+(FPS_check&amp;6000)), \=%%\+6*FPS/100/100+(1-FPS_rapp)*100, FPS_micro=1000000000/(FPS+(FPS-1&gt;&gt;31&amp;1))&quot; ^&amp; Echo FPS=!FPS:~0,-2!.!FPS:~-2! &#91;!FPS_micro:~0,-1!.!FPS_micro:~-1! æs&#93; &#91;#%%\-!\!&#93; ^&amp;set FPS_t1=^&amp;set FPS_old_counter=^&amp;set FPS_t0=^&amp;set FPS_dt=^&amp;set FPS_check=^&amp;set FPS_rapp=^&amp;set FPS=^&amp;set FPS_micro=^&amp; ( (echo %%\)^&gt;%tmp%\FPS.$$$.dat.txt ^&amp; (echo 1!time:~-5,-3!!time:~-2!)^&gt;^&gt;%tmp%\FPS.$$$.dat.txt) )<br />set INIT_FPS=set \=0^&amp;(echo 0^&amp;echo 1%time:~-5,-3%%time:~-2%)^&gt;%tmp%\FPS.$$$.dat.txt<br /><br />setlocal EnableDelayedExpansion<br /><br />%= Put here definition of macro or initialize value =%<br /><br />&nbsp; set &quot;_SIN=a-a*a/1920*a/312500+a*a/1920*a/15625*a/15625*a/2560000-a*a/1875*a/15360*a/15625*a/15625*a/16000*a/44800000&quot;<br /><br />&nbsp; REM APA mod: Convert final <span class="posthilit">sine</span> calculation into a long &quot;function&quot; expression<br />&nbsp; REM http://www.dostips.com/forum/viewtopic.php?f=3&amp;t=6744<br />&nbsp; REM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if !c! gtr 47124&nbsp; &nbsp;(set /a &quot;a=a-(a&gt;&gt;31|1)*62832&quot;) else if !c! gtr 15708&nbsp; set /a &quot;a=(a&gt;&gt;31|1)*31416-a&quot;<br />&nbsp; set &quot;SIN(x)=(a=(x)%%62832, c=(a&gt;&gt;31|1)*a, a-=(((c-47125)&gt;&gt;31)+1)*((a&gt;&gt;31|1)*62832)&nbsp; +&nbsp; (-((c-47125)&gt;&gt;31))*( (((c-15709)&gt;&gt;31)+1)*(-(a&gt;&gt;31|1)*31416+2*a)&nbsp; ), %_SIN%)&quot;<br />&nbsp; set &quot;_SIN=&quot;<br /><br /><br />::BURST MODE ON<br />(setlocal &amp; for /F &quot;Tokens=1 delims==&quot; %%v in ('set') do set &quot;%%v=&quot;<br /><br />&nbsp; rem preallocate env. sometimes it works sometimes not. Remove rem for try. <br />&nbsp; rem (for /L %%\ in (1,1,2000) do (set z=!z!0000&amp;set z1=!z1!0000)) &amp; set z=&amp;set z1=&nbsp; <br /><br />(%INIT_FPS%)<br />For /L %%\ in (1,1,1600000) do (( For /L %%? in (0,1,99) do (<br /><br />%= Insert here the code to timing =%<br /><br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br /><br /><br />&nbsp; ))<br />&nbsp; %FPS%<br />)<br /><br />endlocal)<br />::BURST MODE OFF<br /><br /><br />goto :eof<br /></code></pre></div><br /><br />On my PC this use 95Microseseconds.<br /><br />Einstein1969</div>

			
													<div class="notice">
					Last edited by <a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a> on 21 Mar 2016 07:54, edited 2 times in total.
									</div>
			
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p45770" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile45770">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content45770">

						<h3 ><a href="#p45770">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postinga0a3.html?mode=quote&amp;f=3&amp;p=45770" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopiccb04.html?p=45770#p45770" onclick="prompt('Message #28',this.href); return false;">#28</a></span> 
									<a class="unread" href="viewtopiccb04.html?p=45770#p45770" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>14 Mar 2016 13:21
			</p>
			
			
			
			<div class="content">For better result i use often the 10X instruction like this:<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>...<br />%= Insert here the code to timing =%<br /><br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br />&nbsp; set /A &quot;sx=%SIN(x):x=45*31416/180%&quot;<br /><br />...&nbsp; <br /></code></pre></div><br /><br />And divide by 10 the result.<br /><br />Einstein1969</div>

			
													<div class="notice">
					Last edited by <a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a> on 14 Mar 2016 14:20, edited 1 time in total.
									</div>
			
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p45772" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile45772">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist5b5d.html?mode=viewprofile&amp;u=3221" style="color: #00AA00;" class="username-coloured">foxidrive</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searchf147.html?author_id=3221&amp;sr=posts">6033</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 10 Feb 2012 02:20</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content45772">

						<h3 ><a href="#p45772">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting2414.html?mode=quote&amp;f=3&amp;p=45772" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic8c88.html?p=45772#p45772" onclick="prompt('Message #29',this.href); return false;">#29</a></span> 
									<a class="unread" href="viewtopic8c88.html?p=45772#p45772" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist5b5d.html?mode=viewprofile&amp;u=3221" style="color: #00AA00;" class="username-coloured">foxidrive</a></strong> &raquo; </span>14 Mar 2016 13:59
			</p>
			
			
			
			<div class="content">I assume it runs continuously so I copied a few lines - this is the result from the first and second scripts.<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>FPS=19189.62 &#91;52.1 µs&#93; &#91;#1485-2636&#93;<br />FPS=19312.08 &#91;51.7 µs&#93; &#91;#2636-3794&#93;<br />FPS=19332.22 &#91;51.7 µs&#93; &#91;#3794-4953&#93;</code></pre></div><br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>FPS=2004.04 &#91;498.9 µs&#93; &#91;#100-220&#93;<br />FPS=1948.05 &#91;513.3 µs&#93; &#91;#220-336&#93;<br />FPS=1979.52 &#91;505.1 µs&#93; &#91;#336-454&#93;<br /></code></pre></div><br /><br /><br />It doesn't run both sin methods to compare them, does it?  <br />Too early in the morning for me to follow it all. <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
				<div id="p45773" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile45773">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a>							</dt>

						<dd class="profile-rank">Expert</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="searche2bd.html?author_id=3864&amp;sr=posts">762</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> 15 Jun 2012 13:16</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Italy, Rome</dd>
							
						
		</dl>

		<div class="postbody">
						<div id="post_content45773">

						<h3 ><a href="#p45773">Re: Fastest sin(x) in dos batch</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="postingb18f.html?mode=quote&amp;f=3&amp;p=45773" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author"><span class="posti"><a href="viewtopic2125-2.html?p=45773#p45773" onclick="prompt('Message #30',this.href); return false;">#30</a></span> 
									<a class="unread" href="viewtopic2125-2.html?p=45773#p45773" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlista071.html?mode=viewprofile&amp;u=3864" class="username">einstein1969</a></strong> &raquo; </span>14 Mar 2016 14:43
			</p>
			
			
			
			<div class="content">I have editated the previous posts (last 3). I have correct a value. The performance gain is about 40% with the Aacini version<br />and total 45% for the last.<br /><br />Einstein1969<br /><br />EDIT: Your PC is 2 times fast than mine! on single core!</div>

			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider" />
	

	<div class="action-bar bar-bottom">
	
			<a href="postingddf4.html?mode=reply&amp;f=3&amp;t=4896" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic7e4d.html?f=3&amp;t=4896&amp;start=15&amp;hilit=SINE&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="https://www.dostips.com/forum/viewtopic.php?f=3&amp;t=4896&amp;start=15">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			37 posts
							<ul>
			<li class="arrow previous"><a class="button button-icon-only" href="viewtopic66b3.html?f=3&amp;t=4896&amp;hilit=SINE" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="viewtopic66b3.html?f=3&amp;t=4896&amp;hilit=SINE" role="button">1</a></li>
			<li class="active"><span>2</span></li>
				<li><a class="button" href="viewtopicf0ec-2.html?f=3&amp;t=4896&amp;hilit=SINE&amp;start=30" role="button">3</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="viewtopicf0ec-2.html?f=3&amp;t=4896&amp;hilit=SINE&amp;start=30" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="viewforum4d6b.html?f=3" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “DOS Batch Forum”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="viewforum31e6.html?f=4" class="jumpbox-cat-link"> <span> DosTips - Dos Batch</span></a></li>
																<li><a href="viewforum4d6b.html?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; DOS Batch Forum</span></a></li>
											</ul>
		</div>
	</div>

	</div>


			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
							<span class="crumb"><a href="../index.html" data-navbar-reference="home"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>DosTips.com</span></a></span>									<span class="crumb"><a href="index.html" data-navbar-reference="index"><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC-6">UTC-06:00</span></li>
							<li class="rightside">
				<a href="ucp033a.html?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete all board cookies</span>
				</a>
			</li>
												<li class="rightside" data-last-responsive="true">
				<a href="memberlist4bfd.html?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
									<li class="rightside" data-last-responsive="true">
				<a href="memberlist8733.html?mode=contactadmin" role="menuitem">
					<i class="icon fa-envelope fa-fw" aria-hidden="true"></i><span>Contact us</span>
				</a>
			</li>
			</ul>

	</div>
</div>

	<div class="copyright">
				<!-- WARNING NO DELETE -->Style developer by <a href="http://tricolor.x-tk.ru/">support forum tricolor</a>, <!-- END WARNING NO DELETE -->Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited
									</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	<img src="cronc6bf.gif?cron_type=cron.task.text_reparser.user_signature" width="1" height="1" alt="cron" /></div>

<script type="text/javascript" src="assets/javascript/jquery.mind772.js?assets_version=34"></script>
<script type="text/javascript" src="assets/javascript/cored772.js?assets_version=34"></script>



<script type="text/javascript" src="styles/prosilver/template/forum_fnd772.js?assets_version=34"></script>
<script type="text/javascript" src="styles/prosilver/template/ajaxd772.js?assets_version=34"></script>
<script type="text/javascript" src="styles/AllanStyle-SUBSILVER/template/jquery-uid772.js?assets_version=34"></script>
<script type="text/javascript" src="styles/AllanStyle-SUBSILVER/template/collapsed772.js?assets_version=34"></script>



</body>

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=4896&hilit=SINE&start=15 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 06:36:10 GMT -->
</html>
