<!DOCTYPE html>
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=7153&start=60&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 06:34:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex" />

<title>DosTips.com &bull; Cmdgfx - draw 3d and graphic primitives (polygons,circles etc) in cmd window - Page 5</title>

<link href="styles/AllanStyle-SUBSILVER/theme/print.css" rel="stylesheet">
</head>
<body id="phpbb">
<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>

	<div id="page-header">
		<h1>DosTips.com</h1>
		<p>A Forum all about DOS Batch<br /><a href="index-2.html">https://www.dostips.com/forum/</a></p>

		<h2>Cmdgfx - draw 3d and graphic primitives (polygons,circles etc) in cmd window</h2>
		<p><a href="viewtopic9d55.html?f=3&amp;t=7153">https://www.dostips.com/forum/viewtopic.php?f=3&amp;t=7153</a></p>
	</div>

	<div id="page-body" class="page-body">
		<div class="page-number">Page <strong>5</strong> of <strong>7</strong></div>
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>16 Sep 2016 21:44</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">Alright, I tried some jscript too. Result was fast (~80 fps), even though a new window opens for every frame, when calling shell.Run(!). This obviously ruins the effect...<br /><br />Is there some way I can run an external from js without opening a new window? Tried Exec, but then no output from WriteConsoleOutput is shown <img class="smilies" src="images/smilies/icon_sad.gif" alt=":(" title="Sad" /> And &quot;start /B&quot; for Run didn't work either.<br /><br />Script&#058;<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@if (true == false) @end /*<br />@echo off<br />setlocal ENABLEDELAYEDEXPANSION<br />cmdwiz setfont 6 &amp; cls &amp; mode 140,50<br />cmdwiz gettime&amp;set STARTT=!errorlevel!<br />cscript //nologo //e:javascript &quot;%~dpnx0&quot; %*<br />mode 80,50 &amp; cls<br />cmdwiz gettime&amp;set /a FPS=(!errorlevel!-%STARTT%)/1000&amp;set /a FPS=400/!FPS!&amp;echo !FPS!<br />endlocal<br />exit /b 0 */<br /><br />nofStars = 200<br />var starsX=&#91;&#93;, starsY=&#91;&#93;, starsS=&#91;&#93;, starsC=&#91;&#93;<br /><br />var shell = new ActiveXObject(&quot;WScript.Shell&quot;);<br /><br />for (i = 0; i &lt; nofStars; i++) {<br />&nbsp; starsX.push(Math.floor(Math.random() * 140))<br />&nbsp; starsY.push(Math.floor(Math.random() * 50))<br />&nbsp; starsS.push(Math.random() * 1.2 + 0.1)<br />&nbsp; if (starsS&#91;i&#93; &lt; 0.5) {<br />&nbsp; &nbsp; &nbsp;starsC.push(8)<br />&nbsp; &nbsp;} else if (starsS&#91;i&#93; &lt; 1.1) {<br />&nbsp; &nbsp; &nbsp;starsC.push(7)<br />&nbsp; &nbsp;} else {<br />&nbsp; &nbsp; &nbsp;starsC.push(15)<br />&nbsp; &nbsp;}<br />}<br /><br />for (j = 0; j &lt; 400; j++) {<br />&nbsp; outString=&quot;&quot;<br />&nbsp; for (i = 0; i &lt; nofStars; i++) {<br />&nbsp; &nbsp; starsX&#91;i&#93; += starsS&#91;i&#93;<br />&nbsp; &nbsp; if (starsX&#91;i&#93; &gt; 140) {<br />&nbsp; &nbsp; &nbsp; &nbsp; starsX&#91;i&#93; = 0<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; outString = outString + &quot;&amp; pixel &quot; + starsC&#91;i&#93; + &quot; 0 . &quot; + Math.floor(starsX&#91;i&#93;) + &quot;,&quot; + starsY&#91;i&#93;<br />&nbsp; }<br />&nbsp; <br />//&nbsp; var wsx = shell.Exec(&quot;cmd /c cmdgfx \&quot;&quot; + outString + &quot;\&quot; k&quot;); // can read/print stdout/stderr output this way, but no WriteConsoleOutput is shown :(<br />////&nbsp; WScript.Echo(wsx.StdOut.ReadAll())<br /><br />&nbsp; shell.Run(&quot;cmdgfx \&quot;&quot; + outString + &quot;\&quot; k&quot;,10); // Always opens a new window&nbsp; :(<br />}<br /></code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>27 Sep 2016 18:50</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content"><img src="https://ucf8ee94724db7876d1ec9b0535d.dl.dropboxusercontent.com/cd/0/inline/ATZ96lFZamNJ4wxfxZn7PSvf5Ico0_08YWoY6cWApG1_D1QKZkMJchu0ditj_PzcxHPLyuJz9LKVk-ttDruDyxf6ZFbItGsBIlya793pDv50OQ6x3PRYA74KNPTaxQkBnrgPTMyMthWfBGR3YaEd2XigT6TF3zKWhjj5VrtZ1V50ohMWzwhcUuroM1mjIdwQXBo/file" class="postimage" alt="Image" /><br /><br />Archive / repo updated.<br /><br />Not a lot of new features or scripts, mostly stability/bugfixes. But hey, there's the Matrix effect <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br /><strong class="text-strong">1. Polygons no longer get horribly messed up when very close in 3d.</strong> This problem was &quot;hidden&quot; before, but try changing the near culling in <em class="text-italics">3dworld.bat</em> from 800 to 1 using the old cmdgfx.exe and things will quickly get ugly.<br />Unfortunately, when using texture mapping, getting very close to polygons one can more clearly see the artefacts of non-perspective-correct texture mapping (things getting all wobbly etc). But that's another issue.<br /><br /><strong class="text-strong">2. More sanity checks and better parsing of plg/ply/obj 3d object files.</strong> Still far from perfect.<br /><br /><strong class="text-strong">3. No more &quot;ipoly&quot; polygons with &quot;holes&quot;.</strong> To see an example of holes, use the old cmdgfx version, run <em class="text-italics">glenz.bat</em> and then zoom in with Shift-D.<br /><br /><strong class="text-strong">4. Goraud shading rounding/edge bug fixed.</strong> Probably not noticed by many, but could be seen in all goraud shading examples, like <em class="text-italics">gfxtest4.bat.</em><br /><br /><strong class="text-strong">5. Able to set projection depth for 3d.</strong> This is used to change how &quot;narrow&quot; the z dimension in the world appears. The default value is 500. Use the new flag Zn to set this. The new script <em class="text-italics">3dworld3_pxlfont_1280.bat</em> shows the same old 3d world, but now in 1280x680 resolution. At this high resolution, the projection narrowness was increased to 800 to avoid a too stretched out feeling. <br /><br /><strong class="text-strong">6. Transparency supported for the block operation.</strong> This allows e.g. layers of transforms to be put on top of each other, as shown in the new <em class="text-italics">matrix.bat </em>script. SPACE to change colors.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>27 Sep 2016 20:08</strong></div>
				<div class="author">by <strong>foxidrive</strong></div>
				<div class="content"><blockquote><div><cite>misol101 wrote:</cite>But hey, there's the Matrix effect <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /></div></blockquote><br /><br />That's cool.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>28 Sep 2016 10:57</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content"><blockquote><div><cite>foxidrive wrote:</cite>That's cool.</div></blockquote><br />Thanks. I added another script (matrix-src.bat), so archive was updated again. This one is sort of meta, because it shows the code to the script while its code runs... This was a tricky one to get working... <br /><br /><img src="https://ucf581a58b7b4da03f4393f860b3.dl.dropboxusercontent.com/cd/0/inline/ATZgKl4gLKJsvi4IxuEvGWi_JcImZp15CWvc_VrlKlvQzrH8nI6JcZME3lIOdiCDrAryyQjpVSlTfKp09eqMjecZE_g3B5xGeKjxXcUW4Q5j0Q9P8xZe-NbV9vzp8TyJzd10LxqgHWMDFMdx8vQNsIQ3Bq2ft6TCHy_5sxp4QZOs8WWzDMVMmZj9ygM0xTMOGOE/file" class="postimage" alt="Image" /><br /><br />Edit: also try giving a file as input, like: matrix-src img\myface.txt</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>07 Oct 2016 17:50</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">My latest batch adventures!  <img class="smilies" src="images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> Archive/repo were updated.<br /><br />This time there were two major changes:<br /><br />1. <strong class="text-strong">Math expressions</strong> for the block operation (both for color and position), in addition to previous transform.<br />2. Support for <strong class="text-strong">bezier curves</strong> (max 6 control points plus the first two)<br /><br />To enable math expressions, I used source from <em class="text-italics">tinyexpr</em>, which can be cloned from here: <a href="https://github.com/codeplea/tinyexpr" class="postlink">https://github.com/codeplea/tinyexpr</a>. It's quite cool and easy to extend!<br /><br />Some scaled-down results from test scripts:<br /><br /><img src="https://uc0324af432931bc08a39b0e9e6a.dl.dropboxusercontent.com/cd/0/inline/ATbWhjdFNJXXU7St7tYhb9DW9w-9quqLcBNOKPbmPgqIi7IAkQygU3FZqycvUDqsOcbUNDoAlr7_pNU8eIQU23oBTEgR2Ua3qYzLS60VVMB3vmN1Pua0VAWHxJVF2eezUR5H6-YgYnkU9TXPdNtaZwHB7oqKIEKtScI5e0k3GUFKlhtM4SVOZIvFqw2DPrWN-n0/file" class="postimage" alt="Image" /><br /><br />Image 1: <em class="text-italics">rotate-expr.bat</em>, using expressions to rotate the screen while adding more content at the same time.<br />Image 2: <em class="text-italics">plasma.bat</em>, using expressions to change colors, creating a kind of moving &quot;plasma&quot; effect<br />Image 3: <em class="text-italics">bezier-expr.bat</em> (and <em class="text-italics">bezier.bat</em> for single color), draw a bunch of bezier curves in an animation, use expressions for symmetry and overlay plasma<br />Image 4: <em class="text-italics">life.bat</em>, implements Game of Life using expressions. Also possible to draw to screen with mouse, then evaluate.<br /><br />There is a lot that could be said about the expressions, it's powerful but can be tricky, especially when combining color expressions, move expressions and transformations in several steps. From the get-go, tinyexpr supports math functions like sin/cos/abs/tan/floor etc, and I have added several: random,neg/and/or/xor/shl/shr,eq,neq,gtr,lss,col,char,fgcol,bgcol,store. I may explain it all more later. Anyway, as an example, here's an expression to implement GameOfLife  <img class="smilies" src="images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> (the result of summing up the cell neighbours is stored in s0 by &quot;store&quot;)<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>((1-(lss(s0,2)+gtr(s0,3)))*gtr(col(x,y),0)+eq(col(x,y)*10+s0,3)+store(gtr(col(x-1,y-1),0)+gtr(col(x,y-1),0)+gtr(col(x+1,y-1),0)+gtr(col(x-1,y),0)+gtr(col(x+1,y),0)+gtr(col(x-1,y+1),0)+gtr(col(x,y+1),0)+gtr(col(x+1,y+1),0),0))*!COL!</code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>08 Oct 2016 06:02</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">Another archive update. I realized it was a shame to draw 50 bezier lines per frame and not actually make it look like they move. So I made a new version, (bezier2.bat), where I have less lines but each lines moves individually after each other. This creates a totally different feeling and can be quite dizzying at times <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Space to create new pattern.<br /><br />EDIT: Added yet another script, bezier-aacini-sin.bat, named as such simply because I stole Aacini's sin macro to get rid of the lookup table. Lovely, now I can easily use negative sinus values!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>09 Oct 2016 18:30</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">Updated archive again. Block operation got xflip and yflip options, and some bugs in ellipse and fellipse were fixed.<br /><br />The latest script added (bezier-col-hires.bat) looks like this:<br /><br /><img src="https://uccf0d0e0decb3e502a56b06a2dd.dl.dropboxusercontent.com/cd/0/inline/ATYuY8NIZk1gWW9EB_5U5XRjOM6XDc3GRWU0L9KsLpMj3bpzn2Qzu35oQxhX02Rd3x02nzYbkUg0-ocxZD1mFQAVGAwLqnfgqA3yCcK5vxHTc5zG2_iNjwbudD86UZ1Gca4zc-80_ZfS_2kddgbUlzNH3oeQl3qztUlIdR_4Lf3al7KHlzYKthceUY_MIU3wYEo/file" class="postimage" alt="Image" /><br /><br />but, actually, also like this:  <img class="smilies" src="images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> <br /><br /><img src="https://uc018af291d42437928ee6cc9fc1.dl.dropboxusercontent.com/cd/0/inline/ATYLr2f71CMzgp4ofS5at8QUCgOZoyymY5sBTUCa2IdRMjrQWiHUGVqnol4hAaWrYK_ISCWu24dM6JFb18D9FVN2jbciV3R0Gki8bH8X_FVsgGCk4jlr7MQgWmg7z8vqT2psoAG6VREqYA5Yv3uOQdpHBLiZtppPwBkQjflb1iRKDWg7N0AhJxwV9mOFYUBBwbw/file" class="postimage" alt="Image" /><br /><br />and this:<br /><br /><img src="https://uc10a537ce3459b43f0808d599e4.dl.dropboxusercontent.com/cd/0/inline/ATZKJNP8Sv9YkDmLPh2kGcxjvxobX-32a8IpQjGApyEaQhHoyc32t0zg2e9W2E0nDV2bpVzc6xUIeDMP6Y0bO7qWxt9AqlU3nqICfJlrfwfRGanKc6vk-hfQ084F-nCJdCbZEZNmGG2zV7kkc-VvuHr1LCAoZb2kQ0se2A9igk7J7eeSd6vCHOi57q27pp4TTPM/file" class="postimage" alt="Image" /><br /><br />Some keys while running:<br />'o' switch drawing operation<br />'b' bit operator when in poly mode<br />'c' switch between default colors and set colors<br />Space: new pattern<br />D/d: increase decrease delay<br />'s' turn on/off gradual slow change of pattern (default is on)<br />'a' print out data for the current pattern, to be copy/pasted</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>12 Oct 2016 10:34</strong></div>
				<div class="author">by <strong>einstein1969</strong></div>
				<div class="content">Hi misol101,<br /><br />very good job!<br /><br />I see that you are using the sin(x) macros developed by me and Aacini and other Dostip users.<br />You can find the last version, <strong class="text-strong">faster</strong> than the previous in this <a href="viewtopic495a.html?f=3&amp;t=4896&amp;hilit=SINE&amp;start=15#p45762" class="postlink">thread.</a><br /><br />The extracted code:<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>set &quot;SIN=(a - a*a/1920*a/312500 + a*a/1920*a/15625*a/15625*a/2560000 - a*a/1875*a/15360*a/15625*a/15625*a/16000*a/44800000)&quot;<br />set &quot;SIN(x)=(a=(x)%%62832, c=(a&gt;&gt;31|1)*a, a-=(((c-47125)&gt;&gt;31)+1)*((a&gt;&gt;31|1)*62832)&nbsp; +&nbsp; (-((c-47125)&gt;&gt;31))*( (((c-15709)&gt;&gt;31)+1)*(-(a&gt;&gt;31|1)*31416+2*a)&nbsp; ), %SIN%)&quot;<br />set SIN=</code></pre></div><br /><br />einstein1969 aka Francesco Poscetti</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>13 Oct 2016 02:21</strong></div>
				<div class="author">by <strong>neorobin</strong></div>
				<div class="content">Hi einstein1969<br /><br />I made another implementation, origin from 3D Sphere  <!-- l --><a class="postlink-local" href="viewtopicac1a.html?f=3&amp;t=5594">viewtopic.php?f=3&amp;t=5594</a><!-- l --><br /><br />map rule: [0,2pi) to [-pi/2, pi/2]<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>angle t in &#91;0,2pi)<br /><br />0 &lt;= t &lt; pi/2&nbsp; &nbsp; &nbsp; &nbsp;t -&gt; t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in &#91;-pi/2, 0)<br />not need map<br /><br /><br />pi/2 &lt;= t &lt; 3pi/2&nbsp; &nbsp;t -&gt; pi-t&nbsp; &nbsp; &nbsp; &nbsp;in (-pi/2, pi/2&#93;<br /><br />sin(t) = sin(pi-t),&nbsp; &nbsp; cos(t) = -cos(pi-t)<br /><br /><br />3pi/2 &lt;= t &lt; 2pi&nbsp; &nbsp; t -&gt; -2pi+t&nbsp; &nbsp; &nbsp;in &#91;-pi/2, 0)<br /><br />sin(t) = sin(-2pi+t),&nbsp; cos(t) = cos(-2pi+t)<br /></code></pre></div><br /><br /><br />my test code<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off<br />mode 100<br />set &quot;SIN=(t-t*t/1875*t/320000+t*t/1875*t/15625*t/16000*t/2560000-t*t/1875*t/15360*t/15625*t/15625*t/16000*t/44800000)&quot;<br />set &quot;COS=(10000-t*t/20000+t*t/1875*t/15625*t/819200-t*t/1875*t/15360*t/15625*t/15625*t/10240000+t*t/1875*t/15360*t/15625*t/15625*t/16000*t/15625*t/229376000)&quot;<br /><br />REM 15 test angles in &#91;0, 2Pi) step by Pi/8<br />set &quot;List=0,3927,7854,11781,15708,19635,23562,27489,31416,35343,39270,43197,47124,51051,54978,58905&quot;<br />set /a &quot;p=31416, p2=62832, pn2=-62832, p#2=15708, p3#2=47124, p3#2_=p3#2-1&quot;<br />set R_Sin=<br />set R_Cos=<br /><br />for %%a in (%List%) do (<br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;t=%%a&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;t%%=p2,s1=(t-p#2^t-p3#2)&gt;&gt;31, s3=p3#2_-t&gt;&gt;31, t=(-t&amp;s1)+(t&amp;~s1)+(p&amp;s1)+(pn2&amp;s3), r1=%SIN%&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;t=%COS%, r2=(-t&amp;s1)+(t&amp;~s1)&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; setlocal EnableDelayedExpansion<br />&nbsp; &nbsp; &nbsp; &nbsp; set R_Sin=!R_Sin!!r1!,<br />&nbsp; &nbsp; &nbsp; &nbsp; set R_Cos=!R_Cos!!r2!,<br />)<br />set R_<br />pause<br /></code></pre></div><br /><br />test result<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>R_Cos=10000,9238,7071,3826,0,-3826,-7071,-9238,-10000,-9238,-7071,-3826,0,3826,7071,9238,<br />R_Sin=0,3827,7071,9239,9999,9239,7071,3827,0,-3827,-7071,-9239,-9999,-9239,-7071,-3827,<br /></code></pre></div><br /><br /><br />Two usage examples: tested on WIN7 64bit and XP 32bit<br /><br />Please edit the code, replace the ★ to a real TAB character (ASCII 0x9).<br /><br />spiral<br /><br /><img src="../../cdn4.snapgram.co/images/2016/09/23/spiral-resize.gif" class="postimage" alt="Image" /><br /><br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp; setlocal enabledelayedexpansion<br /><br />set &quot;TAB=★&quot; &amp; for /F %%a in ('&quot;prompt $h&amp;for %%b in (1) do rem&quot;')do Set &quot;BS=%%a&quot;<br /><br />set /a &quot;ZM=10000, p=31416, p2=62832, pn2=-62832, p#2=15708, p3#2=47124, p3#2_=p3#2-1, DEG=31416/180&quot;<br />set &quot;SIN=(t-t*t/1875*t/320000+t*t/1875*t/15625*t/16000*t/2560000-t*t/1875*t/15360*t/15625*t/15625*t/16000*t/44800000)&quot;<br />set &quot;COS=(10000-t*t/20000+t*t/1875*t/15625*t/819200-t*t/1875*t/15360*t/15625*t/15625*t/10240000+t*t/1875*t/15360*t/15625*t/15625*t/16000*t/15625*t/229376000)&quot;<br /><br />set /a &quot;wid=75, hei=75, iMax=wid*hei, wid_div_2 = wid / 2 - 3&quot;<br />color 0c &amp; mode !wid!,!hei!<br /><br />(for /l %%i in (1 1 !iMax!) do set &quot;scr= !scr!&quot;) &amp; set &quot;emp=!scr!&quot;<br /><br />set /a &quot;buffwid = wid, linesWantBackAbove = hei - 1, cntBS = 2 + (buffwid + 7) / 8 * linesWantBackAbove&quot;<br /><br />set &quot;BSs=&quot; &amp; for /L %%a in (1 1 !cntBS!) do set &quot;BSs=!BSs!%BS%&quot;<br />set &quot;aLineBS=&quot; &amp; for /L %%a in (1 1 !wid!) do set &quot;aLineBS=!aLineBS!%BS%&quot;<br /><br />set /a &quot;XC = wid/2, YC = hei/2, DEG_unit = 3, ddu=1, th0=!random! %% 360 * DEG&quot;<br /><br />for /L %%i in (5000 -1 0) do (<br /><br />&nbsp; &nbsp; set /a &quot;th=th0+p2+DEG*%%i, DEG_unit+=ddu, DEG_unit= DEG_unit %% 360&quot;<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; for /l %%a in (0 1 !wid_div_2!) do (<br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;th+=p2+DEG * DEG_unit, th %%= p2, th += th&gt;&gt;31&amp;p2, t=th, s1=(t-p#2^t-p3#2)&gt;&gt;31, s3=p3#2_-t&gt;&gt;31, t=(-t&amp;s1)+(t&amp;~s1)+(p&amp;s1)+(pn2&amp;s3), SINt=%SIN%, t=%COS%, COSt=(-t&amp;s1)+(t&amp;~s1)&quot;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;r=%%a, x=(XC*10000 + r * COSt)/10000, y=(YC*10000 + r * SINt)/10000, inScr=(x-0^x-wid)&amp;(y-0^y-hei)&quot;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; REM if !inScr! lss 0 (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;ind=x+y*wid+1, lenL=ind-1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for /f &quot;tokens=1,2&quot; %%a in (&quot;!lenL! !ind!&quot;) do (set scr=!scr:~0,%%a!*!scr:~%%b!)<br />&nbsp; &nbsp; &nbsp; &nbsp; REM )<br />&nbsp; &nbsp; )<br /><br />&nbsp; &nbsp; &lt;nul set /p &quot;=!aLineBS!&quot; &amp; (2&gt;nul echo;%TAB%!BSs!) &amp; &lt;nul set /p &quot;=%BS%&quot;<br />&nbsp; &nbsp; &lt;nul set /p &quot;=%BS%!scr:~0,-1!&quot; &amp; set &quot;scr=!emp!&quot; &amp; title %%i / 5000<br />)<br />&gt;nul pause<br />exit<br /></code></pre></div><br /><br /><br />3D Torus Vortex<br /><img src="../../cdn4.snapgram.co/images/2016/09/27/VORTEX_20160927_214736.png" class="postimage" alt="Image" /><br />Please edit the code, replace the ★ to a real TAB character (ASCII 0x9).<br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off &amp; setlocal enabledelayedexpansion &amp; chcp 437 &amp; title 3D Torus Vortex<br /><br />set &quot;Path=%SystemRoot%\system32&quot; &amp; for /f &quot;delims==&quot; %%a in ('set') do if /i &quot;%%a&quot; neq &quot;Path&quot; set &quot;%%a=&quot;<br />set &quot;SIN=(t-t*t/1875*t/320000+t*t/1875*t/15625*t/16000*t/2560000-t*t/1875*t/15360*t/15625*t/15625*t/16000*t/44800000)&quot;<br />set &quot;COS=(10000-t*t/20000+t*t/1875*t/15625*t/819200-t*t/1875*t/15360*t/15625*t/15625*t/10240000+t*t/1875*t/15360*t/15625*t/15625*t/16000*t/15625*t/229376000)&quot;<br />set /a &quot;ZM=10000, p=31416, p2=62832, pn2=-62832, p#2=15708, p3#2=47124, p3#2_=p3#2-1, DEG=31416/180&quot;<br /><br />set /a &quot;Cols=wid=330, lines=hei=130, lines_plus_1=lines+1&quot;<br />mode !Cols!,!lines_plus_1!<br /><br />set &quot;TAB=★&quot; &amp; for /F %%a in ('&quot;prompt $h&amp;for %%b in (1) do rem&quot;')do Set &quot;BS=%%a&quot;<br />set /a &quot;buffwid = wid, linesWantBackAbove = hei - 1 + 1, cntBS = 2 + (buffwid + 7) / 8 * linesWantBackAbove&quot;<br />set &quot;BSs=&quot; &amp; for /L %%a in (1 1 !cntBS!) do set &quot;BSs=!BSs!%BS%&quot;<br />set &quot;aLineBS=&quot; &amp; for /L %%a in (1 1 !wid!) do set &quot;aLineBS=!aLineBS!%BS%&quot;<br /><br />set &quot;LN0=&quot; &amp; for /L %%C in (1 1 !Cols!) do set &quot;LN0= !LN0!&quot;<br />for /L %%L in (1 1 !lines!) do set &quot;LN%%L=!LN0!&quot;<br /><br />set /a &quot;pixel_h=6, pixel_w=4&quot; &amp; rem Fontsize 4X6<br />rem zscr: screen Z coor, zeye: eye point Z coor<br />set /a &quot;XC = Cols/2, YC = lines/2, zscr = 128, zeye = 400, zs2e=zscr-zeye&quot;<br /><br />set /a &quot;R1 = 68, r2 = 60, TH1 = 0, th2 = 0, cntRings=120, cntRings_1=cntRings-1, cntDotPerRing=20, cntDotPerRing_1=cntDotPerRing-1&quot;<br />set /a &quot;sumDots=cntDotPerRing*cntRings&quot;<br />set /a &quot;dth2base=(P2+P2/cntRings)/cntDotPerRing, offsClose=p2-(dth2base*cntDotPerRing-p2)*cntRings&quot;<br />set &quot;offsClose=!offsClose!/!sumDots!&quot;<br />set /a &quot;dTH1base=p2/cntRings, offsCloseBigCircle=p2-dTH1base*cntRings&quot;<br />set &quot;offsCloseBigCircle=!offsCloseBigCircle!/!cntRings!&quot;<br />set /a &quot;Z_cut_ZM=999*ZM&quot; &amp; rem The cutting plane parallel to plane xoy, Cut the front. When this value is large enough, there is no cutting effect<br /><br />for /l %%i in (0 1 !cntRings_1!) do (<br /><br />&nbsp; &nbsp; for /l %%j in (0 1 !cntDotPerRing_1!) do (<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;TH1=%%i*dTH1base+ %%i * %offsCloseBigCircle%, TH1 %%= p2, TH1 += TH1&gt;&gt;31&amp;p2, t=TH1, s1=(t-p#2^t-p3#2)&gt;&gt;31, s3=p3#2_-t&gt;&gt;31, t=(-t&amp;s1)+(t&amp;~s1)+(p&amp;s1)+(pn2&amp;s3), SIN_TH1=%SIN%, t=%COS%, COS_TH1=(-t&amp;s1)+(t&amp;~s1)&quot;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;t=%%i*cntDotPerRing+%%j,th2=t*dth2base+t*%offsClose%, th2 %%= p2, th2 += th2&gt;&gt;31&amp;p2, t=th2, s1=(t-p#2^t-p3#2)&gt;&gt;31, s3=p3#2_-t&gt;&gt;31, t=(-t&amp;s1)+(t&amp;~s1)+(p&amp;s1)+(pn2&amp;s3), SIN_th2=%SIN%, t=%COS%, COS_th2=(-t&amp;s1)+(t&amp;~s1)&quot;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; title 3D Torus Vortex&nbsp; %%i/!cntRings_1! %%j/!cntDotPerRing_1!&nbsp; TH1: !TH1! th2: !th2!<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;z_ZM=(R1*ZM + r2*COS_th2)/ZM * SIN_TH1, z_t2eye_ZM=z_ZM -zeye*ZM, x=XC + (R1*ZM + r2*COS_th2)/ZM * COS_TH1 *zs2e* pixel_h /(z_t2eye_ZM * pixel_w), y=YC + r2 * SIN_th2 *zs2e/z_t2eye_ZM, inScr=(x-0^x-wid)&amp;(y-0^y-hei)&quot;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;inner=(th2-p#2^th2-p3#2)&quot; &amp; rem distance to the y-axis &lt; big circle radius<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; if !z_ZM! LSS !Z_cut_ZM! (<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set /a &quot;ind=x+1, lenL=ind-1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for /f &quot;tokens=1-3&quot; %%a in (&quot;!lenL! !ind! !y!&quot;) do (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if !TH1! LSS !p! (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if !inner! LSS 0 (&nbsp; set &quot;LN%%c=!LN%%c:~0,%%a!#!LN%%c:~%%b!&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ) else (&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set &quot;LN%%c=!LN%%c:~0,%%a!o!LN%%c:~%%b!&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ) else (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if !inner! LSS 0 (&nbsp; rem set &quot;LN%%c=!LN%%c:~0,%%a!*!LN%%c:~%%b!&quot; &amp; Blank the behind half of the inner hole<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ) else (&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set &quot;LN%%c=!LN%%c:~0,%%a!.!LN%%c:~%%b!&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )<br />&nbsp; &nbsp; &nbsp; &nbsp; )<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;nul set /p &quot;=!aLineBS!&quot; &amp; (2&gt;nul echo;%TAB%!BSs!) &amp; &lt;nul set /p &quot;=%BS%&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; for /L %%d in (1 1 !lines!) do &lt;nul set /p &quot;=%BS%!LN%%d!&quot;<br />&nbsp; &nbsp; )<br />)<br />&gt;nul pause<br />exit<br /></code></pre></div></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>13 Oct 2016 10:49</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">einstein: Thanks! I mentioned using your sin macro in neorobin's thread <a href="viewtopic9f77.html?f=3&amp;t=7447" class="postlink">http://www.dostips.com/forum/viewtopic.php?f=3&amp;t=7447</a><br /><br />neorobin: Cool, so.. is that even faster then or how does it differ?<br /><br /><br />I suppose you already know this, but for some real scripting speed something like Python is hard for Batch to beat... here is my hires bezier lines in Python (in a bat file), it runs a lot smoother for sure... (even though rendering probably takes the majority of time, so the difference is not as big as it can be)<br /><br /><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>0&lt;0# : ^<br />''' <br />@echo off<br />setlocal ENABLEDELAYEDEXPANSION<br />cmdwiz setfont 0 &amp; cls &amp; mode 180,80<br />cmdwiz showcursor 0<br />cmdwiz gettime&amp;set STARTT=!errorlevel!<br />python %~f0 %*<br />rem pause<br />mode 80,50 &amp; cls<br />rem cmdwiz gettime&amp;set /a FPS=(!errorlevel!-%STARTT%)/1000&amp;set /a FPS=400/!FPS!&amp;echo !FPS!<br />cmdwiz setfont 6<br />cmdwiz showcursor 1<br />endlocal<br />exit /b 0<br />'''<br /><br />from subprocess import Popen<br />from random import randint, uniform<br />from math import sin<br />from subprocess import call<br /><br />W, H, DIV = 180*4, 80*6, 2<br />XMID, YMID = W/2/DIV, H/2/DIV<br />XMUL, YMUL = W/2/DIV, H/2/DIV<br />SXMID, SYMID = W/2, H/2<br />DELAY, KEY = 0, 0<br />LINEGAP, NOFBEZ, SINDIV = 5, 22, 75<br />CHANGE, CHANGESTEPS = 1, 400<br />CHANGECOUNT = CHANGESTEPS<br />PALETTES=&#91;&quot;000000,000000,000000,000000,000000,0020ff,0040ff,0060ff,0080ff,20a0ff,20b0ff,50c0ff,80e0ff,b0f0ff,f0ffff,ffffff&quot;, &quot;&quot;,&quot;000000,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00,00ff00&quot;, &quot;000000,000040,000050,000060,000070,000080,0050a0,0050a0,0050a0,0070c0,2090e0,50b0ff,80d0ff,b0f0ff,f0ffff,ffffff&quot;&#93;<br />DRAWOP, BITOP, PAL = 0, 3, 0<br />DRAWS=&#91;&quot;line&quot;, &quot;ipoly&quot;, &quot;fellipse&quot;, &quot;fbox&quot;, &quot;fcircle&quot;, &quot;ellipse&quot;&#93;<br />S=&#91;0, 0, 0, 0, 0, 0, 0, 0&#93;<br />P=&#91;0, 3, 0, 0, -2, -3, -3, 3&#93;<br />SB=&#91;35962, 7098, -26481, -5009, 61416, -41598, -32963, 26096&#93;<br />#P=&#91;3, 2.99, -2, 2, 0, 0, -1, -1&#93;<br />#SB=&#91;41341.21999999964, 16061.609999999948, -25810.830000000027, -528.31000000008, 61528, -47065.68999999749, -37120, 33081.20999999951&#93;<br />P=&#91;2, 2, 2, 3.01, 0, -1, -2, 1&#93;<br />SB=&#91;34053, 9497, -25587.770000000517, -4603.32999999992, 61032, -42626.240000001475, -33496, 28050&#93;<br />out, process = 0, 0<br />P=&#91;-3, 1, -2.01, 0.0, 2.01, 2.01, 0.99, 1.0&#93;<br />SB=&#91;28712.570000000116, 19988.01000000009, -26999.879999996017, 5247.810000000997, 68958.06999999368, -37988.6600000038, -36060.44999999826, 35267.98999999772&#93;<br /><br />#for x in range(0, 400):<br />while (out != 27):<br />&nbsp; outString=&quot;&quot;<br />&nbsp; for i in range(0, 8):<br />&nbsp; &nbsp; &nbsp;S&#91;i&#93;=SB&#91;i&#93;<br /><br />&nbsp; COL, COLPLUS = 1, 14/NOFBEZ<br />&nbsp; for j in range(0, NOFBEZ):<br />&nbsp; &nbsp; outString=outString + &quot;&amp; &quot; + DRAWS&#91;DRAWOP&#93; + &quot; &quot;+ str(int(COL)) +&quot; 0 A &quot;<br /><br />&nbsp; &nbsp; if (DRAWOP==1):<br />&nbsp; &nbsp; &nbsp; outString += str(int(BITOP)) + &quot; &quot;<br /><br />&nbsp; &nbsp; COL+=COLPLUS<br />&nbsp; &nbsp; for i in range(0, 4):<br />&nbsp; &nbsp; &nbsp; &nbsp;if (i == 0) or (i == 2) or ((DRAWOP==1) and (i == 1)):<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;outString = outString + str(int(XMID+sin(S&#91;i*2&#93;/SINDIV)*XMUL)) + &quot;,&quot; + str(int(YMID+sin(S&#91;i*2+1&#93;/SINDIV)*YMUL)) + &quot;,&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp;elif (i == 1) or (i == 3):<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;outString = outString + str(int(XMID+sin(S&#91;i*2&#93;/SINDIV)*XMUL)) + &quot;,&quot; + str(int(YMID+sin(S&#91;i*2+1&#93;/SINDIV)*YMUL)) + &quot; &quot;<br />&nbsp; &nbsp; for i in range(0, 8):<br />&nbsp; &nbsp; &nbsp; S&#91;i&#93;+=P&#91;i&#93;*LINEGAP<br /><br />&nbsp; for i in range(0, 8):<br />&nbsp; &nbsp; &nbsp;SB&#91;i&#93;+=P&#91;i&#93;<br /><br />&nbsp; CHANGECOUNT-=1<br />&nbsp; if (CHANGECOUNT &lt; 0):<br />&nbsp; &nbsp; P&#91;randint(0,7)&#93;+=(randint(0,1)*2-1)/100<br />&nbsp; &nbsp; CHANGECOUNT=CHANGESTEPS<br /><br />&nbsp; if (DIV == 2):<br />&nbsp; &nbsp; outString += &quot; &amp; block 0 0,0,&quot;+str(int(SXMID))+&quot;,&quot;+str(int(SYMID))+&quot; &quot;+str(int(SXMID))+&quot;,0 -1 1 0&quot;<br />&nbsp; &nbsp; outString += &quot; &amp; block 0 0,0,&quot;+str(int(SXMID))+&quot;,&quot;+str(int(SYMID))+&quot; 0,&quot;+str(int(SYMID))+&quot; -1 0 1&quot;<br />&nbsp; &nbsp; outString += &quot; &amp; block 0 0,0,&quot;+str(int(SXMID))+&quot;,&quot;+str(int(SYMID))+&quot; &quot;+str(int(SXMID))+&quot;,&quot;+str(int(SYMID))+&quot; -1 1 1&quot;<br /><br />&nbsp; if (out == 112): #p<br />&nbsp; &nbsp; call(&#91;&quot;cmdwiz.exe&quot;, &quot;getch&quot;&#93;)<br /><br />&nbsp; if (out == 32): #space<br />&nbsp; &nbsp; for i in range(0, 8):<br />&nbsp; &nbsp; &nbsp; P&#91;i&#93;=randint(0,6)-3<br /><br />&nbsp; if (out == 99): #c<br />&nbsp; &nbsp; PAL+=1<br />&nbsp; &nbsp; if (PAL&gt;3):<br />&nbsp; &nbsp; &nbsp; PAL=0<br /><br />&nbsp; if (out == 111): #o<br />&nbsp; &nbsp; DRAWOP+=1<br />&nbsp; &nbsp; BITOP=3<br />&nbsp; &nbsp; if (DRAWOP&gt;5):<br />&nbsp; &nbsp; &nbsp; DRAWOP=0<br /><br />&nbsp; if (out == 68): #D<br />&nbsp; &nbsp; DELAY+=15<br /><br />&nbsp; if (out == 100): #d<br />&nbsp; &nbsp; DELAY-=15<br />&nbsp; &nbsp; if (DELAY&lt;0):<br />&nbsp; &nbsp; &nbsp; DELAY=0<br /><br />&nbsp; if (out == 98): #b<br />&nbsp; &nbsp; BITOP+=1<br />&nbsp; &nbsp; if (BITOP&gt;10):<br />&nbsp; &nbsp; &nbsp; BITOP=1<br /><br />&nbsp; if (out == 13): #ENTER<br />&nbsp; &nbsp; DIV+=1<br />&nbsp; &nbsp; if (DIV &gt; 2):<br />&nbsp; &nbsp; &nbsp; DIV=1<br />&nbsp; &nbsp; XMID, YMID, XMUL, YMUL = W/2/DIV, H/2/DIV, W/2/DIV, H/2/DIV <br /><br />&nbsp; if (out == 97): #a<br />&nbsp; &nbsp; call(&#91;&quot;cmd&quot;, &quot;/C&quot;, &quot;cls&quot;&#93;)<br />&nbsp; &nbsp; print(&quot;P=&#91;&quot; + str(P&#91;0&#93;) + &quot;, &quot; + str(P&#91;1&#93;) + &quot;, &quot; + str(P&#91;2&#93;) + &quot;, &quot; + str(P&#91;3&#93;) + &quot;, &quot; + str(P&#91;4&#93;) + &quot;, &quot; + str(P&#91;5&#93;) + &quot;, &quot; + str(P&#91;6&#93;) + &quot;, &quot; + str(P&#91;7&#93;) + &quot;&#93;&quot;)<br />&nbsp; &nbsp; print(&quot;SB=&#91;&quot; + str(SB&#91;0&#93;) + &quot;, &quot; + str(SB&#91;1&#93;) + &quot;, &quot; + str(SB&#91;2&#93;) + &quot;, &quot; + str(SB&#91;3&#93;) + &quot;, &quot; + str(SB&#91;4&#93;) + &quot;, &quot; + str(SB&#91;5&#93;) + &quot;, &quot; + str(SB&#91;6&#93;) + &quot;, &quot; + str(SB&#91;7&#93;) + &quot;&#93;&quot;)<br />&nbsp; &nbsp; call(&#91;&quot;cmdwiz.exe&quot;, &quot;getch&quot;&#93;)<br /><br />&nbsp; if process != 0:<br />&nbsp; &nbsp; &nbsp;out = process.wait()<br />&nbsp; process = Popen(&#91;&quot;cmdgfx_gdi.exe&quot;, outString, &quot;w&quot;+str(DELAY)+&quot;kfa:0,0,&quot;+str(W)+&quot;,&quot;+str(H), PALETTES&#91;PAL&#93;&#93;)<br /></code></pre></div><br /><br />Edit: oops, I accidentally included a 2ms wait per frame in this code. Try it again, it will run much more smooth <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>13 Oct 2016 17:18</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">New archive/repo update.<br /><br />This time I added <strong class="text-strong">perspective correct texture mapping</strong>.<br /><br />Here are two before/after screens from the new script <em class="text-italics">3dmaze.bat</em>.<br /><br />Affine:<br /><img src="https://uc9c747507bcfde329c55ba882ce.dl.dropboxusercontent.com/cd/0/inline/ATbb65jnnzpLiFVXXkfdhMmR2Vek29Xh54WsKKX40ixiAT439ZznWs30lcrFEOz0nnxv6uqXIu524KEnVNfYRdFCjwXw7iQk_1lqi59mMHzLwTdAB1IMhrOwTOfwuT4psZk_54bDUxTcHv9mtWLCa984jRRS3kQy06Pyzp18E6E-9JZr3az2GVDY1ED8UMlymL8/file" class="postimage" alt="Image" /><br /><br />Perspective corrected:<br /><img src="https://ucaa2a65629b6cb31eb15bf40146.dl.dropboxusercontent.com/cd/0/inline/ATbFYeXekDDcUXuMMTcAT1-LFwUoL2QjJhjQbNcfKxeLCuN4ICc2-2kCj1Qs5Ci4OqkqkhkJSkPdPVE6FQj8Y_xbXgTglmpCGhfX2mu_BscL5NL2o23JWBmhTJmdDfuaDcgl0vicdN9_4I7VFdt7fjVomdquK0lb3AQfqKy4CkgD7pZPJs8hJ2TLpzoVNd2nGTg/file" class="postimage" alt="Image" /><br /><br />I saw a maze creator script by <em class="text-italics">neorobin</em> which was nice, so I decided to turn one of the mazes into 3d. Good luck finding your way to the end <img class="smilies" src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /> (cursor keys to move, or w/s/a/d and mouse)<br /><br />While running, press 'RETURN' to switch between affine and perspective correct texture mapping. The latter is noticeably slower, especially since the new perspective tmapper is not optimized at all. It looks good though. Some wobblyness still exist if getting very close to walls.<br /><br />All the other 3dworld batch scripts also use the new texturemapper now, press RETURN to change.</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>13 Oct 2016 17:29</strong></div>
				<div class="author">by <strong>batchcc</strong></div>
				<div class="content">I can't wait to try this maze out!</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>14 Oct 2016 04:42</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">batchcc: Great to see some enthusiasm in this level-headed environment  <img class="smilies" src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>14 Oct 2016 08:19</strong></div>
				<div class="author">by <strong>einstein1969</strong></div>
				<div class="content">@neorobin<br />very nice SIN alternative. I think your version is faster than precedence. I will post this version in the original <a href="viewtopic9367.html?f=3&amp;t=4896&amp;start=30#p49658" class="postlink">thread</a> of fastest sin x.<br /><br />Francesco Poscettti aka einstein1969</div>
			</div>
			<hr />
					<div class="post">
				<h3>Re: Cmdgfx - draw graphic primitives (polygons,circles etc) in cmd line window</h3>
				<div class="date">Posted: <strong>09 Nov 2016 13:42</strong></div>
				<div class="author">by <strong>misol101</strong></div>
				<div class="content">New version, archive and repo update.<br /><br />1. Possible to use parts (blocks) of the current buffer as texturemaps for 3d objects. (<em class="text-italics">plasma-cube.bat</em>). This is an non-default extension to the obj 3d file format.<br /><br />2. The image operation got optional width/height parameters to scale the image (<em class="text-italics">gfxtest9.bat</em>)<br /><br />3. If a face in a 3d obj file only has 1 vertex AND a texture is set, the texture is drawn as an image instead of plotting a pixel (<em class="text-italics">3d-bob.bat</em>)<br /><br />4. Mysterious &quot;mode 6&quot; was added as drawmode for 3d. I discovered this as a bug in my code but thought it was actually pretty neat in some cases. What it does is texturemap characters using affine texture mapping, but use perspective correction for the colors. This can create an interesting overlay effect (<em class="text-italics">checkerbox.bat</em>)<br /><br />5. Second rotation for 3d possible after moving the object. (An example is in <em class="text-italics">games\cmdrunner\cmdrunner_hz.bat</em> where the cubes rotate with the horizon when flying)<br /><br />6. For image and text operations, it is now possibly to use ? for fgcolor and/OR bgcolor, making it possible to e.g preserve the current bgcolor but setting the fgcolor. (now used in various scripts for help texts, e.g. <em class="text-italics">interference.bat, bit-test.bat</em>)<br /><br />7. Bugfixes in perspective correct texturemapper and obj 3d object file reader<br /><br />8. Added some additional scripts that do not actually show any new functionality in cmdgfx (<em class="text-italics">shadebobs.bat, matrix01.bat, matrix-face.bat</em>)<br /><br /><img src="https://uc4f421d1f248285f47938b2069f.dl.dropboxusercontent.com/cd/0/inline/ATZZh4l8qJDLBkLJL7v_fJhHiqiW7q0SK_JkPmDlgjV7RqEzeunS5JElSs4QCmSS0AzWkzqckBwYfRwGrG2utY_XpsfDdkC2hXZd2WN8gRC7GCdJhqBz8tw0BumXj-rsggsWGWCREkrt9tN7FAfyOd7age4m2wnj6plwUuQ7MTYiTTrA2lcdVQJOqxgqDmvhyWk/file" class="postimage" alt="Image" /></div>
			</div>
			<hr />
			</div>

	<div id="page-footer" class="page-footer">
		<div class="page-number">All times are <span title="UTC-6">UTC-06:00</span><br />Page <strong>5</strong> of <strong>7</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Limited<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from www.dostips.com/forum/viewtopic.php?f=3&t=7153&start=60&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 06:34:22 GMT -->
</html>
