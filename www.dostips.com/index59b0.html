<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en-US">

<!-- Mirrored from www.dostips.com/?t=Batch.Progress by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 03:48:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<META http-equiv=content-type content="text/html; charset=iso-8859-1">
<META content=TRUE name=MSSmartTagsPreventParsing>
<META http-equiv=expires content=-1>
<META http-equiv=pragma content=no-cache>
<META content=all name=robots>
<META name=keywords content='dos,functions,vista,xp,command line,batch,examples,substring,variables,copies,date'>
<link rel=Stylesheet type="text/css" media=all href="_style0b84.css?v=0001">
<link rel="shortcut icon" href="favicon.ico" >
<link rel="icon" href="animated_favicon1.gif" type="image/gif" >
<title>DOS Batch - Progress</title>
<!--index.php-->
</head>
<body>

<div class="nav">
        <br>
    <div class="navi">
        <a href='index.html'><img src='TitleDostips.jpg' height='80' alt='DosTips.com'></a>
        <br><span style="font-size: 9px; font-weight: bold;">for Windows10,Windows8,Windows7,VISTA,</span>
        <br><span style="font-size: 9px; font-weight: bold;">XP,NT,Server 2000,Server 2003,Server 2008</span>
        <br>
        <br>
            <!-- SiteSearch Google -->
<div class="search">
<script>
  (function() {
    var cx = 'partner-pub-4331089886589220:2001057635';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = '../cse.google.com/cse07b6.html?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:searchbox-only></gcse:searchbox-only>
</div>
<!-- SiteSearch Google -->
        <br>
            <ul>
        <li class='nsel'><a href='index.html'>Home</a>&nbsp;
            <ul>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Source Script</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtCodeBatchFiles.html'>Batch Files</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeFunctions.html'>Functions</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeCmdLib.html'>Function Library</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeSnippets.html'>Script Snippets</a>&nbsp;</li>
                <li class='nsel'><a href='DtCodeInterfacing.html'>Interfacing</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Tips and Tricks</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtTipsXCopy.html'>Copy Tips</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsMenu.html'>Menu in Batch</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsStringManipulation.html'>String Manipulation</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsStringOperations.html'>String Operations</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsDateTime.html'>Date and Time</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsArithmetic.html'>Arithmetic</a>&nbsp;</li>
                <li class='nsel'><a href='DtTipsFtpBatchScript.html'>FTP Batch Script</a>&nbsp;</li>
                <li class='nsel'><a href='DosCommandIndex.html'>Command Index</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Tutorials</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtTutoFirstBatch.html'>My First Batch</a>&nbsp;</li>
                <li class='nsel'><a href='DtTutoFramework.html'>Solid Framework</a>&nbsp;</li>
                <li class='nsel'><a href='DtTutoFunctions.html'>Functions</a>&nbsp;</li>
                <li class='nsel'><a href='DtTutoPersistency.html'>Persistency</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a href='forum/viewforum4d6b.html?f=3'>Forum</a>&nbsp;
            <ul>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a href='DtGeneGeneral.html'>General</a>&nbsp;
            <ul>
                <li class='nsel'><a href='DtGeneTermsOfUse.html'>Terms of Use</a>&nbsp;</li>
                <li class='nsel'><a href='DtGeneEnabler.html'>Enablers</a>&nbsp;</li>
                <li class='nsel'><a href='DtGeneAboutUs.html'>About Us</a>&nbsp;</li>
                <li class='nsel'><a href='forum/memberlist8733.html?mode=contactadmin'>Contact Us</a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
        <li class='nsel'><a>Others</a>&nbsp;
            <ul>
                <li class='nsel'><a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=9018663'><marquee width="120" scrollamount="2">Want donate a cup of Cafe? . click . </marquee></a>&nbsp;</li>
                <li class='nsel'>&nbsp;</li>
            </ul>
        </li>
    </ul>
    </div>
</div>
<H1>DOS Batch - Progress</H1>
<span class='shortText'>Show progress in batch using the title bar</span><br><br>
  <table class='posts'>
    <tr>
      <td class='title' VALIGN='top'>Description:</td>
      <td class='text'  VALIGN='top'>Showing progress in the output window seems impractical in DOS batch, since there is no way to 
overwrite a previews output for an updated progress status during each progress tick.  Using the 
<a href="DosCommandIndex-2.html#ECHO">ECHO</a> command is not nice, screen content quickly scrolls out of sight.  A practicable alternative
may be to use the window <a href="DosCommandIndex-2.html#TITLE">TITLE</a> for the progress message.  A nice side effect is that you can 
minimize the batch window and still observe the progress output in the task bar, since the task 
bar text will always reflect the window title text.</td>
    </tr>
    <tr>
      <td class='title' VALIGN='top'>Script:</td>
      <td class='text'  VALIGN='top'><span style='float:right;'>Download: <a href='DosProgress.bat'>DosProgress.bat</a>&nbsp;&nbsp;</span>    <table class='btchscr'><tr>
      <td class='numbrs' align='right' nowrap='nowrap'><code><a name='1'>1.</a><br><a name='2'>2.</a><br><a name='3'>3.</a><br><a name='4'>4.</a><br><a name='5'>5.</a><br><a name='6'>6.</a><br><a name='7'>7.</a><br><a name='8'>8.</a><br><a name='9'>9.</a><br><a name='10'>10.</a><br><a name='11'>11.</a><br><a name='12'>12.</a><br><a name='13'>13.</a><br><a name='14'>14.</a><br><a name='15'>15.</a><br><a name='16'>16.</a><br><a name='17'>17.</a><br><a name='18'>18.</a><br><a name='19'>19.</a><br><a name='20'>20.</a><br><a name='21'>21.</a><br><a name='22'>22.</a><br><a name='23'>23.</a><br><a name='24'>24.</a><br><a name='25'>25.</a><br><a name='26'>26.</a><br><a name='27'>27.</a><br><a name='28'>28.</a><br><a name='29'>29.</a><br><a name='30'>30.</a><br><a name='31'>31.</a><br><a name='32'>32.</a><br><a name='33'>33.</a><br><a name='34'>34.</a><br><a name='35'>35.</a><br><a name='36'>36.</a><br><a name='37'>37.</a><br><a name='38'>38.</a><br><a name='39'>39.</a><br><a name='40'>40.</a><br><a name='41'>41.</a><br><a name='42'>42.</a><br></code></td>
      <td nowrap='nowrap' class='code'><code><span style='color=#000000'>@ECHO&nbsp;OFF</span><br>
<span style='color=#000000'>set&nbsp;&quot;max=11&quot;</span><br>
<span style='color=#000000'>call&nbsp;:initProgress&nbsp;%max%&nbsp;&quot;Window&nbsp;Title:&nbsp;[PPP]&quot;</span><br>
<span style='color=#000000'>for&nbsp;/l&nbsp;<span class=c_pvar>%%N</span>&nbsp;in&nbsp;(1,1,%max%)&nbsp;do&nbsp;(</span><br>
<span style='color=#000000'>&nbsp;&nbsp;&nbsp;&nbsp;ping&nbsp;-n&nbsp;2&nbsp;-w&nbsp;1&nbsp;127.0.0.1&gt;NUL</span><br>
<span style='color=#000000'>&nbsp;&nbsp;&nbsp;&nbsp;call:doProgress</span><br>
<span style='color=#000000'>)</span><br>
<span style='color=#000000'>GOTO:EOF</span><br>
<span style='color=#000000'></span><br>
<span style='color=#000000'><span class=c_labl><a name='initProgress'>:initProgress</a></span><span class=c_cmmt>&nbsp;max&nbsp;format&nbsp;--&nbsp;initialize&nbsp;an&nbsp;internal&nbsp;progress&nbsp;counter&nbsp;and&nbsp;display&nbsp;the&nbsp;progress&nbsp;in&nbsp;percent</span></span><br>
<span style='color=#000000'><span class=c_cmmt>::&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;max&nbsp;&nbsp;&nbsp;&nbsp;[in]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;progress&nbsp;counter&nbsp;maximum,&nbsp;equal&nbsp;to&nbsp;100&nbsp;percent</span></span><br>
<span style='color=#000000'><span class=c_cmmt>::&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;format&nbsp;[in,opt]&nbsp;-&nbsp;title&nbsp;string&nbsp;formatter,&nbsp;default&nbsp;is&nbsp;'[P]&nbsp;completed.'</span></span><br>
<span style='color=#000000'>:$created&nbsp;20060101&nbsp;:$changed&nbsp;20080327</span><br>
<span style='color=#000000'>:$source&nbsp;https://www.dostips.com</span><br>
<span style='color=#000000'>set&nbsp;/a&nbsp;&quot;ProgressCnt=-1&quot;</span><br>
<span style='color=#000000'>set&nbsp;/a&nbsp;&quot;ProgressMax=<span class=c_pvar>%~1</span>&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;ProgressFormat=<span class=c_pvar>%~2</span>&quot;</span><br>
<span style='color=#000000'>if&nbsp;not&nbsp;defined&nbsp;ProgressFormat&nbsp;set&nbsp;&quot;ProgressFormat=[PPPP]&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;ProgressFormat=%ProgressFormat:[PPPP]=[P]&nbsp;completed.%&quot;</span><br>
<span style='color=#000000'>call:doProgress</span><br>
<span style='color=#000000'>EXIT&nbsp;/b</span><br>
<span style='color=#000000'></span><br>
<span style='color=#000000'></span><br>
<span style='color=#000000'><span class=c_labl><a name='doProgress'>:doProgress</a></span><span class=c_cmmt>&nbsp;--&nbsp;display&nbsp;the&nbsp;next&nbsp;progress&nbsp;tick</span></span><br>
<span style='color=#000000'>:$created&nbsp;20060101&nbsp;:$changed&nbsp;20080327</span><br>
<span style='color=#000000'>:$source&nbsp;https://www.dostips.com</span><br>
<span style='color=#000000'>set&nbsp;/a&nbsp;&quot;ProgressCnt+=1&quot;</span><br>
<span style='color=#000000'>SETLOCAL&nbsp;ENABLEDELAYEDEXPANSION</span><br>
<span style='color=#000000'>set&nbsp;/a&nbsp;&quot;per100=100*ProgressCnt/ProgressMax&quot;</span><br>
<span style='color=#000000'>set&nbsp;/a&nbsp;&quot;per10=per100/10&quot;</span><br>
<span style='color=#000000'>set&nbsp;/a&nbsp;&quot;per10m=10-per100/10-1&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;P=%per100%%%&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;PP=&quot;</span><br>
<span style='color=#000000'>for&nbsp;/l&nbsp;<span class=c_pvar>%%N</span>&nbsp;in&nbsp;(0,1,%per10%)&nbsp;do&nbsp;call&nbsp;set&nbsp;&quot;PP=<span class=c_pvar>%%P</span>P%%*&quot;</span><br>
<span style='color=#000000'>for&nbsp;/l&nbsp;<span class=c_pvar>%%N</span>&nbsp;in&nbsp;(%per10%,1,9)&nbsp;do&nbsp;call&nbsp;set&nbsp;&quot;PP=<span class=c_pvar>%%P</span>P%%&nbsp;&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;PPP=&quot;</span><br>
<span style='color=#000000'>for&nbsp;/l&nbsp;<span class=c_pvar>%%N</span>&nbsp;in&nbsp;(0,1,%per10m%)&nbsp;do&nbsp;call&nbsp;set&nbsp;&quot;PPP=<span class=c_pvar>%%P</span>PP%%*&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;ProgressFormat=%ProgressFormat:[P]=!P!%&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;ProgressFormat=%ProgressFormat:[PP]=!PP!%&quot;</span><br>
<span style='color=#000000'>set&nbsp;&quot;ProgressFormat=%ProgressFormat:[PPP]=!PPP!%&quot;</span><br>
<span style='color=#000000'>title&nbsp;%ProgressFormat%</span><br>
<span style='color=#000000'>EXIT&nbsp;/b</span><br>
      </code></td>
    </tr></table>
</td>
    </tr>
    <tr>
      <td class='title' VALIGN='top'>Output:</td>
      <td class='text'  VALIGN='top'><img src="DtAnimProgress.gif"></td>
    </tr>
  </table>
<br><div class='bot'>
<script type="text/javascript">
    /***********************************************
    * IFrame SSI script II- Copyright Dynamic Drive DHTML code library (http://www.dynamicdrive.com)
    * Visit DynamicDrive.com for hundreds of original DHTML scripts
    * This notice must stay intact for legal use
    ***********************************************/
    
    //Input the IDs of the IFRAMES you wish to dynamically resize to match its content height:
    //Separate each ID with a comma. Examples: ["myframe1", "myframe2"] or ["myframe"] or [] for none:
    var iframeids=["myframe"]
    
    //Should script hide iframe from browsers that don't support this script (non IE5+/NS6+ browsers. Recommended):
    var iframehide="yes"
    
    var getFFVersion=navigator.userAgent.substring(navigator.userAgent.indexOf("Firefox")).split("index.html")[1]
    var FFextraHeight=parseFloat(getFFVersion)>=0.1? 16 : 0 //extra height in px to add to iframe in FireFox 1.0+ browsers
    
    function resizeCaller() {
        var dyniframe=new Array()
        for (i=0; i<iframeids.length; i++){
            if (document.getElementById)
                resizeIframe(iframeids[i])
            //reveal iframe for lower end browsers? (see var above):
            if ((document.all || document.getElementById) && iframehide=="no"){
                var tempobj=document.all? document.all[iframeids[i]] : document.getElementById(iframeids[i])
                tempobj.style.display="block"
            }
        }
    }
    
    function resizeIframe(frameid){
        var currentfr=document.getElementById(frameid)
        if (currentfr && !window.opera){
            currentfr.style.display="block"
            if (currentfr.contentDocument && currentfr.contentDocument.body.offsetHeight) //ns6 syntax
                currentfr.height = currentfr.contentDocument.body.offsetHeight+FFextraHeight; 
            else if (currentfr.Document && currentfr.Document.body.scrollHeight) //ie5+ syntax
                currentfr.height = currentfr.Document.body.scrollHeight;
            if (currentfr.addEventListener)
                currentfr.addEventListener("load", readjustIframe, false)
            else if (currentfr.attachEvent){
                currentfr.detachEvent("onload", readjustIframe) // Bug fix line
                currentfr.attachEvent("onload", readjustIframe)
            }
        }
    }
    
    function readjustIframe(loadevt) {
        var crossevt=(window.event)? event : loadevt
        var iframeroot=(crossevt.currentTarget)? crossevt.currentTarget : crossevt.srcElement
        if (iframeroot)
            resizeIframe(iframeroot.id);
    }
    
    function loadintoIframe(iframeid, url){
        if (document.getElementById)
        document.getElementById(iframeid).src=url
    }
    
    if (window.addEventListener)
        window.addEventListener("load", resizeCaller, false)
    else if (window.attachEvent)
        window.attachEvent("onload", resizeCaller)
    else
        window.onload=resizeCaller
</script>
<iframe id="myframe" src="forum/viewforum4d6b.html?f=3"                  marginwidth="0" marginheight="0" frameborder="0" style="overflow:visible; " height=15000 width="100%" scrolling="no" ALLOWTRANSPARENCY="true"></iframe></div>

</body>

<!-- Mirrored from www.dostips.com/?t=Batch.Progress by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 Oct 2018 03:48:32 GMT -->
</html>
